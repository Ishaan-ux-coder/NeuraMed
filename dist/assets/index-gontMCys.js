(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function F_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sp={exports:{}},Bl={},op={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function AS(){if(Nv)return De;Nv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,R={};function I(O,X,_e){this.props=O,this.context=X,this.refs=R,this.updater=_e||A}I.prototype.isReactComponent={},I.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},I.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function j(){}j.prototype=I.prototype;function U(O,X,_e){this.props=O,this.context=X,this.refs=R,this.updater=_e||A}var q=U.prototype=new j;q.constructor=U,M(q,I.prototype),q.isPureReactComponent=!0;var ee=Array.isArray,ne=Object.prototype.hasOwnProperty,le={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function b(O,X,_e){var Re,Me={},je=null,qe=null;if(X!=null)for(Re in X.ref!==void 0&&(qe=X.ref),X.key!==void 0&&(je=""+X.key),X)ne.call(X,Re)&&!k.hasOwnProperty(Re)&&(Me[Re]=X[Re]);var ze=arguments.length-2;if(ze===1)Me.children=_e;else if(1<ze){for(var Ye=Array(ze),nn=0;nn<ze;nn++)Ye[nn]=arguments[nn+2];Me.children=Ye}if(O&&O.defaultProps)for(Re in ze=O.defaultProps,ze)Me[Re]===void 0&&(Me[Re]=ze[Re]);return{$$typeof:n,type:O,key:je,ref:qe,props:Me,_owner:le.current}}function S(O,X){return{$$typeof:n,type:O.type,key:X,ref:O.ref,props:O.props,_owner:O._owner}}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function V(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(_e){return X[_e]})}var F=/\/+/g;function P(O,X){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):X.toString(36)}function ye(O,X,_e,Re,Me){var je=typeof O;(je==="undefined"||je==="boolean")&&(O=null);var qe=!1;if(O===null)qe=!0;else switch(je){case"string":case"number":qe=!0;break;case"object":switch(O.$$typeof){case n:case e:qe=!0}}if(qe)return qe=O,Me=Me(qe),O=Re===""?"."+P(qe,0):Re,ee(Me)?(_e="",O!=null&&(_e=O.replace(F,"$&/")+"/"),ye(Me,X,_e,"",function(nn){return nn})):Me!=null&&(N(Me)&&(Me=S(Me,_e+(!Me.key||qe&&qe.key===Me.key?"":(""+Me.key).replace(F,"$&/")+"/")+O)),X.push(Me)),1;if(qe=0,Re=Re===""?".":Re+":",ee(O))for(var ze=0;ze<O.length;ze++){je=O[ze];var Ye=Re+P(je,ze);qe+=ye(je,X,_e,Ye,Me)}else if(Ye=E(O),typeof Ye=="function")for(O=Ye.call(O),ze=0;!(je=O.next()).done;)je=je.value,Ye=Re+P(je,ze++),qe+=ye(je,X,_e,Ye,Me);else if(je==="object")throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return qe}function Pe(O,X,_e){if(O==null)return O;var Re=[],Me=0;return ye(O,Re,"","",function(je){return X.call(_e,je,Me++)}),Re}function Ve(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(_e){(O._status===0||O._status===-1)&&(O._status=1,O._result=_e)},function(_e){(O._status===0||O._status===-1)&&(O._status=2,O._result=_e)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Ie={current:null},G={transition:null},Y={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:G,ReactCurrentOwner:le};function J(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:Pe,forEach:function(O,X,_e){Pe(O,function(){X.apply(this,arguments)},_e)},count:function(O){var X=0;return Pe(O,function(){X++}),X},toArray:function(O){return Pe(O,function(X){return X})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},De.Component=I,De.Fragment=t,De.Profiler=s,De.PureComponent=U,De.StrictMode=r,De.Suspense=f,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,De.act=J,De.cloneElement=function(O,X,_e){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Re=M({},O.props),Me=O.key,je=O.ref,qe=O._owner;if(X!=null){if(X.ref!==void 0&&(je=X.ref,qe=le.current),X.key!==void 0&&(Me=""+X.key),O.type&&O.type.defaultProps)var ze=O.type.defaultProps;for(Ye in X)ne.call(X,Ye)&&!k.hasOwnProperty(Ye)&&(Re[Ye]=X[Ye]===void 0&&ze!==void 0?ze[Ye]:X[Ye])}var Ye=arguments.length-2;if(Ye===1)Re.children=_e;else if(1<Ye){ze=Array(Ye);for(var nn=0;nn<Ye;nn++)ze[nn]=arguments[nn+2];Re.children=ze}return{$$typeof:n,type:O.type,key:Me,ref:je,props:Re,_owner:qe}},De.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},De.createElement=b,De.createFactory=function(O){var X=b.bind(null,O);return X.type=O,X},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:d,render:O}},De.isValidElement=N,De.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:Ve}},De.memo=function(O,X){return{$$typeof:p,type:O,compare:X===void 0?null:X}},De.startTransition=function(O){var X=G.transition;G.transition={};try{O()}finally{G.transition=X}},De.unstable_act=J,De.useCallback=function(O,X){return Ie.current.useCallback(O,X)},De.useContext=function(O){return Ie.current.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O){return Ie.current.useDeferredValue(O)},De.useEffect=function(O,X){return Ie.current.useEffect(O,X)},De.useId=function(){return Ie.current.useId()},De.useImperativeHandle=function(O,X,_e){return Ie.current.useImperativeHandle(O,X,_e)},De.useInsertionEffect=function(O,X){return Ie.current.useInsertionEffect(O,X)},De.useLayoutEffect=function(O,X){return Ie.current.useLayoutEffect(O,X)},De.useMemo=function(O,X){return Ie.current.useMemo(O,X)},De.useReducer=function(O,X,_e){return Ie.current.useReducer(O,X,_e)},De.useRef=function(O){return Ie.current.useRef(O)},De.useState=function(O){return Ie.current.useState(O)},De.useSyncExternalStore=function(O,X,_e){return Ie.current.useSyncExternalStore(O,X,_e)},De.useTransition=function(){return Ie.current.useTransition()},De.version="18.3.1",De}var Dv;function Vm(){return Dv||(Dv=1,op.exports=AS()),op.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function kS(){if(Vv)return Bl;Vv=1;var n=Vm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,f,p){var y,x={},E=null,A=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(A=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(x[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)x[y]===void 0&&(x[y]=f[y]);return{$$typeof:e,type:d,key:E,ref:A,props:x,_owner:s.current}}return Bl.Fragment=t,Bl.jsx=l,Bl.jsxs=l,Bl}var Mv;function PS(){return Mv||(Mv=1,sp.exports=kS()),sp.exports}var g=PS(),L=Vm();const Fp=F_(L);var cd={},ap={exports:{}},hn={},lp={exports:{}},up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function RS(){return jv||(jv=1,(function(n){function e(G,Y){var J=G.length;G.push(Y);e:for(;0<J;){var O=J-1>>>1,X=G[O];if(0<s(X,Y))G[O]=Y,G[J]=X,J=O;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],J=G.pop();if(J!==Y){G[0]=J;e:for(var O=0,X=G.length,_e=X>>>1;O<_e;){var Re=2*(O+1)-1,Me=G[Re],je=Re+1,qe=G[je];if(0>s(Me,J))je<X&&0>s(qe,Me)?(G[O]=qe,G[je]=J,O=je):(G[O]=Me,G[Re]=J,O=Re);else if(je<X&&0>s(qe,J))G[O]=qe,G[je]=J,O=je;else break e}}return Y}function s(G,Y){var J=G.sortIndex-Y.sortIndex;return J!==0?J:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();n.unstable_now=function(){return l.now()-d}}var f=[],p=[],y=1,x=null,E=3,A=!1,M=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(G){for(var Y=t(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=G)r(p),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=t(p)}}function ee(G){if(R=!1,q(G),!M)if(t(f)!==null)M=!0,Ve(ne);else{var Y=t(p);Y!==null&&Ie(ee,Y.startTime-G)}}function ne(G,Y){M=!1,R&&(R=!1,j(b),b=-1),A=!0;var J=E;try{for(q(Y),x=t(f);x!==null&&(!(x.expirationTime>Y)||G&&!V());){var O=x.callback;if(typeof O=="function"){x.callback=null,E=x.priorityLevel;var X=O(x.expirationTime<=Y);Y=n.unstable_now(),typeof X=="function"?x.callback=X:x===t(f)&&r(f),q(Y)}else r(f);x=t(f)}if(x!==null)var _e=!0;else{var Re=t(p);Re!==null&&Ie(ee,Re.startTime-Y),_e=!1}return _e}finally{x=null,E=J,A=!1}}var le=!1,k=null,b=-1,S=5,N=-1;function V(){return!(n.unstable_now()-N<S)}function F(){if(k!==null){var G=n.unstable_now();N=G;var Y=!0;try{Y=k(!0,G)}finally{Y?P():(le=!1,k=null)}}else le=!1}var P;if(typeof U=="function")P=function(){U(F)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Pe=ye.port2;ye.port1.onmessage=F,P=function(){Pe.postMessage(null)}}else P=function(){I(F,0)};function Ve(G){k=G,le||(le=!0,P())}function Ie(G,Y){b=I(function(){G(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){M||A||(M=!0,Ve(ne))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(G){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var J=E;E=Y;try{return G()}finally{E=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=E;E=G;try{return Y()}finally{E=J}},n.unstable_scheduleCallback=function(G,Y,J){var O=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?O+J:O):J=O,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=J+X,G={id:y++,callback:Y,priorityLevel:G,startTime:J,expirationTime:X,sortIndex:-1},J>O?(G.sortIndex=J,e(p,G),t(f)===null&&G===t(p)&&(R?(j(b),b=-1):R=!0,Ie(ee,J-O))):(G.sortIndex=X,e(f,G),M||A||(M=!0,Ve(ne))),G},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(G){var Y=E;return function(){var J=E;E=Y;try{return G.apply(this,arguments)}finally{E=J}}}})(up)),up}var Lv;function NS(){return Lv||(Lv=1,lp.exports=RS()),lp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function DS(){if(Ov)return hn;Ov=1;var n=Vm(),e=NS();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function E(i){return f.call(x,i)?!0:f.call(y,i)?!1:p.test(i)?x[i]=!0:(y[i]=!0,!1)}function A(i,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function M(i,o,u,h){if(o===null||typeof o>"u"||A(i,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(i,o,u,h,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){I[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];I[o]=new R(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){I[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){I[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){I[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){I[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){I[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){I[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){I[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(j,U);I[o]=new R(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(j,U);I[o]=new R(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(j,U);I[o]=new R(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){I[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),I.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){I[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,o,u,h){var m=I.hasOwnProperty(o)?I[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(M(o,u,m,h)&&(u=null),h||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?i.setAttributeNS(h,o,u):i.setAttribute(o,u))))}var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),le=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),G=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var J=Object.assign,O;function X(i){if(O===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);O=o&&o[1]||""}return`
`+O+i}var _e=!1;function Re(i,o){if(!i||_e)return"";_e=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var h=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){h=K}i.call(o.prototype)}else{try{throw Error()}catch(K){h=K}i()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=h.stack.split(`
`),T=m.length-1,D=v.length-1;1<=T&&0<=D&&m[T]!==v[D];)D--;for(;1<=T&&0<=D;T--,D--)if(m[T]!==v[D]){if(T!==1||D!==1)do if(T--,D--,0>D||m[T]!==v[D]){var B=`
`+m[T].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=T&&0<=D);break}}}finally{_e=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?X(i):""}function Me(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function je(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case le:return"Portal";case S:return"Profiler";case b:return"StrictMode";case P:return"Suspense";case ye:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Pe:return o=i.displayName||null,o!==null?o:je(i.type)||"Memo";case Ve:o=i._payload,i=i._init;try{return je(i(o))}catch{}}return null}function qe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ze(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function nn(i){var o=Ye(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function mo(i){i._valueTracker||(i._valueTracker=nn(i))}function qa(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return i&&(h=Ye(i)?i.checked?"true":"false":i.value),i=h,i!==u?(o.setValue(i),!0):!1}function gi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function go(i,o){var u=o.checked;return J({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Qu(i,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=ze(o.value!=null?o.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function yo(i,o){o=o.checked,o!=null&&q(i,"checked",o,!1)}function xs(i,o){yo(i,o);var u=ze(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Et(i,o.type,u):o.hasOwnProperty("defaultValue")&&Et(i,o.type,ze(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ka(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Et(i,o,u){(o!=="number"||gi(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var mt=Array.isArray;function Bn(i,o,u,h){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&h&&(i[u].defaultSelected=!0)}else{for(u=""+ze(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Qa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ya(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(mt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ze(u)}}function Yu(i,o){var u=ze(o.value),h=ze(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function yi(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Xa(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Xa(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var vi,Xu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,h,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=vi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function _s(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ju=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(i){Ju.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),wi[o]=wi[i]})});function xi(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||wi.hasOwnProperty(i)&&wi[i]?(""+o).trim():o+"px"}function wo(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=xi(u,o[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,m):i[u]=m}}var Ja=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zn(i,o){if(o){if(Ja[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function xo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _i=null;function _o(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jr=null,Lr=null,ht=null;function Za(i){if(i=Sl(i)){if(typeof jr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Ic(o),jr(i.stateNode,i.type,o))}}function Ei(i){Lr?ht?ht.push(i):ht=[i]:Lr=i}function Ti(){if(Lr){var i=Lr,o=ht;if(ht=Lr=null,Za(i),o)for(i=0;i<o.length;i++)Za(o[i])}}function Zu(i,o){return i(o)}function ec(){}var rr=!1;function tc(i,o,u){if(rr)return i(o,u);rr=!0;try{return Zu(i,o,u)}finally{rr=!1,(Lr!==null||ht!==null)&&(ec(),Ti())}}function Es(i,o){var u=i.stateNode;if(u===null)return null;var h=Ic(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var bi=!1;if(d)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){bi=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{bi=!1}function nc(i,o,u,h,m,v,T,D,B){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(se){this.onError(se)}}var Or=!1,ir=null,Eo=!1,Cn=null,rc={onError:function(i){Or=!0,ir=i}};function ic(i,o,u,h,m,v,T,D,B){Or=!1,ir=null,nc.apply(rc,arguments)}function el(i,o,u,h,m,v,T,D,B){if(ic.apply(this,arguments),Or){if(Or){var K=ir;Or=!1,ir=null}else throw Error(t(198));Eo||(Eo=!0,Cn=K)}}function Hn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function tl(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function sc(i){if(Hn(i)!==i)throw Error(t(188))}function oc(i){var o=i.alternate;if(!o){if(o=Hn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,h=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return sc(m),i;if(v===h)return sc(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==h.return)u=m,h=v;else{for(var T=!1,D=m.child;D;){if(D===u){T=!0,u=m,h=v;break}if(D===h){T=!0,h=m,u=v;break}D=D.sibling}if(!T){for(D=v.child;D;){if(D===u){T=!0,u=v,h=m;break}if(D===h){T=!0,h=v,u=m;break}D=D.sibling}if(!T)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function ac(i){return i=oc(i),i!==null?Ts(i):null}function Ts(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ts(i);if(o!==null)return o;i=i.sibling}return null}var nl=e.unstable_scheduleCallback,To=e.unstable_cancelCallback,bs=e.unstable_shouldYield,Fr=e.unstable_requestPaint,et=e.unstable_now,Mh=e.unstable_getCurrentPriorityLevel,bo=e.unstable_ImmediatePriority,rl=e.unstable_UserBlockingPriority,Is=e.unstable_NormalPriority,il=e.unstable_LowPriority,Io=e.unstable_IdlePriority,Ss=null,mn=null;function lc(i){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Ss,i,void 0,(i.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:Cs,sr=Math.log,An=Math.LN2;function Cs(i){return i>>>=0,i===0?32:31-(sr(i)/An|0)|0}var or=64,Si=4194304;function Ge(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ur(i,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,m=i.suspendedLanes,v=i.pingedLanes,T=u&268435455;if(T!==0){var D=T&~m;D!==0?h=Ge(D):(v&=T,v!==0&&(h=Ge(v)))}else T=u&~m,T!==0?h=Ge(T):v!==0&&(h=Ge(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)u=31-gn(o),m=1<<u,h|=i[u],o&=~m;return h}function As(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(i,o){for(var u=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-gn(v),D=1<<T,B=m[T];B===-1?((D&u)===0||(D&h)!==0)&&(m[T]=As(D,o)):B<=o&&(i.expiredLanes|=D),v&=~D}}function sl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ol(){var i=or;return or<<=1,(or&4194240)===0&&(or=64),i}function al(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ps(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-gn(o),i[o]=u}function jh(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-gn(u),v=1<<m;o[m]=0,h[m]=-1,i[m]=-1,u&=~v}}function ll(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var h=31-gn(u),m=1<<h;m&o|i[h]&o&&(i[h]|=o),u&=~m}}var Ue=0;function ar(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ul,So,cl,dl,hl,lr=!1,Co=[],ur=null,cr=null,jt=null,Rs=new Map,Br=new Map,yn=[],uc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ci(i,o){switch(i){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Rs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(o.pointerId)}}function $n(i,o,u,h,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Sl(o),o!==null&&So(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function cc(i,o,u,h,m){switch(o){case"focusin":return ur=$n(ur,i,o,u,h,m),!0;case"dragenter":return cr=$n(cr,i,o,u,h,m),!0;case"mouseover":return jt=$n(jt,i,o,u,h,m),!0;case"pointerover":var v=m.pointerId;return Rs.set(v,$n(Rs.get(v)||null,i,o,u,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Br.set(v,$n(Br.get(v)||null,i,o,u,h,m)),!0}return!1}function Ao(i){var o=Ms(i.target);if(o!==null){var u=Hn(o);if(u!==null){if(o=u.tag,o===13){if(o=tl(u),o!==null){i.blockedOn=o,hl(i.priority,function(){cl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xe(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=ko(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);_i=h,u.target.dispatchEvent(h),_i=null}else return o=Sl(u),o!==null&&So(o),i.blockedOn=u,!1;o.shift()}return!0}function dc(i,o,u){Xe(i)&&u.delete(o)}function Lh(){lr=!1,ur!==null&&Xe(ur)&&(ur=null),cr!==null&&Xe(cr)&&(cr=null),jt!==null&&Xe(jt)&&(jt=null),Rs.forEach(dc),Br.forEach(dc)}function Ai(i,o){i.blockedOn===o&&(i.blockedOn=null,lr||(lr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lh)))}function ki(i){function o(m){return Ai(m,i)}if(0<Co.length){Ai(Co[0],i);for(var u=1;u<Co.length;u++){var h=Co[u];h.blockedOn===i&&(h.blockedOn=null)}}for(ur!==null&&Ai(ur,i),cr!==null&&Ai(cr,i),jt!==null&&Ai(jt,i),Rs.forEach(o),Br.forEach(o),u=0;u<yn.length;u++)h=yn[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<yn.length&&(u=yn[0],u.blockedOn===null);)Ao(u),u.blockedOn===null&&yn.shift()}var zr=ee.ReactCurrentBatchConfig,Hr=!0;function dr(i,o,u,h){var m=Ue,v=zr.transition;zr.transition=null;try{Ue=1,fl(i,o,u,h)}finally{Ue=m,zr.transition=v}}function hc(i,o,u,h){var m=Ue,v=zr.transition;zr.transition=null;try{Ue=4,fl(i,o,u,h)}finally{Ue=m,zr.transition=v}}function fl(i,o,u,h){if(Hr){var m=ko(i,o,u,h);if(m===null)Kh(i,o,h,hr,u),Ci(i,h);else if(cc(m,i,o,u,h))h.stopPropagation();else if(Ci(i,h),o&4&&-1<uc.indexOf(i)){for(;m!==null;){var v=Sl(m);if(v!==null&&ul(v),v=ko(i,o,u,h),v===null&&Kh(i,o,h,hr,u),v===m)break;m=v}m!==null&&h.stopPropagation()}else Kh(i,o,h,null,u)}}var hr=null;function ko(i,o,u,h){if(hr=null,i=_o(h),i=Ms(i),i!==null)if(o=Hn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=tl(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return hr=i,null}function Po(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mh()){case bo:return 1;case rl:return 4;case Is:case il:return 16;case Io:return 536870912;default:return 16}default:return 16}}var vn=null,Ro=null,$r=null;function fc(){if($r)return $r;var i,o=Ro,u=o.length,h,m="value"in vn?vn.value:vn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var T=u-i;for(h=1;h<=T&&o[u-h]===m[v-h];h++);return $r=m.slice(i,1<h?1-h:void 0)}function Ns(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function fr(){return!0}function pl(){return!1}function Wt(i){function o(u,h,m,v,T){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(u=i[D],this[D]=u?u(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?fr:pl,this.isPropagationStopped=pl,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),o}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Wt(pr),Pi=J({},pr,{view:0,detail:0}),No=Wt(Pi),Do,Vo,wn,Vs=J({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ae,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wn&&(wn&&i.type==="mousemove"?(Do=i.screenX-wn.screenX,Vo=i.screenY-wn.screenY):Vo=Do=0,wn=i),Do)},movementY:function(i){return"movementY"in i?i.movementY:Vo}}),ml=Wt(Vs),pc=J({},Vs,{dataTransfer:0}),mc=Wt(pc),Mo=J({},Pi,{relatedTarget:0}),Lt=Wt(Mo),gc=J({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),yc=Wt(gc),Ri=J({},pr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c=Wt(Ri),w=J({},pr,{data:0}),_=Wt(w),C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ue(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Q[i])?!!o[i]:!1}function Ae(){return ue}var gt=J({},Pi,{key:function(i){if(i.key){var o=C[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ns(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ae,charCode:function(i){return i.type==="keypress"?Ns(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ns(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qe=Wt(gt),Tt=J({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xn=Wt(Tt),Wr=J({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ae}),mr=Wt(Wr),gr=J({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),jo=Wt(gr),gl=J({},Vs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),EI=Wt(gl),TI=[9,13,27,32],Oh=d&&"CompositionEvent"in window,yl=null;d&&"documentMode"in document&&(yl=document.documentMode);var bI=d&&"TextEvent"in window&&!yl,by=d&&(!Oh||yl&&8<yl&&11>=yl),Iy=" ",Sy=!1;function Cy(i,o){switch(i){case"keyup":return TI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ay(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lo=!1;function II(i,o){switch(i){case"compositionend":return Ay(o);case"keypress":return o.which!==32?null:(Sy=!0,Iy);case"textInput":return i=o.data,i===Iy&&Sy?null:i;default:return null}}function SI(i,o){if(Lo)return i==="compositionend"||!Oh&&Cy(i,o)?(i=fc(),$r=Ro=vn=null,Lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return by&&o.locale!=="ko"?null:o.data;default:return null}}var CI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!CI[i.type]:o==="textarea"}function Py(i,o,u,h){Ei(h),o=Ec(o,"onChange"),0<o.length&&(u=new Ds("onChange","change",null,u,h),i.push({event:u,listeners:o}))}var vl=null,wl=null;function AI(i){Ky(i,0)}function vc(i){var o=zo(i);if(qa(o))return i}function kI(i,o){if(i==="change")return o}var Ry=!1;if(d){var Fh;if(d){var Uh="oninput"in document;if(!Uh){var Ny=document.createElement("div");Ny.setAttribute("oninput","return;"),Uh=typeof Ny.oninput=="function"}Fh=Uh}else Fh=!1;Ry=Fh&&(!document.documentMode||9<document.documentMode)}function Dy(){vl&&(vl.detachEvent("onpropertychange",Vy),wl=vl=null)}function Vy(i){if(i.propertyName==="value"&&vc(wl)){var o=[];Py(o,wl,i,_o(i)),tc(AI,o)}}function PI(i,o,u){i==="focusin"?(Dy(),vl=o,wl=u,vl.attachEvent("onpropertychange",Vy)):i==="focusout"&&Dy()}function RI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vc(wl)}function NI(i,o){if(i==="click")return vc(o)}function DI(i,o){if(i==="input"||i==="change")return vc(o)}function VI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Wn=typeof Object.is=="function"?Object.is:VI;function xl(i,o){if(Wn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(o,m)||!Wn(i[m],o[m]))return!1}return!0}function My(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jy(i,o){var u=My(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=o&&h>=o)return{node:u,offset:o-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=My(u)}}function Ly(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ly(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Oy(){for(var i=window,o=gi();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=gi(i.document)}return o}function Bh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function MI(i){var o=Oy(),u=i.focusedElem,h=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Ly(u.ownerDocument.documentElement,u)){if(h!==null&&Bh(u)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!i.extend&&v>h&&(m=h,h=v,v=m),m=jy(u,v);var T=jy(u,h);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var jI=d&&"documentMode"in document&&11>=document.documentMode,Oo=null,zh=null,_l=null,Hh=!1;function Fy(i,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Hh||Oo==null||Oo!==gi(h)||(h=Oo,"selectionStart"in h&&Bh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_l&&xl(_l,h)||(_l=h,h=Ec(zh,"onSelect"),0<h.length&&(o=new Ds("onSelect","select",null,o,u),i.push({event:o,listeners:h}),o.target=Oo)))}function wc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Fo={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},$h={},Uy={};d&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function xc(i){if($h[i])return $h[i];if(!Fo[i])return i;var o=Fo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Uy)return $h[i]=o[u];return i}var By=xc("animationend"),zy=xc("animationiteration"),Hy=xc("animationstart"),$y=xc("transitionend"),Wy=new Map,Gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(i,o){Wy.set(i,o),a(o,[i])}for(var Wh=0;Wh<Gy.length;Wh++){var Gh=Gy[Wh],LI=Gh.toLowerCase(),OI=Gh[0].toUpperCase()+Gh.slice(1);Ni(LI,"on"+OI)}Ni(By,"onAnimationEnd"),Ni(zy,"onAnimationIteration"),Ni(Hy,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni($y,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FI=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function qy(i,o,u){var h=i.type||"unknown-event";i.currentTarget=u,el(h,o,void 0,i),i.currentTarget=null}function Ky(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var T=h.length-1;0<=T;T--){var D=h[T],B=D.instance,K=D.currentTarget;if(D=D.listener,B!==v&&m.isPropagationStopped())break e;qy(m,D,K),v=B}else for(T=0;T<h.length;T++){if(D=h[T],B=D.instance,K=D.currentTarget,D=D.listener,B!==v&&m.isPropagationStopped())break e;qy(m,D,K),v=B}}}if(Eo)throw i=Cn,Eo=!1,Cn=null,i}function tt(i,o){var u=o[ef];u===void 0&&(u=o[ef]=new Set);var h=i+"__bubble";u.has(h)||(Qy(o,i,2,!1),u.add(h))}function qh(i,o,u){var h=0;o&&(h|=4),Qy(u,i,h,o)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Tl(i){if(!i[_c]){i[_c]=!0,r.forEach(function(u){u!=="selectionchange"&&(FI.has(u)||qh(u,!1,i),qh(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[_c]||(o[_c]=!0,qh("selectionchange",!1,o))}}function Qy(i,o,u,h){switch(Po(o)){case 1:var m=dr;break;case 4:m=hc;break;default:m=fl}u=m.bind(null,o,u,i),m=void 0,!bi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function Kh(i,o,u,h,m){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var D=h.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var B=T.tag;if((B===3||B===4)&&(B=T.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;T=T.return}for(;D!==null;){if(T=Ms(D),T===null)return;if(B=T.tag,B===5||B===6){h=v=T;continue e}D=D.parentNode}}h=h.return}tc(function(){var K=v,se=_o(u),oe=[];e:{var ie=Wy.get(i);if(ie!==void 0){var de=Ds,pe=i;switch(i){case"keypress":if(Ns(u)===0)break e;case"keydown":case"keyup":de=Qe;break;case"focusin":pe="focus",de=Lt;break;case"focusout":pe="blur",de=Lt;break;case"beforeblur":case"afterblur":de=Lt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=mr;break;case By:case zy:case Hy:de=yc;break;case $y:de=jo;break;case"scroll":de=No;break;case"wheel":de=EI;break;case"copy":case"cut":case"paste":de=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=xn}var me=(o&4)!==0,yt=!me&&i==="scroll",H=me?ie!==null?ie+"Capture":null:ie;me=[];for(var z=K,W;z!==null;){W=z;var ae=W.stateNode;if(W.tag===5&&ae!==null&&(W=ae,H!==null&&(ae=Es(z,H),ae!=null&&me.push(bl(z,ae,W)))),yt)break;z=z.return}0<me.length&&(ie=new de(ie,pe,null,u,se),oe.push({event:ie,listeners:me}))}}if((o&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ie&&u!==_i&&(pe=u.relatedTarget||u.fromElement)&&(Ms(pe)||pe[Gr]))break e;if((de||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,de?(pe=u.relatedTarget||u.toElement,de=K,pe=pe?Ms(pe):null,pe!==null&&(yt=Hn(pe),pe!==yt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=K),de!==pe)){if(me=ml,ae="onMouseLeave",H="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(me=xn,ae="onPointerLeave",H="onPointerEnter",z="pointer"),yt=de==null?ie:zo(de),W=pe==null?ie:zo(pe),ie=new me(ae,z+"leave",de,u,se),ie.target=yt,ie.relatedTarget=W,ae=null,Ms(se)===K&&(me=new me(H,z+"enter",pe,u,se),me.target=W,me.relatedTarget=yt,ae=me),yt=ae,de&&pe)t:{for(me=de,H=pe,z=0,W=me;W;W=Uo(W))z++;for(W=0,ae=H;ae;ae=Uo(ae))W++;for(;0<z-W;)me=Uo(me),z--;for(;0<W-z;)H=Uo(H),W--;for(;z--;){if(me===H||H!==null&&me===H.alternate)break t;me=Uo(me),H=Uo(H)}me=null}else me=null;de!==null&&Yy(oe,ie,de,me,!1),pe!==null&&yt!==null&&Yy(oe,yt,pe,me,!0)}}e:{if(ie=K?zo(K):window,de=ie.nodeName&&ie.nodeName.toLowerCase(),de==="select"||de==="input"&&ie.type==="file")var ge=kI;else if(ky(ie))if(Ry)ge=DI;else{ge=RI;var we=PI}else(de=ie.nodeName)&&de.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ge=NI);if(ge&&(ge=ge(i,K))){Py(oe,ge,u,se);break e}we&&we(i,ie,K),i==="focusout"&&(we=ie._wrapperState)&&we.controlled&&ie.type==="number"&&Et(ie,"number",ie.value)}switch(we=K?zo(K):window,i){case"focusin":(ky(we)||we.contentEditable==="true")&&(Oo=we,zh=K,_l=null);break;case"focusout":_l=zh=Oo=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Fy(oe,u,se);break;case"selectionchange":if(jI)break;case"keydown":case"keyup":Fy(oe,u,se)}var xe;if(Oh)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Lo?Cy(i,u)&&(Se="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Se="onCompositionStart");Se&&(by&&u.locale!=="ko"&&(Lo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Lo&&(xe=fc()):(vn=se,Ro="value"in vn?vn.value:vn.textContent,Lo=!0)),we=Ec(K,Se),0<we.length&&(Se=new _(Se,i,null,u,se),oe.push({event:Se,listeners:we}),xe?Se.data=xe:(xe=Ay(u),xe!==null&&(Se.data=xe)))),(xe=bI?II(i,u):SI(i,u))&&(K=Ec(K,"onBeforeInput"),0<K.length&&(se=new _("onBeforeInput","beforeinput",null,u,se),oe.push({event:se,listeners:K}),se.data=xe))}Ky(oe,o)})}function bl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Ec(i,o){for(var u=o+"Capture",h=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Es(i,u),v!=null&&h.unshift(bl(i,v,m)),v=Es(i,o),v!=null&&h.push(bl(i,v,m))),i=i.return}return h}function Uo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Yy(i,o,u,h,m){for(var v=o._reactName,T=[];u!==null&&u!==h;){var D=u,B=D.alternate,K=D.stateNode;if(B!==null&&B===h)break;D.tag===5&&K!==null&&(D=K,m?(B=Es(u,v),B!=null&&T.unshift(bl(u,B,D))):m||(B=Es(u,v),B!=null&&T.push(bl(u,B,D)))),u=u.return}T.length!==0&&i.push({event:o,listeners:T})}var UI=/\r\n?/g,BI=/\u0000|\uFFFD/g;function Xy(i){return(typeof i=="string"?i:""+i).replace(UI,`
`).replace(BI,"")}function Tc(i,o,u){if(o=Xy(o),Xy(i)!==o&&u)throw Error(t(425))}function bc(){}var Qh=null,Yh=null;function Xh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,zI=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,HI=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(i){return Jy.resolve(null).then(i).catch($I)}:Jh;function $I(i){setTimeout(function(){throw i})}function Zh(i,o){var u=o,h=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){i.removeChild(m),ki(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);ki(o)}function Di(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Zy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),yr="__reactFiber$"+Bo,Il="__reactProps$"+Bo,Gr="__reactContainer$"+Bo,ef="__reactEvents$"+Bo,WI="__reactListeners$"+Bo,GI="__reactHandles$"+Bo;function Ms(i){var o=i[yr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Gr]||u[yr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Zy(i);i!==null;){if(u=i[yr])return u;i=Zy(i)}return o}i=u,u=i.parentNode}return null}function Sl(i){return i=i[yr]||i[Gr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function zo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ic(i){return i[Il]||null}var tf=[],Ho=-1;function Vi(i){return{current:i}}function nt(i){0>Ho||(i.current=tf[Ho],tf[Ho]=null,Ho--)}function Je(i,o){Ho++,tf[Ho]=i.current,i.current=o}var Mi={},Gt=Vi(Mi),an=Vi(!1),js=Mi;function $o(i,o){var u=i.type.contextTypes;if(!u)return Mi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function ln(i){return i=i.childContextTypes,i!=null}function Sc(){nt(an),nt(Gt)}function e0(i,o,u){if(Gt.current!==Mi)throw Error(t(168));Je(Gt,o),Je(an,u)}function t0(i,o,u){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,qe(i)||"Unknown",m));return J({},u,h)}function Cc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Mi,js=Gt.current,Je(Gt,i),Je(an,an.current),!0}function n0(i,o,u){var h=i.stateNode;if(!h)throw Error(t(169));u?(i=t0(i,o,js),h.__reactInternalMemoizedMergedChildContext=i,nt(an),nt(Gt),Je(Gt,i)):nt(an),Je(an,u)}var qr=null,Ac=!1,nf=!1;function r0(i){qr===null?qr=[i]:qr.push(i)}function qI(i){Ac=!0,r0(i)}function ji(){if(!nf&&qr!==null){nf=!0;var i=0,o=Ue;try{var u=qr;for(Ue=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}qr=null,Ac=!1}catch(m){throw qr!==null&&(qr=qr.slice(i+1)),nl(bo,ji),m}finally{Ue=o,nf=!1}}return null}var Wo=[],Go=0,kc=null,Pc=0,kn=[],Pn=0,Ls=null,Kr=1,Qr="";function Os(i,o){Wo[Go++]=Pc,Wo[Go++]=kc,kc=i,Pc=o}function i0(i,o,u){kn[Pn++]=Kr,kn[Pn++]=Qr,kn[Pn++]=Ls,Ls=i;var h=Kr;i=Qr;var m=32-gn(h)-1;h&=~(1<<m),u+=1;var v=32-gn(o)+m;if(30<v){var T=m-m%5;v=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Kr=1<<32-gn(o)+m|u<<m|h,Qr=v+i}else Kr=1<<v|u<<m|h,Qr=i}function rf(i){i.return!==null&&(Os(i,1),i0(i,1,0))}function sf(i){for(;i===kc;)kc=Wo[--Go],Wo[Go]=null,Pc=Wo[--Go],Wo[Go]=null;for(;i===Ls;)Ls=kn[--Pn],kn[Pn]=null,Qr=kn[--Pn],kn[Pn]=null,Kr=kn[--Pn],kn[Pn]=null}var _n=null,En=null,ot=!1,Gn=null;function s0(i,o){var u=Vn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function o0(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,_n=i,En=Di(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,_n=i,En=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ls!==null?{id:Kr,overflow:Qr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Vn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,_n=i,En=null,!0):!1;default:return!1}}function of(i){return(i.mode&1)!==0&&(i.flags&128)===0}function af(i){if(ot){var o=En;if(o){var u=o;if(!o0(i,o)){if(of(i))throw Error(t(418));o=Di(u.nextSibling);var h=_n;o&&o0(i,o)?s0(h,u):(i.flags=i.flags&-4097|2,ot=!1,_n=i)}}else{if(of(i))throw Error(t(418));i.flags=i.flags&-4097|2,ot=!1,_n=i}}}function a0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;_n=i}function Rc(i){if(i!==_n)return!1;if(!ot)return a0(i),ot=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Xh(i.type,i.memoizedProps)),o&&(o=En)){if(of(i))throw l0(),Error(t(418));for(;o;)s0(i,o),o=Di(o.nextSibling)}if(a0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){En=Di(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}En=null}}else En=_n?Di(i.stateNode.nextSibling):null;return!0}function l0(){for(var i=En;i;)i=Di(i.nextSibling)}function qo(){En=_n=null,ot=!1}function lf(i){Gn===null?Gn=[i]:Gn.push(i)}var KI=ee.ReactCurrentBatchConfig;function Cl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,i));var m=h,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var D=m.refs;T===null?delete D[v]:D[v]=T},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Nc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function u0(i){var o=i._init;return o(i._payload)}function c0(i){function o(H,z){if(i){var W=H.deletions;W===null?(H.deletions=[z],H.flags|=16):W.push(z)}}function u(H,z){if(!i)return null;for(;z!==null;)o(H,z),z=z.sibling;return null}function h(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function m(H,z){return H=$i(H,z),H.index=0,H.sibling=null,H}function v(H,z,W){return H.index=W,i?(W=H.alternate,W!==null?(W=W.index,W<z?(H.flags|=2,z):W):(H.flags|=2,z)):(H.flags|=1048576,z)}function T(H){return i&&H.alternate===null&&(H.flags|=2),H}function D(H,z,W,ae){return z===null||z.tag!==6?(z=Zf(W,H.mode,ae),z.return=H,z):(z=m(z,W),z.return=H,z)}function B(H,z,W,ae){var ge=W.type;return ge===k?se(H,z,W.props.children,ae,W.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ve&&u0(ge)===z.type)?(ae=m(z,W.props),ae.ref=Cl(H,z,W),ae.return=H,ae):(ae=nd(W.type,W.key,W.props,null,H.mode,ae),ae.ref=Cl(H,z,W),ae.return=H,ae)}function K(H,z,W,ae){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=ep(W,H.mode,ae),z.return=H,z):(z=m(z,W.children||[]),z.return=H,z)}function se(H,z,W,ae,ge){return z===null||z.tag!==7?(z=Gs(W,H.mode,ae,ge),z.return=H,z):(z=m(z,W),z.return=H,z)}function oe(H,z,W){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Zf(""+z,H.mode,W),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ne:return W=nd(z.type,z.key,z.props,null,H.mode,W),W.ref=Cl(H,null,z),W.return=H,W;case le:return z=ep(z,H.mode,W),z.return=H,z;case Ve:var ae=z._init;return oe(H,ae(z._payload),W)}if(mt(z)||Y(z))return z=Gs(z,H.mode,W,null),z.return=H,z;Nc(H,z)}return null}function ie(H,z,W,ae){var ge=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ge!==null?null:D(H,z,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ne:return W.key===ge?B(H,z,W,ae):null;case le:return W.key===ge?K(H,z,W,ae):null;case Ve:return ge=W._init,ie(H,z,ge(W._payload),ae)}if(mt(W)||Y(W))return ge!==null?null:se(H,z,W,ae,null);Nc(H,W)}return null}function de(H,z,W,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(W)||null,D(z,H,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ne:return H=H.get(ae.key===null?W:ae.key)||null,B(z,H,ae,ge);case le:return H=H.get(ae.key===null?W:ae.key)||null,K(z,H,ae,ge);case Ve:var we=ae._init;return de(H,z,W,we(ae._payload),ge)}if(mt(ae)||Y(ae))return H=H.get(W)||null,se(z,H,ae,ge,null);Nc(z,ae)}return null}function pe(H,z,W,ae){for(var ge=null,we=null,xe=z,Se=z=0,Vt=null;xe!==null&&Se<W.length;Se++){xe.index>Se?(Vt=xe,xe=null):Vt=xe.sibling;var $e=ie(H,xe,W[Se],ae);if($e===null){xe===null&&(xe=Vt);break}i&&xe&&$e.alternate===null&&o(H,xe),z=v($e,z,Se),we===null?ge=$e:we.sibling=$e,we=$e,xe=Vt}if(Se===W.length)return u(H,xe),ot&&Os(H,Se),ge;if(xe===null){for(;Se<W.length;Se++)xe=oe(H,W[Se],ae),xe!==null&&(z=v(xe,z,Se),we===null?ge=xe:we.sibling=xe,we=xe);return ot&&Os(H,Se),ge}for(xe=h(H,xe);Se<W.length;Se++)Vt=de(xe,H,Se,W[Se],ae),Vt!==null&&(i&&Vt.alternate!==null&&xe.delete(Vt.key===null?Se:Vt.key),z=v(Vt,z,Se),we===null?ge=Vt:we.sibling=Vt,we=Vt);return i&&xe.forEach(function(Wi){return o(H,Wi)}),ot&&Os(H,Se),ge}function me(H,z,W,ae){var ge=Y(W);if(typeof ge!="function")throw Error(t(150));if(W=ge.call(W),W==null)throw Error(t(151));for(var we=ge=null,xe=z,Se=z=0,Vt=null,$e=W.next();xe!==null&&!$e.done;Se++,$e=W.next()){xe.index>Se?(Vt=xe,xe=null):Vt=xe.sibling;var Wi=ie(H,xe,$e.value,ae);if(Wi===null){xe===null&&(xe=Vt);break}i&&xe&&Wi.alternate===null&&o(H,xe),z=v(Wi,z,Se),we===null?ge=Wi:we.sibling=Wi,we=Wi,xe=Vt}if($e.done)return u(H,xe),ot&&Os(H,Se),ge;if(xe===null){for(;!$e.done;Se++,$e=W.next())$e=oe(H,$e.value,ae),$e!==null&&(z=v($e,z,Se),we===null?ge=$e:we.sibling=$e,we=$e);return ot&&Os(H,Se),ge}for(xe=h(H,xe);!$e.done;Se++,$e=W.next())$e=de(xe,H,Se,$e.value,ae),$e!==null&&(i&&$e.alternate!==null&&xe.delete($e.key===null?Se:$e.key),z=v($e,z,Se),we===null?ge=$e:we.sibling=$e,we=$e);return i&&xe.forEach(function(CS){return o(H,CS)}),ot&&Os(H,Se),ge}function yt(H,z,W,ae){if(typeof W=="object"&&W!==null&&W.type===k&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ne:e:{for(var ge=W.key,we=z;we!==null;){if(we.key===ge){if(ge=W.type,ge===k){if(we.tag===7){u(H,we.sibling),z=m(we,W.props.children),z.return=H,H=z;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ve&&u0(ge)===we.type){u(H,we.sibling),z=m(we,W.props),z.ref=Cl(H,we,W),z.return=H,H=z;break e}u(H,we);break}else o(H,we);we=we.sibling}W.type===k?(z=Gs(W.props.children,H.mode,ae,W.key),z.return=H,H=z):(ae=nd(W.type,W.key,W.props,null,H.mode,ae),ae.ref=Cl(H,z,W),ae.return=H,H=ae)}return T(H);case le:e:{for(we=W.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){u(H,z.sibling),z=m(z,W.children||[]),z.return=H,H=z;break e}else{u(H,z);break}else o(H,z);z=z.sibling}z=ep(W,H.mode,ae),z.return=H,H=z}return T(H);case Ve:return we=W._init,yt(H,z,we(W._payload),ae)}if(mt(W))return pe(H,z,W,ae);if(Y(W))return me(H,z,W,ae);Nc(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,z!==null&&z.tag===6?(u(H,z.sibling),z=m(z,W),z.return=H,H=z):(u(H,z),z=Zf(W,H.mode,ae),z.return=H,H=z),T(H)):u(H,z)}return yt}var Ko=c0(!0),d0=c0(!1),Dc=Vi(null),Vc=null,Qo=null,uf=null;function cf(){uf=Qo=Vc=null}function df(i){var o=Dc.current;nt(Dc),i._currentValue=o}function hf(i,o,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===u)break;i=i.return}}function Yo(i,o){Vc=i,uf=Qo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(un=!0),i.firstContext=null)}function Rn(i){var o=i._currentValue;if(uf!==i)if(i={context:i,memoizedValue:o,next:null},Qo===null){if(Vc===null)throw Error(t(308));Qo=i,Vc.dependencies={lanes:0,firstContext:i}}else Qo=Qo.next=i;return o}var Fs=null;function ff(i){Fs===null?Fs=[i]:Fs.push(i)}function h0(i,o,u,h){var m=o.interleaved;return m===null?(u.next=u,ff(o)):(u.next=m.next,m.next=u),o.interleaved=u,Yr(i,h)}function Yr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Li=!1;function pf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Xr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Oi(i,o,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Yr(i,u)}return m=h.interleaved,m===null?(o.next=o,ff(h)):(o.next=m.next,m.next=o),h.interleaved=o,Yr(i,u)}function Mc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,ll(i,u)}}function p0(i,o){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function jc(i,o,u,h){var m=i.updateQueue;Li=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var B=D,K=B.next;B.next=null,T===null?v=K:T.next=K,T=B;var se=i.alternate;se!==null&&(se=se.updateQueue,D=se.lastBaseUpdate,D!==T&&(D===null?se.firstBaseUpdate=K:D.next=K,se.lastBaseUpdate=B))}if(v!==null){var oe=m.baseState;T=0,se=K=B=null,D=v;do{var ie=D.lane,de=D.eventTime;if((h&ie)===ie){se!==null&&(se=se.next={eventTime:de,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var pe=i,me=D;switch(ie=o,de=u,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){oe=pe.call(de,oe,ie);break e}oe=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ie=typeof pe=="function"?pe.call(de,oe,ie):pe,ie==null)break e;oe=J({},oe,ie);break e;case 2:Li=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,ie=m.effects,ie===null?m.effects=[D]:ie.push(D))}else de={eventTime:de,lane:ie,tag:D.tag,payload:D.payload,callback:D.callback,next:null},se===null?(K=se=de,B=oe):se=se.next=de,T|=ie;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);if(se===null&&(B=oe),m.baseState=B,m.firstBaseUpdate=K,m.lastBaseUpdate=se,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);zs|=T,i.lanes=T,i.memoizedState=oe}}function m0(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Al={},vr=Vi(Al),kl=Vi(Al),Pl=Vi(Al);function Us(i){if(i===Al)throw Error(t(174));return i}function mf(i,o){switch(Je(Pl,o),Je(kl,i),Je(vr,Al),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:vo(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=vo(o,i)}nt(vr),Je(vr,o)}function Xo(){nt(vr),nt(kl),nt(Pl)}function g0(i){Us(Pl.current);var o=Us(vr.current),u=vo(o,i.type);o!==u&&(Je(kl,i),Je(vr,u))}function gf(i){kl.current===i&&(nt(vr),nt(kl))}var at=Vi(0);function Lc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var yf=[];function vf(){for(var i=0;i<yf.length;i++)yf[i]._workInProgressVersionPrimary=null;yf.length=0}var Oc=ee.ReactCurrentDispatcher,wf=ee.ReactCurrentBatchConfig,Bs=0,lt=null,kt=null,Nt=null,Fc=!1,Rl=!1,Nl=0,QI=0;function qt(){throw Error(t(321))}function xf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Wn(i[u],o[u]))return!1;return!0}function _f(i,o,u,h,m,v){if(Bs=v,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Oc.current=i===null||i.memoizedState===null?ZI:eS,i=u(h,m),Rl){v=0;do{if(Rl=!1,Nl=0,25<=v)throw Error(t(301));v+=1,Nt=kt=null,o.updateQueue=null,Oc.current=tS,i=u(h,m)}while(Rl)}if(Oc.current=zc,o=kt!==null&&kt.next!==null,Bs=0,Nt=kt=lt=null,Fc=!1,o)throw Error(t(300));return i}function Ef(){var i=Nl!==0;return Nl=0,i}function wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?lt.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function Nn(){if(kt===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var o=Nt===null?lt.memoizedState:Nt.next;if(o!==null)Nt=o,kt=i;else{if(i===null)throw Error(t(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Nt===null?lt.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function Dl(i,o){return typeof o=="function"?o(i):o}function Tf(i){var o=Nn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=kt,m=h.baseQueue,v=u.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}h.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,h=h.baseState;var D=T=null,B=null,K=v;do{var se=K.lane;if((Bs&se)===se)B!==null&&(B=B.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:i(h,K.action);else{var oe={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};B===null?(D=B=oe,T=h):B=B.next=oe,lt.lanes|=se,zs|=se}K=K.next}while(K!==null&&K!==v);B===null?T=h:B.next=D,Wn(h,o.memoizedState)||(un=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=B,u.lastRenderedState=h}if(i=u.interleaved,i!==null){m=i;do v=m.lane,lt.lanes|=v,zs|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function bf(i){var o=Nn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do v=i(v,T.action),T=T.next;while(T!==m);Wn(v,o.memoizedState)||(un=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function y0(){}function v0(i,o){var u=lt,h=Nn(),m=o(),v=!Wn(h.memoizedState,m);if(v&&(h.memoizedState=m,un=!0),h=h.queue,If(_0.bind(null,u,h,i),[i]),h.getSnapshot!==o||v||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,Vl(9,x0.bind(null,u,h,m,o),void 0,null),Dt===null)throw Error(t(349));(Bs&30)!==0||w0(u,o,m)}return m}function w0(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function x0(i,o,u,h){o.value=u,o.getSnapshot=h,E0(o)&&T0(i)}function _0(i,o,u){return u(function(){E0(o)&&T0(i)})}function E0(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Wn(i,u)}catch{return!0}}function T0(i){var o=Yr(i,1);o!==null&&Yn(o,i,1,-1)}function b0(i){var o=wr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:i},o.queue=i,i=i.dispatch=JI.bind(null,lt,i),[o.memoizedState,i]}function Vl(i,o,u,h){return i={tag:i,create:o,destroy:u,deps:h,next:null},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,o.lastEffect=i)),i}function I0(){return Nn().memoizedState}function Uc(i,o,u,h){var m=wr();lt.flags|=i,m.memoizedState=Vl(1|o,u,void 0,h===void 0?null:h)}function Bc(i,o,u,h){var m=Nn();h=h===void 0?null:h;var v=void 0;if(kt!==null){var T=kt.memoizedState;if(v=T.destroy,h!==null&&xf(h,T.deps)){m.memoizedState=Vl(o,u,v,h);return}}lt.flags|=i,m.memoizedState=Vl(1|o,u,v,h)}function S0(i,o){return Uc(8390656,8,i,o)}function If(i,o){return Bc(2048,8,i,o)}function C0(i,o){return Bc(4,2,i,o)}function A0(i,o){return Bc(4,4,i,o)}function k0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function P0(i,o,u){return u=u!=null?u.concat([i]):null,Bc(4,4,k0.bind(null,o,i),u)}function Sf(){}function R0(i,o){var u=Nn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&xf(o,h[1])?h[0]:(u.memoizedState=[i,o],i)}function N0(i,o){var u=Nn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&xf(o,h[1])?h[0]:(i=i(),u.memoizedState=[i,o],i)}function D0(i,o,u){return(Bs&21)===0?(i.baseState&&(i.baseState=!1,un=!0),i.memoizedState=u):(Wn(u,o)||(u=ol(),lt.lanes|=u,zs|=u,i.baseState=!0),o)}function YI(i,o){var u=Ue;Ue=u!==0&&4>u?u:4,i(!0);var h=wf.transition;wf.transition={};try{i(!1),o()}finally{Ue=u,wf.transition=h}}function V0(){return Nn().memoizedState}function XI(i,o,u){var h=zi(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},M0(i))j0(o,u);else if(u=h0(i,o,u,h),u!==null){var m=sn();Yn(u,i,h,m),L0(u,o,h)}}function JI(i,o,u){var h=zi(i),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(M0(i))j0(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,D=v(T,u);if(m.hasEagerState=!0,m.eagerState=D,Wn(D,T)){var B=o.interleaved;B===null?(m.next=m,ff(o)):(m.next=B.next,B.next=m),o.interleaved=m;return}}catch{}finally{}u=h0(i,o,m,h),u!==null&&(m=sn(),Yn(u,i,h,m),L0(u,o,h))}}function M0(i){var o=i.alternate;return i===lt||o!==null&&o===lt}function j0(i,o){Rl=Fc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function L0(i,o,u){if((u&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,ll(i,u)}}var zc={readContext:Rn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},ZI={readContext:Rn,useCallback:function(i,o){return wr().memoizedState=[i,o===void 0?null:o],i},useContext:Rn,useEffect:S0,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Uc(4194308,4,k0.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Uc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Uc(4,2,i,o)},useMemo:function(i,o){var u=wr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var h=wr();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=XI.bind(null,lt,i),[h.memoizedState,i]},useRef:function(i){var o=wr();return i={current:i},o.memoizedState=i},useState:b0,useDebugValue:Sf,useDeferredValue:function(i){return wr().memoizedState=i},useTransition:function(){var i=b0(!1),o=i[0];return i=YI.bind(null,i[1]),wr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var h=lt,m=wr();if(ot){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Dt===null)throw Error(t(349));(Bs&30)!==0||w0(h,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,S0(_0.bind(null,h,v,i),[i]),h.flags|=2048,Vl(9,x0.bind(null,h,v,u,o),void 0,null),u},useId:function(){var i=wr(),o=Dt.identifierPrefix;if(ot){var u=Qr,h=Kr;u=(h&~(1<<32-gn(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=Nl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=QI++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},eS={readContext:Rn,useCallback:R0,useContext:Rn,useEffect:If,useImperativeHandle:P0,useInsertionEffect:C0,useLayoutEffect:A0,useMemo:N0,useReducer:Tf,useRef:I0,useState:function(){return Tf(Dl)},useDebugValue:Sf,useDeferredValue:function(i){var o=Nn();return D0(o,kt.memoizedState,i)},useTransition:function(){var i=Tf(Dl)[0],o=Nn().memoizedState;return[i,o]},useMutableSource:y0,useSyncExternalStore:v0,useId:V0,unstable_isNewReconciler:!1},tS={readContext:Rn,useCallback:R0,useContext:Rn,useEffect:If,useImperativeHandle:P0,useInsertionEffect:C0,useLayoutEffect:A0,useMemo:N0,useReducer:bf,useRef:I0,useState:function(){return bf(Dl)},useDebugValue:Sf,useDeferredValue:function(i){var o=Nn();return kt===null?o.memoizedState=i:D0(o,kt.memoizedState,i)},useTransition:function(){var i=bf(Dl)[0],o=Nn().memoizedState;return[i,o]},useMutableSource:y0,useSyncExternalStore:v0,useId:V0,unstable_isNewReconciler:!1};function qn(i,o){if(i&&i.defaultProps){o=J({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Cf(i,o,u,h){o=i.memoizedState,u=u(h,o),u=u==null?o:J({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Hc={isMounted:function(i){return(i=i._reactInternals)?Hn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var h=sn(),m=zi(i),v=Xr(h,m);v.payload=o,u!=null&&(v.callback=u),o=Oi(i,v,m),o!==null&&(Yn(o,i,m,h),Mc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var h=sn(),m=zi(i),v=Xr(h,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Oi(i,v,m),o!==null&&(Yn(o,i,m,h),Mc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=sn(),h=zi(i),m=Xr(u,h);m.tag=2,o!=null&&(m.callback=o),o=Oi(i,m,h),o!==null&&(Yn(o,i,h,u),Mc(o,i,h))}};function O0(i,o,u,h,m,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,T):o.prototype&&o.prototype.isPureReactComponent?!xl(u,h)||!xl(m,v):!0}function F0(i,o,u){var h=!1,m=Mi,v=o.contextType;return typeof v=="object"&&v!==null?v=Rn(v):(m=ln(o)?js:Gt.current,h=o.contextTypes,v=(h=h!=null)?$o(i,m):Mi),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Hc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function U0(i,o,u,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==i&&Hc.enqueueReplaceState(o,o.state,null)}function Af(i,o,u,h){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},pf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Rn(v):(v=ln(o)?js:Gt.current,m.context=$o(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Cf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Hc.enqueueReplaceState(m,m.state,null),jc(i,u,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Jo(i,o){try{var u="",h=o;do u+=Me(h),h=h.return;while(h);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function kf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Pf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var nS=typeof WeakMap=="function"?WeakMap:Map;function B0(i,o,u){u=Xr(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){Yc||(Yc=!0,Wf=h),Pf(i,o)},u}function z0(i,o,u){u=Xr(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){Pf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Pf(i,o),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function H0(i,o,u){var h=i.pingCache;if(h===null){h=i.pingCache=new nS;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),i=gS.bind(null,i,o,u),o.then(i,i))}function $0(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function W0(i,o,u,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Xr(-1,1),o.tag=2,Oi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var rS=ee.ReactCurrentOwner,un=!1;function rn(i,o,u,h){o.child=i===null?d0(o,null,u,h):Ko(o,i.child,u,h)}function G0(i,o,u,h,m){u=u.render;var v=o.ref;return Yo(o,m),h=_f(i,o,u,h,v,m),u=Ef(),i!==null&&!un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Jr(i,o,m)):(ot&&u&&rf(o),o.flags|=1,rn(i,o,h,m),o.child)}function q0(i,o,u,h,m){if(i===null){var v=u.type;return typeof v=="function"&&!Jf(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,K0(i,o,v,h,m)):(i=nd(u.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:xl,u(T,h)&&i.ref===o.ref)return Jr(i,o,m)}return o.flags|=1,i=$i(v,h),i.ref=o.ref,i.return=o,o.child=i}function K0(i,o,u,h,m){if(i!==null){var v=i.memoizedProps;if(xl(v,h)&&i.ref===o.ref)if(un=!1,o.pendingProps=h=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(un=!0);else return o.lanes=i.lanes,Jr(i,o,m)}return Rf(i,o,u,h,m)}function Q0(i,o,u){var h=o.pendingProps,m=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ea,Tn),Tn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Je(ea,Tn),Tn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,Je(ea,Tn),Tn|=h}else v!==null?(h=v.baseLanes|u,o.memoizedState=null):h=u,Je(ea,Tn),Tn|=h;return rn(i,o,m,u),o.child}function Y0(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Rf(i,o,u,h,m){var v=ln(u)?js:Gt.current;return v=$o(o,v),Yo(o,m),u=_f(i,o,u,h,v,m),h=Ef(),i!==null&&!un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Jr(i,o,m)):(ot&&h&&rf(o),o.flags|=1,rn(i,o,u,m),o.child)}function X0(i,o,u,h,m){if(ln(u)){var v=!0;Cc(o)}else v=!1;if(Yo(o,m),o.stateNode===null)Wc(i,o),F0(o,u,h),Af(o,u,h,m),h=!0;else if(i===null){var T=o.stateNode,D=o.memoizedProps;T.props=D;var B=T.context,K=u.contextType;typeof K=="object"&&K!==null?K=Rn(K):(K=ln(u)?js:Gt.current,K=$o(o,K));var se=u.getDerivedStateFromProps,oe=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function";oe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==h||B!==K)&&U0(o,T,h,K),Li=!1;var ie=o.memoizedState;T.state=ie,jc(o,h,T,m),B=o.memoizedState,D!==h||ie!==B||an.current||Li?(typeof se=="function"&&(Cf(o,u,se,h),B=o.memoizedState),(D=Li||O0(o,u,D,h,ie,B,K))?(oe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=B),T.props=h,T.state=B,T.context=K,h=D):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,f0(i,o),D=o.memoizedProps,K=o.type===o.elementType?D:qn(o.type,D),T.props=K,oe=o.pendingProps,ie=T.context,B=u.contextType,typeof B=="object"&&B!==null?B=Rn(B):(B=ln(u)?js:Gt.current,B=$o(o,B));var de=u.getDerivedStateFromProps;(se=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==oe||ie!==B)&&U0(o,T,h,B),Li=!1,ie=o.memoizedState,T.state=ie,jc(o,h,T,m);var pe=o.memoizedState;D!==oe||ie!==pe||an.current||Li?(typeof de=="function"&&(Cf(o,u,de,h),pe=o.memoizedState),(K=Li||O0(o,u,K,h,ie,pe,B)||!1)?(se||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,pe,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,pe,B)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=pe),T.props=h,T.state=pe,T.context=B,h=K):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),h=!1)}return Nf(i,o,u,h,v,m)}function Nf(i,o,u,h,m,v){Y0(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return m&&n0(o,u,!1),Jr(i,o,v);h=o.stateNode,rS.current=o;var D=T&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=Ko(o,i.child,null,v),o.child=Ko(o,null,D,v)):rn(i,o,D,v),o.memoizedState=h.state,m&&n0(o,u,!0),o.child}function J0(i){var o=i.stateNode;o.pendingContext?e0(i,o.pendingContext,o.pendingContext!==o.context):o.context&&e0(i,o.context,!1),mf(i,o.containerInfo)}function Z0(i,o,u,h,m){return qo(),lf(m),o.flags|=256,rn(i,o,u,h),o.child}var Df={dehydrated:null,treeContext:null,retryLane:0};function Vf(i){return{baseLanes:i,cachePool:null,transitions:null}}function ev(i,o,u){var h=o.pendingProps,m=at.current,v=!1,T=(o.flags&128)!==0,D;if((D=T)||(D=i!==null&&i.memoizedState===null?!1:(m&2)!==0),D?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Je(at,m&1),i===null)return af(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,i=h.fallback,v?(h=o.mode,v=o.child,T={mode:"hidden",children:T},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=rd(T,h,0,null),i=Gs(i,h,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Vf(u),o.memoizedState=Df,i):Mf(o,T));if(m=i.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return iS(i,o,T,h,D,m,u);if(v){v=h.fallback,T=o.mode,m=i.child,D=m.sibling;var B={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=B,o.deletions=null):(h=$i(m,B),h.subtreeFlags=m.subtreeFlags&14680064),D!==null?v=$i(D,v):(v=Gs(v,T,u,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,T=i.child.memoizedState,T=T===null?Vf(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~u,o.memoizedState=Df,h}return v=i.child,i=v.sibling,h=$i(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=h,o.memoizedState=null,h}function Mf(i,o){return o=rd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function $c(i,o,u,h){return h!==null&&lf(h),Ko(o,i.child,null,u),i=Mf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function iS(i,o,u,h,m,v,T){if(u)return o.flags&256?(o.flags&=-257,h=kf(Error(t(422))),$c(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=rd({mode:"visible",children:h.children},m,0,null),v=Gs(v,m,T,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&Ko(o,i.child,null,T),o.child.memoizedState=Vf(T),o.memoizedState=Df,v);if((o.mode&1)===0)return $c(i,o,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var D=h.dgst;return h=D,v=Error(t(419)),h=kf(v,h,void 0),$c(i,o,T,h)}if(D=(T&i.childLanes)!==0,un||D){if(h=Dt,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|T))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Yr(i,m),Yn(h,i,m,-1))}return Xf(),h=kf(Error(t(421))),$c(i,o,T,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=yS.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,En=Di(m.nextSibling),_n=o,ot=!0,Gn=null,i!==null&&(kn[Pn++]=Kr,kn[Pn++]=Qr,kn[Pn++]=Ls,Kr=i.id,Qr=i.overflow,Ls=o),o=Mf(o,h.children),o.flags|=4096,o)}function tv(i,o,u){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),hf(i.return,o,u)}function jf(i,o,u,h,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=m)}function nv(i,o,u){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(rn(i,o,h.children,u),h=at.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tv(i,u,o);else if(i.tag===19)tv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Je(at,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Lc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),jf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Lc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}jf(o,!0,u,null,v);break;case"together":jf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Wc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Jr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),zs|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=$i(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=$i(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function sS(i,o,u){switch(o.tag){case 3:J0(o),qo();break;case 5:g0(o);break;case 1:ln(o.type)&&Cc(o);break;case 4:mf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Je(Dc,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Je(at,at.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?ev(i,o,u):(Je(at,at.current&1),i=Jr(i,o,u),i!==null?i.sibling:null);Je(at,at.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(i.flags&128)!==0){if(h)return nv(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Je(at,at.current),h)break;return null;case 22:case 23:return o.lanes=0,Q0(i,o,u)}return Jr(i,o,u)}var rv,Lf,iv,sv;rv=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Lf=function(){},iv=function(i,o,u,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,Us(vr.current);var v=null;switch(u){case"input":m=go(i,m),h=go(i,h),v=[];break;case"select":m=J({},m,{value:void 0}),h=J({},h,{value:void 0}),v=[];break;case"textarea":m=Qa(i,m),h=Qa(i,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=bc)}zn(u,h);var T;u=null;for(K in m)if(!h.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var D=m[K];for(T in D)D.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in h){var B=h[K];if(D=m?.[K],h.hasOwnProperty(K)&&B!==D&&(B!=null||D!=null))if(K==="style")if(D){for(T in D)!D.hasOwnProperty(T)||B&&B.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in B)B.hasOwnProperty(T)&&D[T]!==B[T]&&(u||(u={}),u[T]=B[T])}else u||(v||(v=[]),v.push(K,u)),u=B;else K==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,D=D?D.__html:void 0,B!=null&&D!==B&&(v=v||[]).push(K,B)):K==="children"?typeof B!="string"&&typeof B!="number"||(v=v||[]).push(K,""+B):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(B!=null&&K==="onScroll"&&tt("scroll",i),v||D===B||(v=[])):(v=v||[]).push(K,B))}u&&(v=v||[]).push("style",u);var K=v;(o.updateQueue=K)&&(o.flags|=4)}},sv=function(i,o,u,h){u!==h&&(o.flags|=4)};function Ml(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Kt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=u,o}function oS(i,o,u){var h=o.pendingProps;switch(sf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return ln(o.type)&&Sc(),Kt(o),null;case 3:return h=o.stateNode,Xo(),nt(an),nt(Gt),vf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Rc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gn!==null&&(Kf(Gn),Gn=null))),Lf(i,o),Kt(o),null;case 5:gf(o);var m=Us(Pl.current);if(u=o.type,i!==null&&o.stateNode!=null)iv(i,o,u,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Kt(o),null}if(i=Us(vr.current),Rc(o)){h=o.stateNode,u=o.type;var v=o.memoizedProps;switch(h[yr]=o,h[Il]=v,i=(o.mode&1)!==0,u){case"dialog":tt("cancel",h),tt("close",h);break;case"iframe":case"object":case"embed":tt("load",h);break;case"video":case"audio":for(m=0;m<El.length;m++)tt(El[m],h);break;case"source":tt("error",h);break;case"img":case"image":case"link":tt("error",h),tt("load",h);break;case"details":tt("toggle",h);break;case"input":Qu(h,v),tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},tt("invalid",h);break;case"textarea":Ya(h,v),tt("invalid",h)}zn(u,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var D=v[T];T==="children"?typeof D=="string"?h.textContent!==D&&(v.suppressHydrationWarning!==!0&&Tc(h.textContent,D,i),m=["children",D]):typeof D=="number"&&h.textContent!==""+D&&(v.suppressHydrationWarning!==!0&&Tc(h.textContent,D,i),m=["children",""+D]):s.hasOwnProperty(T)&&D!=null&&T==="onScroll"&&tt("scroll",h)}switch(u){case"input":mo(h),Ka(h,v,!0);break;case"textarea":mo(h),yi(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=bc)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Xa(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(u,{is:h.is}):(i=T.createElement(u),u==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,u),i[yr]=o,i[Il]=h,rv(i,o,!1,!1),o.stateNode=i;e:{switch(T=xo(u,h),u){case"dialog":tt("cancel",i),tt("close",i),m=h;break;case"iframe":case"object":case"embed":tt("load",i),m=h;break;case"video":case"audio":for(m=0;m<El.length;m++)tt(El[m],i);m=h;break;case"source":tt("error",i),m=h;break;case"img":case"image":case"link":tt("error",i),tt("load",i),m=h;break;case"details":tt("toggle",i),m=h;break;case"input":Qu(i,h),m=go(i,h),tt("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=J({},h,{value:void 0}),tt("invalid",i);break;case"textarea":Ya(i,h),m=Qa(i,h),tt("invalid",i);break;default:m=h}zn(u,m),D=m;for(v in D)if(D.hasOwnProperty(v)){var B=D[v];v==="style"?wo(i,B):v==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Xu(i,B)):v==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&_s(i,B):typeof B=="number"&&_s(i,""+B):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?B!=null&&v==="onScroll"&&tt("scroll",i):B!=null&&q(i,v,B,T))}switch(u){case"input":mo(i),Ka(i,h,!1);break;case"textarea":mo(i),yi(i);break;case"option":h.value!=null&&i.setAttribute("value",""+ze(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?Bn(i,!!h.multiple,v,!1):h.defaultValue!=null&&Bn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=bc)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Kt(o),null;case 6:if(i&&o.stateNode!=null)sv(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=Us(Pl.current),Us(vr.current),Rc(o)){if(h=o.stateNode,u=o.memoizedProps,h[yr]=o,(v=h.nodeValue!==u)&&(i=_n,i!==null))switch(i.tag){case 3:Tc(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Tc(h.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[yr]=o,o.stateNode=h}return Kt(o),null;case 13:if(nt(at),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ot&&En!==null&&(o.mode&1)!==0&&(o.flags&128)===0)l0(),qo(),o.flags|=98560,v=!1;else if(v=Rc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[yr]=o}else qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),v=!1}else Gn!==null&&(Kf(Gn),Gn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(at.current&1)!==0?Pt===0&&(Pt=3):Xf())),o.updateQueue!==null&&(o.flags|=4),Kt(o),null);case 4:return Xo(),Lf(i,o),i===null&&Tl(o.stateNode.containerInfo),Kt(o),null;case 10:return df(o.type._context),Kt(o),null;case 17:return ln(o.type)&&Sc(),Kt(o),null;case 19:if(nt(at),v=o.memoizedState,v===null)return Kt(o),null;if(h=(o.flags&128)!==0,T=v.rendering,T===null)if(h)Ml(v,!1);else{if(Pt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Lc(i),T!==null){for(o.flags|=128,Ml(v,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)v=u,i=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Je(at,at.current&1|2),o.child}i=i.sibling}v.tail!==null&&et()>ta&&(o.flags|=128,h=!0,Ml(v,!1),o.lanes=4194304)}else{if(!h)if(i=Lc(T),i!==null){if(o.flags|=128,h=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Ml(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!ot)return Kt(o),null}else 2*et()-v.renderingStartTime>ta&&u!==1073741824&&(o.flags|=128,h=!0,Ml(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(u=v.last,u!==null?u.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=et(),o.sibling=null,u=at.current,Je(at,h?u&1|2:u&1),o):(Kt(o),null);case 22:case 23:return Yf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Tn&1073741824)!==0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function aS(i,o){switch(sf(o),o.tag){case 1:return ln(o.type)&&Sc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Xo(),nt(an),nt(Gt),vf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return gf(o),null;case 13:if(nt(at),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));qo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return nt(at),null;case 4:return Xo(),null;case 10:return df(o.type._context),null;case 22:case 23:return Yf(),null;case 24:return null;default:return null}}var Gc=!1,Qt=!1,lS=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Zo(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){ft(i,o,h)}else u.current=null}function Of(i,o,u){try{u()}catch(h){ft(i,o,h)}}var ov=!1;function uS(i,o){if(Qh=Hr,i=Oy(),Bh(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,D=-1,B=-1,K=0,se=0,oe=i,ie=null;t:for(;;){for(var de;oe!==u||m!==0&&oe.nodeType!==3||(D=T+m),oe!==v||h!==0&&oe.nodeType!==3||(B=T+h),oe.nodeType===3&&(T+=oe.nodeValue.length),(de=oe.firstChild)!==null;)ie=oe,oe=de;for(;;){if(oe===i)break t;if(ie===u&&++K===m&&(D=T),ie===v&&++se===h&&(B=T),(de=oe.nextSibling)!==null)break;oe=ie,ie=oe.parentNode}oe=de}u=D===-1||B===-1?null:{start:D,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(Yh={focusedElem:i,selectionRange:u},Hr=!1,fe=o;fe!==null;)if(o=fe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,fe=i;else for(;fe!==null;){o=fe;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,yt=pe.memoizedState,H=o.stateNode,z=H.getSnapshotBeforeUpdate(o.elementType===o.type?me:qn(o.type,me),yt);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){ft(o,o.return,ae)}if(i=o.sibling,i!==null){i.return=o.return,fe=i;break}fe=o.return}return pe=ov,ov=!1,pe}function jl(i,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Of(o,u,v)}m=m.next}while(m!==h)}}function qc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function Ff(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function av(i){var o=i.alternate;o!==null&&(i.alternate=null,av(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[yr],delete o[Il],delete o[ef],delete o[WI],delete o[GI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function lv(i){return i.tag===5||i.tag===3||i.tag===4}function uv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Uf(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=bc));else if(h!==4&&(i=i.child,i!==null))for(Uf(i,o,u),i=i.sibling;i!==null;)Uf(i,o,u),i=i.sibling}function Bf(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Bf(i,o,u),i=i.sibling;i!==null;)Bf(i,o,u),i=i.sibling}var Ot=null,Kn=!1;function Fi(i,o,u){for(u=u.child;u!==null;)cv(i,o,u),u=u.sibling}function cv(i,o,u){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Ss,u)}catch{}switch(u.tag){case 5:Qt||Zo(u,o);case 6:var h=Ot,m=Kn;Ot=null,Fi(i,o,u),Ot=h,Kn=m,Ot!==null&&(Kn?(i=Ot,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ot.removeChild(u.stateNode));break;case 18:Ot!==null&&(Kn?(i=Ot,u=u.stateNode,i.nodeType===8?Zh(i.parentNode,u):i.nodeType===1&&Zh(i,u),ki(i)):Zh(Ot,u.stateNode));break;case 4:h=Ot,m=Kn,Ot=u.stateNode.containerInfo,Kn=!0,Fi(i,o,u),Ot=h,Kn=m;break;case 0:case 11:case 14:case 15:if(!Qt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Of(u,o,T),m=m.next}while(m!==h)}Fi(i,o,u);break;case 1:if(!Qt&&(Zo(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(D){ft(u,o,D)}Fi(i,o,u);break;case 21:Fi(i,o,u);break;case 22:u.mode&1?(Qt=(h=Qt)||u.memoizedState!==null,Fi(i,o,u),Qt=h):Fi(i,o,u);break;default:Fi(i,o,u)}}function dv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new lS),o.forEach(function(h){var m=vS.bind(null,i,h);u.has(h)||(u.add(h),h.then(m,m))})}}function Qn(i,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var v=i,T=o,D=T;e:for(;D!==null;){switch(D.tag){case 5:Ot=D.stateNode,Kn=!1;break e;case 3:Ot=D.stateNode.containerInfo,Kn=!0;break e;case 4:Ot=D.stateNode.containerInfo,Kn=!0;break e}D=D.return}if(Ot===null)throw Error(t(160));cv(v,T,m),Ot=null,Kn=!1;var B=m.alternate;B!==null&&(B.return=null),m.return=null}catch(K){ft(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)hv(o,i),o=o.sibling}function hv(i,o){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qn(o,i),xr(i),h&4){try{jl(3,i,i.return),qc(3,i)}catch(me){ft(i,i.return,me)}try{jl(5,i,i.return)}catch(me){ft(i,i.return,me)}}break;case 1:Qn(o,i),xr(i),h&512&&u!==null&&Zo(u,u.return);break;case 5:if(Qn(o,i),xr(i),h&512&&u!==null&&Zo(u,u.return),i.flags&32){var m=i.stateNode;try{_s(m,"")}catch(me){ft(i,i.return,me)}}if(h&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,T=u!==null?u.memoizedProps:v,D=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{D==="input"&&v.type==="radio"&&v.name!=null&&yo(m,v),xo(D,T);var K=xo(D,v);for(T=0;T<B.length;T+=2){var se=B[T],oe=B[T+1];se==="style"?wo(m,oe):se==="dangerouslySetInnerHTML"?Xu(m,oe):se==="children"?_s(m,oe):q(m,se,oe,K)}switch(D){case"input":xs(m,v);break;case"textarea":Yu(m,v);break;case"select":var ie=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?Bn(m,!!v.multiple,de,!1):ie!==!!v.multiple&&(v.defaultValue!=null?Bn(m,!!v.multiple,v.defaultValue,!0):Bn(m,!!v.multiple,v.multiple?[]:"",!1))}m[Il]=v}catch(me){ft(i,i.return,me)}}break;case 6:if(Qn(o,i),xr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(me){ft(i,i.return,me)}}break;case 3:if(Qn(o,i),xr(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ki(o.containerInfo)}catch(me){ft(i,i.return,me)}break;case 4:Qn(o,i),xr(i);break;case 13:Qn(o,i),xr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||($f=et())),h&4&&dv(i);break;case 22:if(se=u!==null&&u.memoizedState!==null,i.mode&1?(Qt=(K=Qt)||se,Qn(o,i),Qt=K):Qn(o,i),xr(i),h&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!se&&(i.mode&1)!==0)for(fe=i,se=i.child;se!==null;){for(oe=fe=se;fe!==null;){switch(ie=fe,de=ie.child,ie.tag){case 0:case 11:case 14:case 15:jl(4,ie,ie.return);break;case 1:Zo(ie,ie.return);var pe=ie.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ie,u=ie.return;try{o=h,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(me){ft(h,u,me)}}break;case 5:Zo(ie,ie.return);break;case 22:if(ie.memoizedState!==null){mv(oe);continue}}de!==null?(de.return=ie,fe=de):mv(oe)}se=se.sibling}e:for(se=null,oe=i;;){if(oe.tag===5){if(se===null){se=oe;try{m=oe.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(D=oe.stateNode,B=oe.memoizedProps.style,T=B!=null&&B.hasOwnProperty("display")?B.display:null,D.style.display=xi("display",T))}catch(me){ft(i,i.return,me)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(me){ft(i,i.return,me)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===i)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===i)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===i)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Qn(o,i),xr(i),h&4&&dv(i);break;case 21:break;default:Qn(o,i),xr(i)}}function xr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(lv(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(_s(m,""),h.flags&=-33);var v=uv(i);Bf(i,v,m);break;case 3:case 4:var T=h.stateNode.containerInfo,D=uv(i);Uf(i,D,T);break;default:throw Error(t(161))}}catch(B){ft(i,i.return,B)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function cS(i,o,u){fe=i,fv(i)}function fv(i,o,u){for(var h=(i.mode&1)!==0;fe!==null;){var m=fe,v=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||Gc;if(!T){var D=m.alternate,B=D!==null&&D.memoizedState!==null||Qt;D=Gc;var K=Qt;if(Gc=T,(Qt=B)&&!K)for(fe=m;fe!==null;)T=fe,B=T.child,T.tag===22&&T.memoizedState!==null?gv(m):B!==null?(B.return=T,fe=B):gv(m);for(;v!==null;)fe=v,fv(v),v=v.sibling;fe=m,Gc=D,Qt=K}pv(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,fe=v):pv(i)}}function pv(i){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Qt||qc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Qt)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:qn(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&m0(o,v,h);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}m0(o,T,u)}break;case 5:var D=o.stateNode;if(u===null&&o.flags&4){u=D;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&ki(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qt||o.flags&512&&Ff(o)}catch(ie){ft(o,o.return,ie)}}if(o===i){fe=null;break}if(u=o.sibling,u!==null){u.return=o.return,fe=u;break}fe=o.return}}function mv(i){for(;fe!==null;){var o=fe;if(o===i){fe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,fe=u;break}fe=o.return}}function gv(i){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{qc(4,o)}catch(B){ft(o,u,B)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(B){ft(o,m,B)}}var v=o.return;try{Ff(o)}catch(B){ft(o,v,B)}break;case 5:var T=o.return;try{Ff(o)}catch(B){ft(o,T,B)}}}catch(B){ft(o,o.return,B)}if(o===i){fe=null;break}var D=o.sibling;if(D!==null){D.return=o.return,fe=D;break}fe=o.return}}var dS=Math.ceil,Kc=ee.ReactCurrentDispatcher,zf=ee.ReactCurrentOwner,Dn=ee.ReactCurrentBatchConfig,He=0,Dt=null,bt=null,Ft=0,Tn=0,ea=Vi(0),Pt=0,Ll=null,zs=0,Qc=0,Hf=0,Ol=null,cn=null,$f=0,ta=1/0,Zr=null,Yc=!1,Wf=null,Ui=null,Xc=!1,Bi=null,Jc=0,Fl=0,Gf=null,Zc=-1,ed=0;function sn(){return(He&6)!==0?et():Zc!==-1?Zc:Zc=et()}function zi(i){return(i.mode&1)===0?1:(He&2)!==0&&Ft!==0?Ft&-Ft:KI.transition!==null?(ed===0&&(ed=ol()),ed):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:Po(i.type)),i)}function Yn(i,o,u,h){if(50<Fl)throw Fl=0,Gf=null,Error(t(185));Ps(i,u,h),((He&2)===0||i!==Dt)&&(i===Dt&&((He&2)===0&&(Qc|=u),Pt===4&&Hi(i,Ft)),dn(i,h),u===1&&He===0&&(o.mode&1)===0&&(ta=et()+500,Ac&&ji()))}function dn(i,o){var u=i.callbackNode;ks(i,o);var h=Ur(i,i===Dt?Ft:0);if(h===0)u!==null&&To(u),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(u!=null&&To(u),o===1)i.tag===0?qI(vv.bind(null,i)):r0(vv.bind(null,i)),HI(function(){(He&6)===0&&ji()}),u=null;else{switch(ar(h)){case 1:u=bo;break;case 4:u=rl;break;case 16:u=Is;break;case 536870912:u=Io;break;default:u=Is}u=Sv(u,yv.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function yv(i,o){if(Zc=-1,ed=0,(He&6)!==0)throw Error(t(327));var u=i.callbackNode;if(na()&&i.callbackNode!==u)return null;var h=Ur(i,i===Dt?Ft:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=td(i,h);else{o=h;var m=He;He|=2;var v=xv();(Dt!==i||Ft!==o)&&(Zr=null,ta=et()+500,$s(i,o));do try{pS();break}catch(D){wv(i,D)}while(!0);cf(),Kc.current=v,He=m,bt!==null?o=0:(Dt=null,Ft=0,o=Pt)}if(o!==0){if(o===2&&(m=sl(i),m!==0&&(h=m,o=qf(i,m))),o===1)throw u=Ll,$s(i,0),Hi(i,h),dn(i,et()),u;if(o===6)Hi(i,h);else{if(m=i.current.alternate,(h&30)===0&&!hS(m)&&(o=td(i,h),o===2&&(v=sl(i),v!==0&&(h=v,o=qf(i,v))),o===1))throw u=Ll,$s(i,0),Hi(i,h),dn(i,et()),u;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Ws(i,cn,Zr);break;case 3:if(Hi(i,h),(h&130023424)===h&&(o=$f+500-et(),10<o)){if(Ur(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){sn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Jh(Ws.bind(null,i,cn,Zr),o);break}Ws(i,cn,Zr);break;case 4:if(Hi(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var T=31-gn(h);v=1<<T,T=o[T],T>m&&(m=T),h&=~v}if(h=m,h=et()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*dS(h/1960))-h,10<h){i.timeoutHandle=Jh(Ws.bind(null,i,cn,Zr),h);break}Ws(i,cn,Zr);break;case 5:Ws(i,cn,Zr);break;default:throw Error(t(329))}}}return dn(i,et()),i.callbackNode===u?yv.bind(null,i):null}function qf(i,o){var u=Ol;return i.current.memoizedState.isDehydrated&&($s(i,o).flags|=256),i=td(i,o),i!==2&&(o=cn,cn=u,o!==null&&Kf(o)),i}function Kf(i){cn===null?cn=i:cn.push.apply(cn,i)}function hS(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],v=m.getSnapshot;m=m.value;try{if(!Wn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hi(i,o){for(o&=~Hf,o&=~Qc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-gn(o),h=1<<u;i[u]=-1,o&=~h}}function vv(i){if((He&6)!==0)throw Error(t(327));na();var o=Ur(i,0);if((o&1)===0)return dn(i,et()),null;var u=td(i,o);if(i.tag!==0&&u===2){var h=sl(i);h!==0&&(o=h,u=qf(i,h))}if(u===1)throw u=Ll,$s(i,0),Hi(i,o),dn(i,et()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ws(i,cn,Zr),dn(i,et()),null}function Qf(i,o){var u=He;He|=1;try{return i(o)}finally{He=u,He===0&&(ta=et()+500,Ac&&ji())}}function Hs(i){Bi!==null&&Bi.tag===0&&(He&6)===0&&na();var o=He;He|=1;var u=Dn.transition,h=Ue;try{if(Dn.transition=null,Ue=1,i)return i()}finally{Ue=h,Dn.transition=u,He=o,(He&6)===0&&ji()}}function Yf(){Tn=ea.current,nt(ea)}function $s(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,zI(u)),bt!==null)for(u=bt.return;u!==null;){var h=u;switch(sf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Sc();break;case 3:Xo(),nt(an),nt(Gt),vf();break;case 5:gf(h);break;case 4:Xo();break;case 13:nt(at);break;case 19:nt(at);break;case 10:df(h.type._context);break;case 22:case 23:Yf()}u=u.return}if(Dt=i,bt=i=$i(i.current,null),Ft=Tn=o,Pt=0,Ll=null,Hf=Qc=zs=0,cn=Ol=null,Fs!==null){for(o=0;o<Fs.length;o++)if(u=Fs[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,v=u.pending;if(v!==null){var T=v.next;v.next=m,h.next=T}u.pending=h}Fs=null}return i}function wv(i,o){do{var u=bt;try{if(cf(),Oc.current=zc,Fc){for(var h=lt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Fc=!1}if(Bs=0,Nt=kt=lt=null,Rl=!1,Nl=0,zf.current=null,u===null||u.return===null){Pt=1,Ll=o,bt=null;break}e:{var v=i,T=u.return,D=u,B=o;if(o=Ft,D.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var K=B,se=D,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var de=$0(T);if(de!==null){de.flags&=-257,W0(de,T,D,v,o),de.mode&1&&H0(v,K,o),o=de,B=K;var pe=o.updateQueue;if(pe===null){var me=new Set;me.add(B),o.updateQueue=me}else pe.add(B);break e}else{if((o&1)===0){H0(v,K,o),Xf();break e}B=Error(t(426))}}else if(ot&&D.mode&1){var yt=$0(T);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),W0(yt,T,D,v,o),lf(Jo(B,D));break e}}v=B=Jo(B,D),Pt!==4&&(Pt=2),Ol===null?Ol=[v]:Ol.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var H=B0(v,B,o);p0(v,H);break e;case 1:D=B;var z=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ui===null||!Ui.has(W)))){v.flags|=65536,o&=-o,v.lanes|=o;var ae=z0(v,D,o);p0(v,ae);break e}}v=v.return}while(v!==null)}Ev(u)}catch(ge){o=ge,bt===u&&u!==null&&(bt=u=u.return);continue}break}while(!0)}function xv(){var i=Kc.current;return Kc.current=zc,i===null?zc:i}function Xf(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Dt===null||(zs&268435455)===0&&(Qc&268435455)===0||Hi(Dt,Ft)}function td(i,o){var u=He;He|=2;var h=xv();(Dt!==i||Ft!==o)&&(Zr=null,$s(i,o));do try{fS();break}catch(m){wv(i,m)}while(!0);if(cf(),He=u,Kc.current=h,bt!==null)throw Error(t(261));return Dt=null,Ft=0,Pt}function fS(){for(;bt!==null;)_v(bt)}function pS(){for(;bt!==null&&!bs();)_v(bt)}function _v(i){var o=Iv(i.alternate,i,Tn);i.memoizedProps=i.pendingProps,o===null?Ev(i):bt=o,zf.current=null}function Ev(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=oS(u,o,Tn),u!==null){bt=u;return}}else{if(u=aS(u,o),u!==null){u.flags&=32767,bt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Pt=6,bt=null;return}}if(o=o.sibling,o!==null){bt=o;return}bt=o=i}while(o!==null);Pt===0&&(Pt=5)}function Ws(i,o,u){var h=Ue,m=Dn.transition;try{Dn.transition=null,Ue=1,mS(i,o,u,h)}finally{Dn.transition=m,Ue=h}return null}function mS(i,o,u,h){do na();while(Bi!==null);if((He&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(jh(i,v),i===Dt&&(bt=Dt=null,Ft=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Xc||(Xc=!0,Sv(Is,function(){return na(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Dn.transition,Dn.transition=null;var T=Ue;Ue=1;var D=He;He|=4,zf.current=null,uS(i,u),hv(u,i),MI(Yh),Hr=!!Qh,Yh=Qh=null,i.current=u,cS(u),Fr(),He=D,Ue=T,Dn.transition=v}else i.current=u;if(Xc&&(Xc=!1,Bi=i,Jc=m),v=i.pendingLanes,v===0&&(Ui=null),lc(u.stateNode),dn(i,et()),o!==null)for(h=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(Yc)throw Yc=!1,i=Wf,Wf=null,i;return(Jc&1)!==0&&i.tag!==0&&na(),v=i.pendingLanes,(v&1)!==0?i===Gf?Fl++:(Fl=0,Gf=i):Fl=0,ji(),null}function na(){if(Bi!==null){var i=ar(Jc),o=Dn.transition,u=Ue;try{if(Dn.transition=null,Ue=16>i?16:i,Bi===null)var h=!1;else{if(i=Bi,Bi=null,Jc=0,(He&6)!==0)throw Error(t(331));var m=He;for(He|=4,fe=i.current;fe!==null;){var v=fe,T=v.child;if((fe.flags&16)!==0){var D=v.deletions;if(D!==null){for(var B=0;B<D.length;B++){var K=D[B];for(fe=K;fe!==null;){var se=fe;switch(se.tag){case 0:case 11:case 15:jl(8,se,v)}var oe=se.child;if(oe!==null)oe.return=se,fe=oe;else for(;fe!==null;){se=fe;var ie=se.sibling,de=se.return;if(av(se),se===K){fe=null;break}if(ie!==null){ie.return=de,fe=ie;break}fe=de}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var yt=me.sibling;me.sibling=null,me=yt}while(me!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,fe=T;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:jl(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,fe=H;break e}fe=v.return}}var z=i.current;for(fe=z;fe!==null;){T=fe;var W=T.child;if((T.subtreeFlags&2064)!==0&&W!==null)W.return=T,fe=W;else e:for(T=z;fe!==null;){if(D=fe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:qc(9,D)}}catch(ge){ft(D,D.return,ge)}if(D===T){fe=null;break e}var ae=D.sibling;if(ae!==null){ae.return=D.return,fe=ae;break e}fe=D.return}}if(He=m,ji(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Ss,i)}catch{}h=!0}return h}finally{Ue=u,Dn.transition=o}}return!1}function Tv(i,o,u){o=Jo(u,o),o=B0(i,o,1),i=Oi(i,o,1),o=sn(),i!==null&&(Ps(i,1,o),dn(i,o))}function ft(i,o,u){if(i.tag===3)Tv(i,i,u);else for(;o!==null;){if(o.tag===3){Tv(o,i,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ui===null||!Ui.has(h))){i=Jo(u,i),i=z0(o,i,1),o=Oi(o,i,1),i=sn(),o!==null&&(Ps(o,1,i),dn(o,i));break}}o=o.return}}function gS(i,o,u){var h=i.pingCache;h!==null&&h.delete(o),o=sn(),i.pingedLanes|=i.suspendedLanes&u,Dt===i&&(Ft&u)===u&&(Pt===4||Pt===3&&(Ft&130023424)===Ft&&500>et()-$f?$s(i,0):Hf|=u),dn(i,o)}function bv(i,o){o===0&&((i.mode&1)===0?o=1:(o=Si,Si<<=1,(Si&130023424)===0&&(Si=4194304)));var u=sn();i=Yr(i,o),i!==null&&(Ps(i,o,u),dn(i,u))}function yS(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),bv(i,u)}function vS(i,o){var u=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),bv(i,u)}var Iv;Iv=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||an.current)un=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return un=!1,sS(i,o,u);un=(i.flags&131072)!==0}else un=!1,ot&&(o.flags&1048576)!==0&&i0(o,Pc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Wc(i,o),i=o.pendingProps;var m=$o(o,Gt.current);Yo(o,u),m=_f(null,o,h,i,m,u);var v=Ef();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ln(h)?(v=!0,Cc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,pf(o),m.updater=Hc,o.stateNode=m,m._reactInternals=o,Af(o,h,i,u),o=Nf(null,o,h,!0,v,u)):(o.tag=0,ot&&v&&rf(o),rn(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Wc(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=xS(h),i=qn(h,i),m){case 0:o=Rf(null,o,h,i,u);break e;case 1:o=X0(null,o,h,i,u);break e;case 11:o=G0(null,o,h,i,u);break e;case 14:o=q0(null,o,h,qn(h.type,i),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:qn(h,m),Rf(i,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:qn(h,m),X0(i,o,h,m,u);case 3:e:{if(J0(o),i===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,m=v.element,f0(i,o),jc(o,h,null,u);var T=o.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Jo(Error(t(423)),o),o=Z0(i,o,h,u,m);break e}else if(h!==m){m=Jo(Error(t(424)),o),o=Z0(i,o,h,u,m);break e}else for(En=Di(o.stateNode.containerInfo.firstChild),_n=o,ot=!0,Gn=null,u=d0(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(qo(),h===m){o=Jr(i,o,u);break e}rn(i,o,h,u)}o=o.child}return o;case 5:return g0(o),i===null&&af(o),h=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,T=m.children,Xh(h,m)?T=null:v!==null&&Xh(h,v)&&(o.flags|=32),Y0(i,o),rn(i,o,T,u),o.child;case 6:return i===null&&af(o),null;case 13:return ev(i,o,u);case 4:return mf(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Ko(o,null,h,u):rn(i,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:qn(h,m),G0(i,o,h,m,u);case 7:return rn(i,o,o.pendingProps,u),o.child;case 8:return rn(i,o,o.pendingProps.children,u),o.child;case 12:return rn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Je(Dc,h._currentValue),h._currentValue=T,v!==null)if(Wn(v.value,T)){if(v.children===m.children&&!an.current){o=Jr(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var D=v.dependencies;if(D!==null){T=v.child;for(var B=D.firstContext;B!==null;){if(B.context===h){if(v.tag===1){B=Xr(-1,u&-u),B.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?B.next=B:(B.next=se.next,se.next=B),K.pending=B}}v.lanes|=u,B=v.alternate,B!==null&&(B.lanes|=u),hf(v.return,u,o),D.lanes|=u;break}B=B.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(t(341));T.lanes|=u,D=T.alternate,D!==null&&(D.lanes|=u),hf(T,u,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}rn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Yo(o,u),m=Rn(m),h=h(m),o.flags|=1,rn(i,o,h,u),o.child;case 14:return h=o.type,m=qn(h,o.pendingProps),m=qn(h.type,m),q0(i,o,h,m,u);case 15:return K0(i,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:qn(h,m),Wc(i,o),o.tag=1,ln(h)?(i=!0,Cc(o)):i=!1,Yo(o,u),F0(o,h,m),Af(o,h,m,u),Nf(null,o,h,!0,i,u);case 19:return nv(i,o,u);case 22:return Q0(i,o,u)}throw Error(t(156,o.tag))};function Sv(i,o){return nl(i,o)}function wS(i,o,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,o,u,h){return new wS(i,o,u,h)}function Jf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xS(i){if(typeof i=="function")return Jf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===Pe)return 14}return 2}function $i(i,o){var u=i.alternate;return u===null?(u=Vn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function nd(i,o,u,h,m,v){var T=2;if(h=i,typeof i=="function")Jf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case k:return Gs(u.children,m,v,o);case b:T=8,m|=8;break;case S:return i=Vn(12,u,o,m|2),i.elementType=S,i.lanes=v,i;case P:return i=Vn(13,u,o,m),i.elementType=P,i.lanes=v,i;case ye:return i=Vn(19,u,o,m),i.elementType=ye,i.lanes=v,i;case Ie:return rd(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:T=10;break e;case V:T=9;break e;case F:T=11;break e;case Pe:T=14;break e;case Ve:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Vn(T,u,o,m),o.elementType=i,o.type=h,o.lanes=v,o}function Gs(i,o,u,h){return i=Vn(7,i,h,o),i.lanes=u,i}function rd(i,o,u,h){return i=Vn(22,i,h,o),i.elementType=Ie,i.lanes=u,i.stateNode={isHidden:!1},i}function Zf(i,o,u){return i=Vn(6,i,null,o),i.lanes=u,i}function ep(i,o,u){return o=Vn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function _S(i,o,u,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function tp(i,o,u,h,m,v,T,D,B){return i=new _S(i,o,u,D,B),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Vn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},pf(v),i}function ES(i,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:h==null?null:""+h,children:i,containerInfo:o,implementation:u}}function Cv(i){if(!i)return Mi;i=i._reactInternals;e:{if(Hn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ln(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(ln(u))return t0(i,u,o)}return o}function Av(i,o,u,h,m,v,T,D,B){return i=tp(u,h,!0,i,m,v,T,D,B),i.context=Cv(null),u=i.current,h=sn(),m=zi(u),v=Xr(h,m),v.callback=o??null,Oi(u,v,m),i.current.lanes=m,Ps(i,m,h),dn(i,h),i}function id(i,o,u,h){var m=o.current,v=sn(),T=zi(m);return u=Cv(u),o.context===null?o.context=u:o.pendingContext=u,o=Xr(v,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Oi(m,o,T),i!==null&&(Yn(i,m,T,v),Mc(i,m,T)),T}function sd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function kv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function np(i,o){kv(i,o),(i=i.alternate)&&kv(i,o)}function TS(){return null}var Pv=typeof reportError=="function"?reportError:function(i){console.error(i)};function rp(i){this._internalRoot=i}od.prototype.render=rp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));id(i,o,null,null)},od.prototype.unmount=rp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Hs(function(){id(null,i,null,null)}),o[Gr]=null}};function od(i){this._internalRoot=i}od.prototype.unstable_scheduleHydration=function(i){if(i){var o=dl();i={blockedOn:null,target:i,priority:o};for(var u=0;u<yn.length&&o!==0&&o<yn[u].priority;u++);yn.splice(u,0,i),u===0&&Ao(i)}};function ip(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ad(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Rv(){}function bS(i,o,u,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var K=sd(T);v.call(K)}}var T=Av(o,h,i,0,null,!1,!1,"",Rv);return i._reactRootContainer=T,i[Gr]=T.current,Tl(i.nodeType===8?i.parentNode:i),Hs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var D=h;h=function(){var K=sd(B);D.call(K)}}var B=tp(i,0,!1,null,null,!1,!1,"",Rv);return i._reactRootContainer=B,i[Gr]=B.current,Tl(i.nodeType===8?i.parentNode:i),Hs(function(){id(o,B,u,h)}),B}function ld(i,o,u,h,m){var v=u._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var D=m;m=function(){var B=sd(T);D.call(B)}}id(o,T,i,m)}else T=bS(u,o,i,m,h);return sd(T)}ul=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ge(o.pendingLanes);u!==0&&(ll(o,u|1),dn(o,et()),(He&6)===0&&(ta=et()+500,ji()))}break;case 13:Hs(function(){var h=Yr(i,1);if(h!==null){var m=sn();Yn(h,i,1,m)}}),np(i,1)}},So=function(i){if(i.tag===13){var o=Yr(i,134217728);if(o!==null){var u=sn();Yn(o,i,134217728,u)}np(i,134217728)}},cl=function(i){if(i.tag===13){var o=zi(i),u=Yr(i,o);if(u!==null){var h=sn();Yn(u,i,o,h)}np(i,o)}},dl=function(){return Ue},hl=function(i,o){var u=Ue;try{return Ue=i,o()}finally{Ue=u}},jr=function(i,o,u){switch(o){case"input":if(xs(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==i&&h.form===i.form){var m=Ic(h);if(!m)throw Error(t(90));qa(h),xs(h,m)}}}break;case"textarea":Yu(i,u);break;case"select":o=u.value,o!=null&&Bn(i,!!u.multiple,o,!1)}},Zu=Qf,ec=Hs;var IS={usingClientEntryPoint:!1,Events:[Sl,zo,Ic,Ei,Ti,Qf]},Ul={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SS={bundleType:Ul.bundleType,version:Ul.version,rendererPackageName:Ul.rendererPackageName,rendererConfig:Ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ac(i),i===null?null:i.stateNode},findFiberByHostInstance:Ul.findFiberByHostInstance||TS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{Ss=ud.inject(SS),mn=ud}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IS,hn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ip(o))throw Error(t(200));return ES(i,o,null,u)},hn.createRoot=function(i,o){if(!ip(i))throw Error(t(299));var u=!1,h="",m=Pv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=tp(i,1,!1,null,null,u,!1,h,m),i[Gr]=o.current,Tl(i.nodeType===8?i.parentNode:i),new rp(o)},hn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ac(o),i=i===null?null:i.stateNode,i},hn.flushSync=function(i){return Hs(i)},hn.hydrate=function(i,o,u){if(!ad(o))throw Error(t(200));return ld(null,i,o,!0,u)},hn.hydrateRoot=function(i,o,u){if(!ip(i))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,m=!1,v="",T=Pv;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=Av(o,null,i,1,u??null,m,!1,v,T),i[Gr]=o.current,Tl(i),h)for(i=0;i<h.length;i++)u=h[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new od(o)},hn.render=function(i,o,u){if(!ad(o))throw Error(t(200));return ld(null,i,o,!1,u)},hn.unmountComponentAtNode=function(i){if(!ad(i))throw Error(t(40));return i._reactRootContainer?(Hs(function(){ld(null,null,i,!1,function(){i._reactRootContainer=null,i[Gr]=null})}),!0):!1},hn.unstable_batchedUpdates=Qf,hn.unstable_renderSubtreeIntoContainer=function(i,o,u,h){if(!ad(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ld(i,o,u,!1,h)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Fv;function VS(){if(Fv)return ap.exports;Fv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ap.exports=DS(),ap.exports}var Uv;function MS(){if(Uv)return cd;Uv=1;var n=VS();return cd.createRoot=n.createRoot,cd.hydrateRoot=n.hydrateRoot,cd}var jS=MS();const LS=F_(jS),U_=L.createContext({});function OS(n){const e=L.useRef(null);return e.current===null&&(e.current=n()),e.current}const Mm=L.createContext(null),B_=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function FS(n=!0){const e=L.useContext(Mm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=L.useId();L.useEffect(()=>{n&&s(a)},[n]);const l=L.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const jm=typeof window<"u",US=jm?L.useLayoutEffect:L.useEffect,In=n=>n;let z_=In;const BS={useManualTiming:!1};function zS(n){let e=new Set,t=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(p){a.has(p)&&(f.schedule(p),n()),p(l)}const f={schedule:(p,y=!1,x=!1)=>{const A=x&&r?e:t;return y&&a.add(p),A.has(p)||A.add(p),p},cancel:p=>{t.delete(p),a.delete(p)},process:p=>{if(l=p,r){s=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,s&&(s=!1,f.process(p))}};return f}const dd=["read","resolveKeyframes","update","preRender","render","postRender"],HS=40;function H_(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=dd.reduce((j,U)=>(j[U]=zS(a),j),{}),{read:d,resolveKeyframes:f,update:p,preRender:y,render:x,postRender:E}=l,A=()=>{const j=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,HS),1),s.timestamp=j,s.isProcessing=!0,d.process(s),f.process(s),p.process(s),y.process(s),x.process(s),E.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(A))},M=()=>{t=!0,r=!0,s.isProcessing||n(A)};return{schedule:dd.reduce((j,U)=>{const q=l[U];return j[U]=(ee,ne=!1,le=!1)=>(t||M(),q.schedule(ee,ne,le)),j},{}),cancel:j=>{for(let U=0;U<dd.length;U++)l[dd[U]].cancel(j)},state:s,steps:l}}const{schedule:st,cancel:ls,state:Ut,steps:cp}=H_(typeof requestAnimationFrame<"u"?requestAnimationFrame:In,!0),$_=L.createContext({strict:!1}),Bv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ea={};for(const n in Bv)Ea[n]={isEnabled:e=>Bv[n].some(t=>!!e[t])};function $S(n){for(const e in n)Ea[e]={...Ea[e],...n[e]}}const WS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||WS.has(n)}let W_=n=>!jd(n);function GS(n){n&&(W_=e=>e.startsWith("on")?!jd(e):n(e))}try{GS(require("@emotion/is-prop-valid").default)}catch{}function qS(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(W_(s)||t===!0&&jd(s)||!e&&!jd(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function KS(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const ch=L.createContext({});function fu(n){return typeof n=="string"||Array.isArray(n)}function dh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Lm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Om=["initial",...Lm];function hh(n){return dh(n.animate)||Om.some(e=>fu(n[e]))}function G_(n){return!!(hh(n)||n.variants)}function QS(n,e){if(hh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||fu(t)?t:void 0,animate:fu(r)?r:void 0}}return n.inherit!==!1?e:{}}function YS(n){const{initial:e,animate:t}=QS(n,L.useContext(ch));return L.useMemo(()=>({initial:e,animate:t}),[zv(e),zv(t)])}function zv(n){return Array.isArray(n)?n.join(" "):n}const XS=Symbol.for("motionComponentSymbol");function aa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function JS(n,e,t){return L.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):aa(t)&&(t.current=r))},[e])}const Fm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZS="framerAppearId",q_="data-"+Fm(ZS),{schedule:Um}=H_(queueMicrotask,!1),K_=L.createContext({});function eC(n,e,t,r,s){var a,l;const{visualElement:d}=L.useContext(ch),f=L.useContext($_),p=L.useContext(Mm),y=L.useContext(B_).reducedMotion,x=L.useRef(null);r=r||f.renderer,!x.current&&r&&(x.current=r(n,{visualState:e,parent:d,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const E=x.current,A=L.useContext(K_);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&tC(x.current,t,s,A);const M=L.useRef(!1);L.useInsertionEffect(()=>{E&&M.current&&E.update(t,p)});const R=t[q_],I=L.useRef(!!R&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,R))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,R)));return US(()=>{E&&(M.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Um.render(E.render),I.current&&E.animationState&&E.animationState.animateChanges())}),L.useEffect(()=>{E&&(!I.current&&E.animationState&&E.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,R)}),I.current=!1))}),E}function tC(n,e,t,r){const{layoutId:s,layout:a,drag:l,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Q_(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||d&&aa(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function Q_(n){if(n)return n.options.allowProjection!==!1?n.projection:Q_(n.parent)}function nC({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){var a,l;n&&$S(n);function d(p,y){let x;const E={...L.useContext(B_),...p,layoutId:rC(p)},{isStatic:A}=E,M=YS(p),R=r(p,A);if(!A&&jm){iC();const I=sC(E);x=I.MeasureLayout,M.visualElement=eC(s,R,E,e,I.ProjectionNode)}return g.jsxs(ch.Provider,{value:M,children:[x&&M.visualElement?g.jsx(x,{visualElement:M.visualElement,...E}):null,t(s,p,JS(R,M.visualElement,y),R,A,M.visualElement)]})}d.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const f=L.forwardRef(d);return f[XS]=s,f}function rC({layoutId:n}){const e=L.useContext(U_).id;return e&&n!==void 0?e+"-"+n:n}function iC(n,e){L.useContext($_).strict}function sC(n){const{drag:e,layout:t}=Ea;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const oC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bm(n){return typeof n!="string"||n.includes("-")?!1:!!(oC.indexOf(n)>-1||/[A-Z]/u.test(n))}function Hv(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function zm(n,e,t,r){if(typeof e=="function"){const[s,a]=Hv(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=Hv(r);e=e(t!==void 0?t:n.custom,s,a)}return e}const Up=n=>Array.isArray(n),aC=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),lC=n=>Up(n)?n[n.length-1]||0:n,en=n=>!!(n&&n.getVelocity);function _d(n){const e=en(n)?n.get():n;return aC(e)?e.toValue():e}function uC({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,a){const l={latestValues:cC(r,s,a,n),renderState:e()};return t&&(l.onMount=d=>t({props:r,current:d,...l}),l.onUpdate=d=>t(d)),l}const Y_=n=>(e,t)=>{const r=L.useContext(ch),s=L.useContext(Mm),a=()=>uC(n,e,r,s);return t?a():OS(a)};function cC(n,e,t,r){const s={},a=r(n,{});for(const E in a)s[E]=_d(a[E]);let{initial:l,animate:d}=n;const f=hh(n),p=G_(n);e&&p&&!f&&n.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let y=t?t.initial===!1:!1;y=y||l===!1;const x=y?d:l;if(x&&typeof x!="boolean"&&!dh(x)){const E=Array.isArray(x)?x:[x];for(let A=0;A<E.length;A++){const M=zm(n,E[A]);if(M){const{transitionEnd:R,transition:I,...j}=M;for(const U in j){let q=j[U];if(Array.isArray(q)){const ee=y?q.length-1:0;q=q[ee]}q!==null&&(s[U]=q)}for(const U in R)s[U]=R[U]}}}return s}const Va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lo=new Set(Va),X_=n=>e=>typeof e=="string"&&e.startsWith(n),J_=X_("--"),dC=X_("var(--"),Hm=n=>dC(n)?hC.test(n.split("/*")[0].trim()):!1,hC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Z_=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ai=(n,e,t)=>t>e?e:t<n?n:t,Ma={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},pu={...Ma,transform:n=>ai(0,1,n)},hd={...Ma,default:1},Ru=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Qi=Ru("deg"),Er=Ru("%"),Ee=Ru("px"),fC=Ru("vh"),pC=Ru("vw"),$v={...Er,parse:n=>Er.parse(n)/100,transform:n=>Er.transform(n*100)},mC={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},gC={rotate:Qi,rotateX:Qi,rotateY:Qi,rotateZ:Qi,scale:hd,scaleX:hd,scaleY:hd,scaleZ:hd,skew:Qi,skewX:Qi,skewY:Qi,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:pu,originX:$v,originY:$v,originZ:Ee},Wv={...Ma,transform:Math.round},$m={...mC,...gC,zIndex:Wv,size:Ee,fillOpacity:pu,strokeOpacity:pu,numOctaves:Wv},yC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vC=Va.length;function wC(n,e,t){let r="",s=!0;for(let a=0;a<vC;a++){const l=Va[a],d=n[l];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(l.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const p=Z_(d,$m[l]);if(!f){s=!1;const y=yC[l]||l;r+=`${y}(${p}) `}t&&(e[l]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function Wm(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let l=!1,d=!1;for(const f in e){const p=e[f];if(lo.has(f)){l=!0;continue}else if(J_(f)){s[f]=p;continue}else{const y=Z_(p,$m[f]);f.startsWith("origin")?(d=!0,a[f]=y):r[f]=y}}if(e.transform||(l||t?r.transform=wC(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:y=0}=a;r.transformOrigin=`${f} ${p} ${y}`}}const xC={offset:"stroke-dashoffset",array:"stroke-dasharray"},_C={offset:"strokeDashoffset",array:"strokeDasharray"};function EC(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?xC:_C;n[a.offset]=Ee.transform(-r);const l=Ee.transform(e),d=Ee.transform(t);n[a.array]=`${l} ${d}`}function Gv(n,e,t){return typeof n=="string"?n:Ee.transform(e+t*n)}function TC(n,e,t){const r=Gv(e,n.x,n.width),s=Gv(t,n.y,n.height);return`${r} ${s}`}function Gm(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:d=1,pathOffset:f=0,...p},y,x){if(Wm(n,p,x),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:A,dimensions:M}=n;E.transform&&(M&&(A.transform=E.transform),delete E.transform),M&&(s!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=TC(M,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),r!==void 0&&(E.scale=r),l!==void 0&&EC(E,l,d,f,!1)}const qm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),e1=()=>({...qm(),attrs:{}}),Km=n=>typeof n=="string"&&n.toLowerCase()==="svg";function t1(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const n1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r1(n,e,t,r){t1(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(n1.has(s)?s:Fm(s),e.attrs[s])}const Ld={};function bC(n){Object.assign(Ld,n)}function i1(n,{layout:e,layoutId:t}){return lo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ld[n]||n==="opacity")}function Qm(n,e,t){var r;const{style:s}=n,a={};for(const l in s)(en(s[l])||e.style&&en(e.style[l])||i1(l,n)||((r=t?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function s1(n,e,t){const r=Qm(n,e,t);for(const s in n)if(en(n[s])||en(e[s])){const a=Va.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}function IC(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const qv=["x","y","width","height","cx","cy","r"],SC={useVisualState:Y_({scrapeMotionValuesFromProps:s1,createRenderState:e1,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let a=!!n.drag;if(!a){for(const d in s)if(lo.has(d)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let d=0;d<qv.length;d++){const f=qv[d];n[f]!==e[f]&&(l=!0)}l&&st.read(()=>{IC(t,r),st.render(()=>{Gm(r,s,Km(t.tagName),n.transformTemplate),r1(t,r)})})}})},CC={useVisualState:Y_({scrapeMotionValuesFromProps:Qm,createRenderState:qm})};function o1(n,e,t){for(const r in e)!en(e[r])&&!i1(r,t)&&(n[r]=e[r])}function AC({transformTemplate:n},e){return L.useMemo(()=>{const t=qm();return Wm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function kC(n,e){const t=n.style||{},r={};return o1(r,t,n),Object.assign(r,AC(n,e)),r}function PC(n,e){const t={},r=kC(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function RC(n,e,t,r){const s=L.useMemo(()=>{const a=e1();return Gm(a,e,Km(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};o1(a,n.style,n),s.style={...a,...s.style}}return s}function NC(n=!1){return(t,r,s,{latestValues:a},l)=>{const f=(Bm(t)?RC:PC)(r,a,l,t),p=qS(r,typeof t=="string",n),y=t!==L.Fragment?{...p,...f,ref:s}:{},{children:x}=r,E=L.useMemo(()=>en(x)?x.get():x,[x]);return L.createElement(t,{...y,children:E})}}function DC(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Bm(r)?SC:CC,preloadedFeatures:n,useRender:NC(s),createVisualElement:e,Component:r};return nC(l)}}function a1(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function fh(n,e,t){const r=n.getProps();return zm(r,e,t!==void 0?t:r.custom,n)}function Ym(n,e){return n?n[e]||n.default||n:void 0}const l1=new Set(["width","height","top","left","right","bottom",...Va]);let Ed;function VC(){Ed=void 0}const Tr={now:()=>(Ed===void 0&&Tr.set(Ut.isProcessing||BS.useManualTiming?Ut.timestamp:performance.now()),Ed),set:n=>{Ed=n,queueMicrotask(VC)}};function Xm(n,e){n.indexOf(e)===-1&&n.push(e)}function Jm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Zm{constructor(){this.subscriptions=[]}add(e){return Xm(this.subscriptions,e),()=>Jm(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function u1(n,e){return e?n*(1e3/e):0}const Kv=30,MC=n=>!isNaN(parseFloat(n));class jC{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Tr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Zm);const r=this.events[e].add(t);return e==="change"?()=>{r(),st.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Kv)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Kv);return u1(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mu(n,e){return new jC(n,e)}function LC(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,mu(t))}function OC(n,e){const t=fh(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const l in a){const d=lC(a[l]);LC(n,l,d)}}function FC(n){return!!(en(n)&&n.add)}function Bp(n,e){const t=n.getValue("willChange");if(FC(t))return t.add(e)}function c1(n){return n.props[q_]}function eg(n){let e;return()=>(e===void 0&&(e=n()),e)}const UC=eg(()=>window.ScrollTimeline!==void 0);class BC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(UC()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class zC extends BC{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}const ii=n=>n*1e3,si=n=>n/1e3;function tg(n){return typeof n=="function"}function Qv(n,e){n.timeline=e,n.onfinish=null}const ng=n=>Array.isArray(n)&&typeof n[0]=="number",HC={linearEasing:void 0};function $C(n,e){const t=eg(n);return()=>{var r;return(r=HC[e])!==null&&r!==void 0?r:t()}}const Od=$C(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ta=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},d1=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=n(Ta(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function h1(n){return!!(typeof n=="function"&&Od()||!n||typeof n=="string"&&(n in zp||Od())||ng(n)||Array.isArray(n)&&n.every(h1))}const Kl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,zp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kl([0,.65,.55,1]),circOut:Kl([.55,0,1,.45]),backIn:Kl([.31,.01,.66,-.59]),backOut:Kl([.33,1.53,.69,.99])};function f1(n,e){if(n)return typeof n=="function"&&Od()?d1(n,e):ng(n)?Kl(n):Array.isArray(n)?n.map(t=>f1(t,e)||zp.easeOut):zp[n]}const p1=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,WC=1e-7,GC=12;function qC(n,e,t,r,s){let a,l,d=0;do l=e+(t-e)/2,a=p1(l,r,s)-n,a>0?t=l:e=l;while(Math.abs(a)>WC&&++d<GC);return l}function Nu(n,e,t,r){if(n===e&&t===r)return In;const s=a=>qC(a,0,1,n,t);return a=>a===0||a===1?a:p1(s(a),e,r)}const m1=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,g1=n=>e=>1-n(1-e),y1=Nu(.33,1.53,.69,.99),rg=g1(y1),v1=m1(rg),w1=n=>(n*=2)<1?.5*rg(n):.5*(2-Math.pow(2,-10*(n-1))),ig=n=>1-Math.sin(Math.acos(n)),x1=g1(ig),_1=m1(ig),E1=n=>/^0[^.\s]+$/u.test(n);function KC(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||E1(n):!0}const ru=n=>Math.round(n*1e5)/1e5,sg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QC(n){return n==null}const YC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,og=(n,e)=>t=>!!(typeof t=="string"&&YC.test(t)&&t.startsWith(n)||e&&!QC(t)&&Object.prototype.hasOwnProperty.call(t,e)),T1=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,l,d]=r.match(sg);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},XC=n=>ai(0,255,n),dp={...Ma,transform:n=>Math.round(XC(n))},Xs={test:og("rgb","red"),parse:T1("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+dp.transform(n)+", "+dp.transform(e)+", "+dp.transform(t)+", "+ru(pu.transform(r))+")"};function JC(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Hp={test:og("#"),parse:JC,transform:Xs.transform},la={test:og("hsl","hue"),parse:T1("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Er.transform(ru(e))+", "+Er.transform(ru(t))+", "+ru(pu.transform(r))+")"},Xt={test:n=>Xs.test(n)||Hp.test(n)||la.test(n),parse:n=>Xs.test(n)?Xs.parse(n):la.test(n)?la.parse(n):Hp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Xs.transform(n):la.transform(n)},ZC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eA(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(sg))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(ZC))===null||t===void 0?void 0:t.length)||0)>0}const b1="number",I1="color",tA="var",nA="var(",Yv="${}",rA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const d=e.replace(rA,f=>(Xt.test(f)?(r.color.push(a),s.push(I1),t.push(Xt.parse(f))):f.startsWith(nA)?(r.var.push(a),s.push(tA),t.push(f)):(r.number.push(a),s.push(b1),t.push(parseFloat(f))),++a,Yv)).split(Yv);return{values:t,split:d,indexes:r,types:s}}function S1(n){return gu(n).values}function C1(n){const{split:e,types:t}=gu(n),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const d=t[l];d===b1?a+=ru(s[l]):d===I1?a+=Xt.transform(s[l]):a+=s[l]}return a}}const iA=n=>typeof n=="number"?0:n;function sA(n){const e=S1(n);return C1(n)(e.map(iA))}const us={test:eA,parse:S1,createTransformer:C1,getAnimatableNone:sA},oA=new Set(["brightness","contrast","saturate","opacity"]);function aA(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(sg)||[];if(!r)return n;const s=t.replace(r,"");let a=oA.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const lA=/\b([a-z-]*)\(.*?\)/gu,$p={...us,getAnimatableNone:n=>{const e=n.match(lA);return e?e.map(aA).join(" "):n}},uA={...$m,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:$p,WebkitFilter:$p},ag=n=>uA[n];function A1(n,e){let t=ag(n);return t!==$p&&(t=us),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const cA=new Set(["auto","none","0"]);function dA(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!cA.has(a)&&gu(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=A1(t,s)}const Xv=n=>n===Ma||n===Ee,Jv=(n,e)=>parseFloat(n.split(", ")[e]),Zv=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Jv(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Jv(a[1],n):0}},hA=new Set(["x","y","z"]),fA=Va.filter(n=>!hA.has(n));function pA(n){const e=[];return fA.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const ba={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Zv(4,13),y:Zv(5,14)};ba.translateX=ba.x;ba.translateY=ba.y;const Zs=new Set;let Wp=!1,Gp=!1;function k1(){if(Gp){const n=Array.from(Zs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=pA(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,l])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gp=!1,Wp=!1,Zs.forEach(n=>n.complete()),Zs.clear()}function P1(){Zs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Gp=!0)})}function mA(){P1(),k1()}class lg{constructor(e,t,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zs.add(this),Wp||(Wp=!0,st.read(P1),st.resolveKeyframes(k1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s?.get(),d=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const f=r.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const R1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),gA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yA(n){const e=gA.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function N1(n,e,t=1){const[r,s]=yA(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return R1(l)?parseFloat(l):l}return Hm(s)?N1(s,e,t+1):s}const D1=n=>e=>e.test(n),vA={test:n=>n==="auto",parse:n=>n},V1=[Ma,Ee,Er,Qi,pC,fC,vA],ew=n=>V1.find(D1(n));class M1 extends lg{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Hm(p))){const y=N1(p,t.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!l1.has(r)||e.length!==2)return;const[s,a]=e,l=ew(s),d=ew(a);if(l!==d)if(Xv(l)&&Xv(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)KC(e[s])&&r.push(s);r.length&&dA(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ba[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,d=s[l];s[l]=ba[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const tw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(us.test(n)||n==="0")&&!n.startsWith("url("));function wA(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function xA(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=tw(s,e),d=tw(a,e);return!l||!d?!1:wA(n)||(t==="spring"||tg(t))&&r}const _A=n=>n!==null;function ph(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(_A),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const EA=40;class j1{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Tr.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:l,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>EA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&mA(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Tr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!xA(e,r,s,a))if(l)this.options.duration=0;else{f&&f(ph(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,t);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...y},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const qp=2e4;function L1(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<qp;)e+=t,r=n.next(e);return e>=qp?1/0:e}const ut=(n,e,t)=>n+(e-n)*t;function hp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function TA({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;s=hp(f,d,n+1/3),a=hp(f,d,n),l=hp(f,d,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Fd(n,e){return t=>t>0?e:n}const fp=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},bA=[Hp,Xs,la],IA=n=>bA.find(e=>e.test(n));function nw(n){const e=IA(n);if(!e)return!1;let t=e.parse(n);return e===la&&(t=TA(t)),t}const rw=(n,e)=>{const t=nw(n),r=nw(e);if(!t||!r)return Fd(n,e);const s={...t};return a=>(s.red=fp(t.red,r.red,a),s.green=fp(t.green,r.green,a),s.blue=fp(t.blue,r.blue,a),s.alpha=ut(t.alpha,r.alpha,a),Xs.transform(s))},SA=(n,e)=>t=>e(n(t)),Du=(...n)=>n.reduce(SA),Kp=new Set(["none","hidden"]);function CA(n,e){return Kp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function AA(n,e){return t=>ut(n,e,t)}function ug(n){return typeof n=="number"?AA:typeof n=="string"?Hm(n)?Fd:Xt.test(n)?rw:RA:Array.isArray(n)?O1:typeof n=="object"?Xt.test(n)?rw:kA:Fd}function O1(n,e){const t=[...n],r=t.length,s=n.map((a,l)=>ug(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=s[l](a);return t}}function kA(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=ug(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function PA(n,e){var t;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],d=n.indexes[l][s[l]],f=(t=n.values[d])!==null&&t!==void 0?t:0;r[a]=f,s[l]++}return r}const RA=(n,e)=>{const t=us.createTransformer(e),r=gu(n),s=gu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Kp.has(n)&&!s.values.length||Kp.has(e)&&!r.values.length?CA(n,e):Du(O1(PA(r,s),s.values),t):Fd(n,e)};function F1(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ut(n,e,t):ug(n)(n,e)}const NA=5;function U1(n,e,t){const r=Math.max(e-NA,0);return u1(t-n(r),e-r)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pp=.001;function DA({duration:n=pt.duration,bounce:e=pt.bounce,velocity:t=pt.velocity,mass:r=pt.mass}){let s,a,l=1-e;l=ai(pt.minDamping,pt.maxDamping,l),n=ai(pt.minDuration,pt.maxDuration,si(n)),l<1?(s=p=>{const y=p*l,x=y*n,E=y-t,A=Qp(p,l),M=Math.exp(-x);return pp-E/A*M},a=p=>{const x=p*l*n,E=x*t+t,A=Math.pow(l,2)*Math.pow(p,2)*n,M=Math.exp(-x),R=Qp(Math.pow(p,2),l);return(-s(p)+pp>0?-1:1)*((E-A)*M)/R}):(s=p=>{const y=Math.exp(-p*n),x=(p-t)*n+1;return-pp+y*x},a=p=>{const y=Math.exp(-p*n),x=(t-p)*(n*n);return y*x});const d=5/n,f=MA(s,a,d);if(n=ii(n),isNaN(f))return{stiffness:pt.stiffness,damping:pt.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:n}}}const VA=12;function MA(n,e,t){let r=t;for(let s=1;s<VA;s++)r=r-n(r)/e(r);return r}function Qp(n,e){return n*Math.sqrt(1-e*e)}const jA=["duration","bounce"],LA=["stiffness","damping","mass"];function iw(n,e){return e.some(t=>n[t]!==void 0)}function OA(n){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...n};if(!iw(n,LA)&&iw(n,jA))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*ai(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:pt.mass,stiffness:s,damping:a}}else{const t=DA(n);e={...e,...t,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function B1(n=pt.visualDuration,e=pt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:y,duration:x,velocity:E,isResolvedFromDuration:A}=OA({...t,velocity:-si(t.velocity||0)}),M=E||0,R=p/(2*Math.sqrt(f*y)),I=l-a,j=si(Math.sqrt(f/y)),U=Math.abs(I)<5;r||(r=U?pt.restSpeed.granular:pt.restSpeed.default),s||(s=U?pt.restDelta.granular:pt.restDelta.default);let q;if(R<1){const ne=Qp(j,R);q=le=>{const k=Math.exp(-R*j*le);return l-k*((M+R*j*I)/ne*Math.sin(ne*le)+I*Math.cos(ne*le))}}else if(R===1)q=ne=>l-Math.exp(-j*ne)*(I+(M+j*I)*ne);else{const ne=j*Math.sqrt(R*R-1);q=le=>{const k=Math.exp(-R*j*le),b=Math.min(ne*le,300);return l-k*((M+R*j*I)*Math.sinh(b)+ne*I*Math.cosh(b))/ne}}const ee={calculatedDuration:A&&x||null,next:ne=>{const le=q(ne);if(A)d.done=ne>=x;else{let k=0;R<1&&(k=ne===0?ii(M):U1(q,ne,le));const b=Math.abs(k)<=r,S=Math.abs(l-le)<=s;d.done=b&&S}return d.value=d.done?l:le,d},toString:()=>{const ne=Math.min(L1(ee),qp),le=d1(k=>ee.next(ne*k).value,ne,30);return ne+"ms "+le}};return ee}function sw({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:f,restDelta:p=.5,restSpeed:y}){const x=n[0],E={done:!1,value:x},A=b=>d!==void 0&&b<d||f!==void 0&&b>f,M=b=>d===void 0?f:f===void 0||Math.abs(d-b)<Math.abs(f-b)?d:f;let R=t*e;const I=x+R,j=l===void 0?I:l(I);j!==I&&(R=j-x);const U=b=>-R*Math.exp(-b/r),q=b=>j+U(b),ee=b=>{const S=U(b),N=q(b);E.done=Math.abs(S)<=p,E.value=E.done?j:N};let ne,le;const k=b=>{A(E.value)&&(ne=b,le=B1({keyframes:[E.value,M(E.value)],velocity:U1(q,b,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:y}))};return k(0),{calculatedDuration:null,next:b=>{let S=!1;return!le&&ne===void 0&&(S=!0,ee(b),k(b)),ne!==void 0&&b>=ne?le.next(b-ne):(!S&&ee(b),E)}}}const FA=Nu(.42,0,1,1),UA=Nu(0,0,.58,1),z1=Nu(.42,0,.58,1),BA=n=>Array.isArray(n)&&typeof n[0]!="number",zA={linear:In,easeIn:FA,easeInOut:z1,easeOut:UA,circIn:ig,circInOut:_1,circOut:x1,backIn:rg,backInOut:v1,backOut:y1,anticipate:w1},ow=n=>{if(ng(n)){z_(n.length===4);const[e,t,r,s]=n;return Nu(e,t,r,s)}else if(typeof n=="string")return zA[n];return n};function HA(n,e,t){const r=[],s=t||F1,a=n.length-1;for(let l=0;l<a;l++){let d=s(n[l],n[l+1]);if(e){const f=Array.isArray(e)?e[l]||In:e;d=Du(f,d)}r.push(d)}return r}function $A(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(z_(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=HA(e,r,s),f=d.length,p=y=>{if(l&&y<n[0])return e[0];let x=0;if(f>1)for(;x<n.length-2&&!(y<n[x+1]);x++);const E=Ta(n[x],n[x+1],y);return d[x](E)};return t?y=>p(ai(n[0],n[a-1],y)):p}function WA(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Ta(0,e,r);n.push(ut(t,1,s))}}function GA(n){const e=[0];return WA(e,n.length-1),e}function qA(n,e){return n.map(t=>t*e)}function KA(n,e){return n.map(()=>e||z1).splice(0,n.length-1)}function Ud({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=BA(r)?r.map(ow):ow(r),a={done:!1,value:e[0]},l=qA(t&&t.length===e.length?t:GA(e),n),d=$A(l,e,{ease:Array.isArray(s)?s:KA(e,s)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const QA=n=>{const e=({timestamp:t})=>n(t);return{start:()=>st.update(e,!0),stop:()=>ls(e),now:()=>Ut.isProcessing?Ut.timestamp:Tr.now()}},YA={decay:sw,inertia:sw,tween:Ud,keyframes:Ud,spring:B1},XA=n=>n/100;class cg extends j1{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:s,keyframes:a}=this.options,l=s?.KeyframeResolver||lg,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new l(a,d,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,d=tg(t)?t:YA[t]||Ud;let f,p;d!==Ud&&typeof e[0]!="number"&&(f=Du(XA,F1(e[0],e[1])),e=[0,100]);const y=d({...this.options,keyframes:e});a==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-l})),y.calculatedDuration===null&&(y.calculatedDuration=L1(y));const{calculatedDuration:x}=y,E=x+s,A=E*(r+1)-s;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:x,resolvedDuration:E,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:y,resolvedDuration:x}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:A,repeatType:M,repeatDelay:R,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-E*(this.speed>=0?1:-1),U=this.speed>=0?j<0:j>y;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let q=this.currentTime,ee=a;if(A){const b=Math.min(this.currentTime,y)/x;let S=Math.floor(b),N=b%1;!N&&b>=1&&(N=1),N===1&&S--,S=Math.min(S,A+1),!!(S%2)&&(M==="reverse"?(N=1-N,R&&(N-=R/x)):M==="mirror"&&(ee=l)),q=ai(0,1,N)*x}const ne=U?{done:!1,value:f[0]}:ee.next(q);d&&(ne.value=d(ne.value));let{done:le}=ne;!U&&p!==null&&(le=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return k&&s!==void 0&&(ne.value=ph(f,this.options,s)),I&&I(ne.value),k&&this.finish(),ne}get duration(){const{resolved:e}=this;return e?si(e.calculatedDuration):0}get time(){return si(this.currentTime)}set time(e){e=ii(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=si(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=QA,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const JA=new Set(["opacity","clipPath","filter","transform"]);function ZA(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:d="easeInOut",times:f}={}){const p={[e]:t};f&&(p.offset=f);const y=f1(d,s);return Array.isArray(y)&&(p.easing=y),n.animate(p,{delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const ek=eg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bd=10,tk=2e4;function nk(n){return tg(n.type)||n.type==="spring"||!h1(n.ease)}function rk(n,e){const t=new cg({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let a=0;for(;!r.done&&a<tk;)r=t.sample(a),s.push(r.value),a+=Bd;return{times:void 0,keyframes:s,duration:a-Bd,ease:"linear"}}const H1={anticipate:w1,backInOut:v1,circInOut:_1};function ik(n){return n in H1}class aw extends j1{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new M1(a,(l,d)=>this.onKeyframesResolved(l,d),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:s,ease:a,type:l,motionValue:d,name:f,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&Od()&&ik(a)&&(a=H1[a]),nk(this.options)){const{onComplete:x,onUpdate:E,motionValue:A,element:M,...R}=this.options,I=rk(e,R);e=I.keyframes,e.length===1&&(e[1]=e[0]),r=I.duration,s=I.times,a=I.ease,l="keyframes"}const y=ZA(d.owner.current,f,e,{...this.options,duration:r,times:s,ease:a});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(Qv(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:x}=this.options;d.set(ph(e,this.options,t)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return si(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return si(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=ii(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return In;const{animation:r}=t;Qv(r,e)}return In}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:a,ease:l,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:x,element:E,...A}=this.options,M=new cg({...A,keyframes:r,duration:s,type:a,ease:l,times:d,isGenerator:!0}),R=ii(this.time);p.setWithVelocity(M.sample(R-Bd).value,M.sample(R).value,Bd)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:l,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=t.owner.getProps();return ek()&&r&&JA.has(r)&&!f&&!p&&!s&&a!=="mirror"&&l!==0&&d!=="inertia"}}const sk={type:"spring",stiffness:500,damping:25,restSpeed:10},ok=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ak={type:"keyframes",duration:.8},lk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uk=(n,{keyframes:e})=>e.length>2?ak:lo.has(n)?n.startsWith("scale")?ok(e[1]):sk:lk;function ck({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:d,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const dg=(n,e,t,r={},s,a)=>l=>{const d=Ym(r,n)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ii(f);let y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:s};ck(d)||(y={...y,...uk(n,y)}),y.duration&&(y.duration=ii(y.duration)),y.repeatDelay&&(y.repeatDelay=ii(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(x=!0)),x&&!a&&e.get()!==void 0){const E=ph(y.keyframes,d);if(E!==void 0)return st.update(()=>{y.onUpdate(E),y.onComplete()}),new zC([])}return!a&&aw.supports(y)?new aw(y):new cg(y)};function dk({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function $1(n,e,{delay:t=0,transitionOverride:r,type:s}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(l=r);const p=[],y=s&&n.animationState&&n.animationState.getState()[s];for(const x in f){const E=n.getValue(x,(a=n.latestValues[x])!==null&&a!==void 0?a:null),A=f[x];if(A===void 0||y&&dk(y,x))continue;const M={delay:t,...Ym(l||{},x)};let R=!1;if(window.MotionHandoffAnimation){const j=c1(n);if(j){const U=window.MotionHandoffAnimation(j,x,st);U!==null&&(M.startTime=U,R=!0)}}Bp(n,x),E.start(dg(x,E,A,n.shouldReduceMotion&&l1.has(x)?{type:!1}:M,n,R));const I=E.animation;I&&p.push(I)}return d&&Promise.all(p).then(()=>{st.update(()=>{d&&OC(n,d)})}),p}function Yp(n,e,t={}){var r;const s=fh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const l=s?()=>Promise.all($1(n,s,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:E}=a;return hk(n,e,y+p,x,E,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,d]:[d,l];return p().then(()=>y())}else return Promise.all([l(),d(t.delay)])}function hk(n,e,t=0,r=0,s=1,a){const l=[],d=(n.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(n.variantChildren).sort(fk).forEach((p,y)=>{p.notify("AnimationStart",e),l.push(Yp(p,e,{...a,delay:t+f(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function fk(n,e){return n.sortNodePosition(e)}function pk(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Yp(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=Yp(n,e,t);else{const s=typeof e=="function"?fh(n,e,t.custom):e;r=Promise.all($1(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const mk=Om.length;function W1(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?W1(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<mk;t++){const r=Om[t],s=n.props[r];(fu(s)||s===!1)&&(e[r]=s)}return e}const gk=[...Lm].reverse(),yk=Lm.length;function vk(n){return e=>Promise.all(e.map(({animation:t,options:r})=>pk(n,t,r)))}function wk(n){let e=vk(n),t=lw(),r=!0;const s=f=>(p,y)=>{var x;const E=fh(n,y,f==="exit"?(x=n.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(E){const{transition:A,transitionEnd:M,...R}=E;p={...p,...R,...M}}return p};function a(f){e=f(n)}function l(f){const{props:p}=n,y=W1(n.parent)||{},x=[],E=new Set;let A={},M=1/0;for(let I=0;I<yk;I++){const j=gk[I],U=t[j],q=p[j]!==void 0?p[j]:y[j],ee=fu(q),ne=j===f?U.isActive:null;ne===!1&&(M=I);let le=q===y[j]&&q!==p[j]&&ee;if(le&&r&&n.manuallyAnimateOnMount&&(le=!1),U.protectedKeys={...A},!U.isActive&&ne===null||!q&&!U.prevProp||dh(q)||typeof q=="boolean")continue;const k=xk(U.prevProp,q);let b=k||j===f&&U.isActive&&!le&&ee||I>M&&ee,S=!1;const N=Array.isArray(q)?q:[q];let V=N.reduce(s(j),{});ne===!1&&(V={});const{prevResolvedValues:F={}}=U,P={...F,...V},ye=Ie=>{b=!0,E.has(Ie)&&(S=!0,E.delete(Ie)),U.needsAnimating[Ie]=!0;const G=n.getValue(Ie);G&&(G.liveStyle=!1)};for(const Ie in P){const G=V[Ie],Y=F[Ie];if(A.hasOwnProperty(Ie))continue;let J=!1;Up(G)&&Up(Y)?J=!a1(G,Y):J=G!==Y,J?G!=null?ye(Ie):E.add(Ie):G!==void 0&&E.has(Ie)?ye(Ie):U.protectedKeys[Ie]=!0}U.prevProp=q,U.prevResolvedValues=V,U.isActive&&(A={...A,...V}),r&&n.blockInitialAnimation&&(b=!1),b&&(!(le&&k)||S)&&x.push(...N.map(Ie=>({animation:Ie,options:{type:j}})))}if(E.size){const I={};E.forEach(j=>{const U=n.getBaseTarget(j),q=n.getValue(j);q&&(q.liveStyle=!0),I[j]=U??null}),x.push({animation:I})}let R=!!x.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(x):Promise.resolve()}function d(f,p){var y;if(t[f].isActive===p)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(E=>{var A;return(A=E.animationState)===null||A===void 0?void 0:A.setActive(f,p)}),t[f].isActive=p;const x=l(f);for(const E in t)t[E].protectedKeys={};return x}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=lw(),r=!0}}}function xk(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!a1(e,n):!1}function qs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lw(){return{animate:qs(!0),whileInView:qs(),whileHover:qs(),whileTap:qs(),whileDrag:qs(),whileFocus:qs(),exit:qs()}}class gs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _k extends gs{constructor(e){super(e),e.animationState||(e.animationState=wk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Ek=0;class Tk extends gs{constructor(){super(...arguments),this.id=Ek++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const bk={animation:{Feature:_k},exit:{Feature:Tk}},Xn={x:!1,y:!1};function G1(){return Xn.x||Xn.y}function Ik(n){return n==="x"||n==="y"?Xn[n]?null:(Xn[n]=!0,()=>{Xn[n]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}const hg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function yu(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Vu(n){return{point:{x:n.pageX,y:n.pageY}}}const Sk=n=>e=>hg(e)&&n(e,Vu(e));function iu(n,e,t,r){return yu(n,e,Sk(t),r)}const uw=(n,e)=>Math.abs(n-e);function Ck(n,e){const t=uw(n.x,e.x),r=uw(n.y,e.y);return Math.sqrt(t**2+r**2)}class q1{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=gp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=Ck(x.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:M}=x,{timestamp:R}=Ut;this.history.push({...M,timestamp:R});const{onStart:I,onMove:j}=this.handlers;E||(I&&I(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=mp(E,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:A,onSessionEnd:M,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=gp(x.type==="pointercancel"?this.lastMoveEventInfo:mp(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(x,I),M&&M(x,I)},!hg(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const l=Vu(e),d=mp(l,this.transformPagePoint),{point:f}=d,{timestamp:p}=Ut;this.history=[{...f,timestamp:p}];const{onSessionStart:y}=t;y&&y(e,gp(d,this.history)),this.removeListeners=Du(iu(this.contextWindow,"pointermove",this.handlePointerMove),iu(this.contextWindow,"pointerup",this.handlePointerUp),iu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ls(this.updatePoint)}}function mp(n,e){return e?{point:e(n.point)}:n}function cw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function gp({point:n},e){return{point:n,delta:cw(n,K1(e)),offset:cw(n,Ak(e)),velocity:kk(e,.1)}}function Ak(n){return n[0]}function K1(n){return n[n.length-1]}function kk(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=K1(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>ii(e)));)t--;if(!r)return{x:0,y:0};const a=si(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const Q1=1e-4,Pk=1-Q1,Rk=1+Q1,Y1=.01,Nk=0-Y1,Dk=0+Y1;function Sn(n){return n.max-n.min}function Vk(n,e,t){return Math.abs(n-e)<=t}function dw(n,e,t,r=.5){n.origin=r,n.originPoint=ut(e.min,e.max,n.origin),n.scale=Sn(t)/Sn(e),n.translate=ut(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Pk&&n.scale<=Rk||isNaN(n.scale))&&(n.scale=1),(n.translate>=Nk&&n.translate<=Dk||isNaN(n.translate))&&(n.translate=0)}function su(n,e,t,r){dw(n.x,e.x,t.x,r?r.originX:void 0),dw(n.y,e.y,t.y,r?r.originY:void 0)}function hw(n,e,t){n.min=t.min+e.min,n.max=n.min+Sn(e)}function Mk(n,e,t){hw(n.x,e.x,t.x),hw(n.y,e.y,t.y)}function fw(n,e,t){n.min=e.min-t.min,n.max=n.min+Sn(e)}function ou(n,e,t){fw(n.x,e.x,t.x),fw(n.y,e.y,t.y)}function jk(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ut(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ut(t,n,r.max):Math.min(n,t)),n}function pw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Lk(n,{top:e,left:t,bottom:r,right:s}){return{x:pw(n.x,t,s),y:pw(n.y,e,r)}}function mw(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Ok(n,e){return{x:mw(n.x,e.x),y:mw(n.y,e.y)}}function Fk(n,e){let t=.5;const r=Sn(n),s=Sn(e);return s>r?t=Ta(e.min,e.max-r,n.min):r>s&&(t=Ta(n.min,n.max-s,e.min)),ai(0,1,t)}function Uk(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Xp=.35;function Bk(n=Xp){return n===!1?n=0:n===!0&&(n=Xp),{x:gw(n,"left","right"),y:gw(n,"top","bottom")}}function gw(n,e,t){return{min:yw(n,e),max:yw(n,t)}}function yw(n,e){return typeof n=="number"?n:n[e]||0}const vw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ua=()=>({x:vw(),y:vw()}),ww=()=>({min:0,max:0}),wt=()=>({x:ww(),y:ww()});function jn(n){return[n("x"),n("y")]}function X1({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function zk({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Hk(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function yp(n){return n===void 0||n===1}function Jp({scale:n,scaleX:e,scaleY:t}){return!yp(n)||!yp(e)||!yp(t)}function Ks(n){return Jp(n)||J1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function J1(n){return xw(n.x)||xw(n.y)}function xw(n){return n&&n!=="0%"}function zd(n,e,t){const r=n-t,s=e*r;return t+s}function _w(n,e,t,r,s){return s!==void 0&&(n=zd(n,s,r)),zd(n,t,r)+e}function Zp(n,e=0,t=1,r,s){n.min=_w(n.min,e,t,r,s),n.max=_w(n.max,e,t,r,s)}function Z1(n,{x:e,y:t}){Zp(n.x,e.translate,e.scale,e.originPoint),Zp(n.y,t.translate,t.scale,t.originPoint)}const Ew=.999999999999,Tw=1.0000000000001;function $k(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let d=0;d<s;d++){a=t[d],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&da(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Z1(n,l)),r&&Ks(a.latestValues)&&da(n,a.latestValues))}e.x<Tw&&e.x>Ew&&(e.x=1),e.y<Tw&&e.y>Ew&&(e.y=1)}function ca(n,e){n.min=n.min+e,n.max=n.max+e}function bw(n,e,t,r,s=.5){const a=ut(n.min,n.max,s);Zp(n,e,t,a,r)}function da(n,e){bw(n.x,e.x,e.scaleX,e.scale,e.originX),bw(n.y,e.y,e.scaleY,e.scale,e.originY)}function eE(n,e){return X1(Hk(n.getBoundingClientRect(),e))}function Wk(n,e,t){const r=eE(n,t),{scroll:s}=e;return s&&(ca(r.x,s.offset.x),ca(r.y,s.offset.y)),r}const tE=({current:n})=>n?n.ownerDocument.defaultView:null,Gk=new WeakMap;class qk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Vu(y).point)},a=(y,x)=>{const{drag:E,dragPropagation:A,onDragStart:M}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ik(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(I=>{let j=this.getAxisMotionValue(I).get()||0;if(Er.test(j)){const{projection:U}=this.visualElement;if(U&&U.layout){const q=U.layout.layoutBox[I];q&&(j=Sn(q)*(parseFloat(j)/100))}}this.originPoint[I]=j}),M&&st.postRender(()=>M(y,x)),Bp(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},l=(y,x)=>{const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:M,onDrag:R}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:I}=x;if(A&&this.currentDirection===null){this.currentDirection=Kk(I),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",x.point,I),this.updateAxis("y",x.point,I),this.visualElement.render(),R&&R(y,x)},d=(y,x)=>this.stop(y,x),f=()=>jn(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new q1(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:tE(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&st.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!fd(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=jk(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&aa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Lk(s.layoutBox,t):this.constraints=!1,this.elastic=Bk(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Uk(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!aa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Wk(r,s.root,this.visualElement.getTransformPagePoint());let l=Ok(s.layout.layoutBox,a);if(t){const d=t(zk(l));this.hasMutatedConstraints=!!d,d&&(l=X1(d))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=jn(y=>{if(!fd(y,t,this.currentDirection))return;let x=f&&f[y]||{};l&&(x={min:0,max:0});const E=s?200:1e6,A=s?40:1e7,M={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...x};return this.startAxisValueAnimation(y,M)});return Promise.all(p).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Bp(this.visualElement,e),r.start(dg(e,r,0,t,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(t=>{const{drag:r}=this.getProps();if(!fd(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:d}=s.layout.layoutBox[t];a.set(e[t]-ut(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!aa(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jn(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const f=d.get();s[l]=Fk({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(l=>{if(!fd(l,e,null))return;const d=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];d.set(ut(f,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;Gk.set(this.visualElement,this);const e=this.visualElement.current,t=iu(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();aa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),st.read(r);const l=yu(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(jn(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=f[y].translate,x.set(x.get()+f[y].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Xp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function fd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Kk(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Qk extends gs{constructor(e){super(e),this.removeGroupControls=In,this.removeListeners=In,this.controls=new qk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const Iw=n=>(e,t)=>{n&&st.postRender(()=>n(e,t))};class Yk extends gs{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(e){this.session=new q1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Iw(e),onStart:Iw(t),onMove:r,onEnd:(a,l)=>{delete this.session,s&&st.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Td={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const zl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ee.test(n))n=parseFloat(n);else return n;const t=Sw(n,e.target.x),r=Sw(n,e.target.y);return`${t}% ${r}%`}},Xk={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=us.parse(n);if(s.length>5)return r;const a=us.createTransformer(n),l=typeof s[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;s[0+l]/=d,s[1+l]/=f;const p=ut(d,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class Jk extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;bC(Zk),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Td.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||st.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Um.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nE(n){const[e,t]=FS(),r=L.useContext(U_);return g.jsx(Jk,{...n,layoutGroup:r,switchLayoutGroup:L.useContext(K_),isPresent:e,safeToRemove:t})}const Zk={borderRadius:{...zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zl,borderTopRightRadius:zl,borderBottomLeftRadius:zl,borderBottomRightRadius:zl,boxShadow:Xk};function eP(n,e,t){const r=en(n)?n:mu(n);return r.start(dg("",r,e,t)),r.animation}function tP(n){return n instanceof SVGElement&&n.tagName!=="svg"}const nP=(n,e)=>n.depth-e.depth;class rP{constructor(){this.children=[],this.isDirty=!1}add(e){Xm(this.children,e),this.isDirty=!0}remove(e){Jm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nP),this.isDirty=!1,this.children.forEach(e)}}function iP(n,e){const t=Tr.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(ls(r),n(a-e))};return st.read(r,!0),()=>ls(r)}const rE=["TopLeft","TopRight","BottomLeft","BottomRight"],sP=rE.length,Cw=n=>typeof n=="string"?parseFloat(n):n,Aw=n=>typeof n=="number"||Ee.test(n);function oP(n,e,t,r,s,a){s?(n.opacity=ut(0,t.opacity!==void 0?t.opacity:1,aP(r)),n.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,lP(r))):a&&(n.opacity=ut(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<sP;l++){const d=`border${rE[l]}Radius`;let f=kw(e,d),p=kw(t,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Aw(f)===Aw(p)?(n[d]=Math.max(ut(Cw(f),Cw(p),r),0),(Er.test(p)||Er.test(f))&&(n[d]+="%")):n[d]=p}(e.rotate||t.rotate)&&(n.rotate=ut(e.rotate||0,t.rotate||0,r))}function kw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const aP=iE(0,.5,x1),lP=iE(.5,.95,In);function iE(n,e,t){return r=>r<n?0:r>e?1:t(Ta(n,e,r))}function Pw(n,e){n.min=e.min,n.max=e.max}function Mn(n,e){Pw(n.x,e.x),Pw(n.y,e.y)}function Rw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Nw(n,e,t,r,s){return n-=e,n=zd(n,1/t,r),s!==void 0&&(n=zd(n,1/s,r)),n}function uP(n,e=0,t=1,r=.5,s,a=n,l=n){if(Er.test(e)&&(e=parseFloat(e),e=ut(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=ut(a.min,a.max,r);n===a&&(d-=e),n.min=Nw(n.min,e,t,d,s),n.max=Nw(n.max,e,t,d,s)}function Dw(n,e,[t,r,s],a,l){uP(n,e[t],e[r],e[s],e.scale,a,l)}const cP=["x","scaleX","originX"],dP=["y","scaleY","originY"];function Vw(n,e,t,r){Dw(n.x,e,cP,t?t.x:void 0,r?r.x:void 0),Dw(n.y,e,dP,t?t.y:void 0,r?r.y:void 0)}function Mw(n){return n.translate===0&&n.scale===1}function sE(n){return Mw(n.x)&&Mw(n.y)}function jw(n,e){return n.min===e.min&&n.max===e.max}function hP(n,e){return jw(n.x,e.x)&&jw(n.y,e.y)}function Lw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function oE(n,e){return Lw(n.x,e.x)&&Lw(n.y,e.y)}function Ow(n){return Sn(n.x)/Sn(n.y)}function Fw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class fP{constructor(){this.members=[]}add(e){Xm(this.members,e),e.scheduleRender()}remove(e){if(Jm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pP(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,l=t?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:y,rotateX:x,rotateY:E,skewX:A,skewY:M}=t;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),x&&(r+=`rotateX(${x}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),M&&(r+=`skewY(${M}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Qs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ql=typeof window<"u"&&window.MotionDebug!==void 0,vp=["","X","Y","Z"],mP={visibility:"hidden"},Uw=1e3;let gP=0;function wp(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function aE(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=c1(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",st,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&aE(r)}function lE({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},d=e?.()){this.id=gP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ql&&(Qs.totalNodes=Qs.resolvedTargetDeltas=Qs.recalculatedProjection=0),this.nodes.forEach(wP),this.nodes.forEach(bP),this.nodes.forEach(IP),this.nodes.forEach(xP),Ql&&window.MotionDebug.record(Qs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new rP)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Zm),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const f=this.eventHandlers.get(l);f&&f.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tP(l),this.instance=l;const{layoutId:f,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),n){let x;const E=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=iP(E,250),Td.hasAnimatedSinceResize&&(Td.hasAnimatedSinceResize=!1,this.nodes.forEach(zw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:E,hasRelativeTargetChanged:A,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||y.getDefaultTransition()||PP,{onLayoutAnimationStart:I,onLayoutAnimationComplete:j}=y.getProps(),U=!this.targetLayout||!oE(this.targetLayout,M)||A,q=!E&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||q||E&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,q);const ee={...Ym(R,"layout"),onPlay:I,onComplete:j};(y.shouldReduceMotion||this.options.layoutRoot)&&(ee.delay=0,ee.type=!1),this.startAnimation(ee)}else E||zw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SP),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bw);return}this.isUpdating||this.nodes.forEach(EP),this.isUpdating=!1,this.nodes.forEach(TP),this.nodes.forEach(yP),this.nodes.forEach(vP),this.clearAllSnapshots();const d=Tr.now();Ut.delta=ai(0,1e3/60,d-Ut.timestamp),Ut.timestamp=d,Ut.isProcessing=!0,cp.update.process(Ut),cp.preRender.process(Ut),cp.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Um.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_P),this.sharedNodes.forEach(CP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!sE(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;l&&(d||Ks(this.latestValues)||y)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return l&&(f=this.removeTransform(f)),RP(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:d}=this.options;if(!d)return wt();const f=d.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(NP))){const{scroll:y}=this.root;y&&(ca(f.x,y.offset.x),ca(f.y,y.offset.y))}return f}removeElementScroll(l){var d;const f=wt();if(Mn(f,l),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:x,options:E}=y;y!==this.root&&x&&E.layoutScroll&&(x.wasRoot&&Mn(f,l),ca(f.x,x.offset.x),ca(f.y,x.offset.y))}return f}applyTransform(l,d=!1){const f=wt();Mn(f,l);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&da(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ks(y.latestValues)&&da(f,y.latestValues)}return Ks(this.latestValues)&&da(f,this.latestValues),f}removeTransform(l){const d=wt();Mn(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ks(p.latestValues))continue;Jp(p.latestValues)&&p.updateSnapshot();const y=wt(),x=p.measurePageBox();Mn(y,x),Vw(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ks(this.latestValues)&&Vw(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:E}=this.options;if(!(!this.layout||!(x||E))){if(this.resolvedRelativeTargetAt=Ut.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),ou(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Mk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mn(this.target,this.layout.layoutBox),Z1(this.target,this.targetDelta)):Mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),ou(this.relativeTargetOrigin,this.target,A.target),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ql&&Qs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jp(this.parent.latestValues)||J1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(p=!1),p)return;const{layout:y,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||x))return;Mn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;$k(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=wt());const{target:M}=d;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rw(this.prevProjectionDelta.x,this.projectionDelta.x),Rw(this.prevProjectionDelta.y,this.projectionDelta.y)),su(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!Fw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M)),Ql&&Qs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ua(),this.projectionDelta=ua(),this.projectionDeltaWithTransform=ua()}setAnimationOrigin(l,d=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},x=ua();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=wt(),A=f?f.source:void 0,M=this.layout?this.layout.source:void 0,R=A!==M,I=this.getStack(),j=!I||I.members.length<=1,U=!!(R&&!j&&this.options.crossfade===!0&&!this.path.some(kP));this.animationProgress=0;let q;this.mixTargetDelta=ee=>{const ne=ee/1e3;Hw(x.x,l.x,ne),Hw(x.y,l.y,ne),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ou(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AP(this.relativeTarget,this.relativeTargetOrigin,E,ne),q&&hP(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=wt()),Mn(q,this.relativeTarget)),R&&(this.animationValues=y,oP(y,p,this.latestValues,ne,U,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Td.hasAnimatedSinceResize=!0,this.currentAnimation=eP(0,Uw,{...l,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Uw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:y}=l;if(!(!d||!f||!p)){if(this!==l&&this.layout&&p&&uE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||wt();const x=Sn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+x;const E=Sn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+E}Mn(d,f),da(d,y),su(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new fP),this.sharedNodes.get(l).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:d}=this.options;return d?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:d}=this.options;return d?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&wp("z",l,p,this.animationValues);for(let y=0;y<vp.length;y++)wp(`rotate${vp[y]}`,l,p,this.animationValues),wp(`skew${vp[y]}`,l,p,this.animationValues);l.render();for(const y in p)l.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);l.scheduleRender()}getProjectionStyles(l){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mP;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=_d(l?.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=_d(l?.pointerEvents)||""),this.hasProjected&&!Ks(this.latestValues)&&(R.transform=y?y({},""):"none",this.hasProjected=!1),R}const E=x.animationValues||x.latestValues;this.applyTransformsToTarget(),p.transform=pP(this.projectionDeltaWithTransform,this.treeScale,E),y&&(p.transform=y(E,p.transform));const{x:A,y:M}=this.projectionDelta;p.transformOrigin=`${A.origin*100}% ${M.origin*100}% 0`,x.animationValues?p.opacity=x===this?(f=(d=E.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=x===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const R in Ld){if(E[R]===void 0)continue;const{correct:I,applyTo:j}=Ld[R],U=p.transform==="none"?E[R]:I(E[R],x);if(j){const q=j.length;for(let ee=0;ee<q;ee++)p[j[ee]]=U}else p[R]=U}return this.options.layoutId&&(p.pointerEvents=x===this?_d(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Bw),this.root.sharedNodes.clear()}}}function yP(n){n.updateLayout()}function vP(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?jn(x=>{const E=l?t.measuredBox[x]:t.layoutBox[x],A=Sn(E);E.min=r[x].min,E.max=E.min+A}):uE(a,t.layoutBox,r)&&jn(x=>{const E=l?t.measuredBox[x]:t.layoutBox[x],A=Sn(r[x]);E.max=E.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[x].max=n.relativeTarget[x].min+A)});const d=ua();su(d,r,t.layoutBox);const f=ua();l?su(f,n.applyTransform(s,!0),t.measuredBox):su(f,r,t.layoutBox);const p=!sE(d);let y=!1;if(!n.resumeFrom){const x=n.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:E,layout:A}=x;if(E&&A){const M=wt();ou(M,t.layoutBox,E.layoutBox);const R=wt();ou(R,r,A.layoutBox),oE(M,R)||(y=!0),x.options.layoutRoot&&(n.relativeTarget=R,n.relativeTargetOrigin=M,n.relativeParent=x)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:y})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function wP(n){Ql&&Qs.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xP(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _P(n){n.clearSnapshot()}function Bw(n){n.clearMeasurements()}function EP(n){n.isLayoutDirty=!1}function TP(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function zw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function bP(n){n.resolveTargetDelta()}function IP(n){n.calcProjection()}function SP(n){n.resetSkewAndRotation()}function CP(n){n.removeLeadSnapshot()}function Hw(n,e,t){n.translate=ut(e.translate,0,t),n.scale=ut(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function $w(n,e,t,r){n.min=ut(e.min,t.min,r),n.max=ut(e.max,t.max,r)}function AP(n,e,t,r){$w(n.x,e.x,t.x,r),$w(n.y,e.y,t.y,r)}function kP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const PP={duration:.45,ease:[.4,0,.1,1]},Ww=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Gw=Ww("applewebkit/")&&!Ww("chrome/")?Math.round:In;function qw(n){n.min=Gw(n.min),n.max=Gw(n.max)}function RP(n){qw(n.x),qw(n.y)}function uE(n,e,t){return n==="position"||n==="preserve-aspect"&&!Vk(Ow(e),Ow(t),.2)}function NP(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const DP=lE({attachResizeListener:(n,e)=>yu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xp={current:void 0},cE=lE({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!xp.current){const n=new DP({});n.mount(window),n.setOptions({layoutScroll:!0}),xp.current=n}return xp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),VP={pan:{Feature:Yk},drag:{Feature:Qk,ProjectionNode:cE,MeasureLayout:nE}};function MP(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function dE(n,e){const t=MP(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function Kw(n){return e=>{e.pointerType==="touch"||G1()||n(e)}}function jP(n,e,t={}){const[r,s,a]=dE(n,t),l=Kw(d=>{const{target:f}=d,p=e(d);if(typeof p!="function"||!f)return;const y=Kw(x=>{p(x),f.removeEventListener("pointerleave",y)});f.addEventListener("pointerleave",y,s)});return r.forEach(d=>{d.addEventListener("pointerenter",l,s)}),a}function Qw(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&st.postRender(()=>a(e,Vu(e)))}class LP extends gs{mount(){const{current:e}=this.node;e&&(this.unmount=jP(e,t=>(Qw(this.node,t,"Start"),r=>Qw(this.node,r,"End"))))}unmount(){}}class OP extends gs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Du(yu(this.node.current,"focus",()=>this.onFocus()),yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const hE=(n,e)=>e?n===e?!0:hE(n,e.parentElement):!1,FP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UP(n){return FP.has(n.tagName)||n.tabIndex!==-1}const Yl=new WeakSet;function Yw(n){return e=>{e.key==="Enter"&&n(e)}}function _p(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BP=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=Yw(()=>{if(Yl.has(t))return;_p(t,"down");const s=Yw(()=>{_p(t,"up")}),a=()=>_p(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function Xw(n){return hg(n)&&!G1()}function zP(n,e,t={}){const[r,s,a]=dE(n,t),l=d=>{const f=d.currentTarget;if(!Xw(d)||Yl.has(f))return;Yl.add(f);const p=e(d),y=(A,M)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",E),!(!Xw(A)||!Yl.has(f))&&(Yl.delete(f),typeof p=="function"&&p(A,{success:M}))},x=A=>{y(A,t.useGlobalTarget||hE(f,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",E,s)};return r.forEach(d=>{!UP(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",l,s),d.addEventListener("focus",p=>BP(p,s),s)}),a}function Jw(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&st.postRender(()=>a(e,Vu(e)))}class HP extends gs{mount(){const{current:e}=this.node;e&&(this.unmount=zP(e,t=>(Jw(this.node,t,"Start"),(r,{success:s})=>Jw(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const em=new WeakMap,Ep=new WeakMap,$P=n=>{const e=em.get(n.target);e&&e(n)},WP=n=>{n.forEach($P)};function GP({root:n,...e}){const t=n||document;Ep.has(t)||Ep.set(t,{});const r=Ep.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(WP,{root:n,...e})),r[s]}function qP(n,e,t){const r=GP(e);return em.set(n,t),r.observe(n),()=>{em.delete(n),r.unobserve(n)}}const KP={some:0,all:1};class QP extends gs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:KP[s]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),E=p?y:x;E&&E(f)};return qP(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(YP(e,t))&&this.startObserver()}unmount(){}}function YP({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const XP={inView:{Feature:QP},tap:{Feature:HP},focus:{Feature:OP},hover:{Feature:LP}},JP={layout:{ProjectionNode:cE,MeasureLayout:nE}},tm={current:null},fE={current:!1};function ZP(){if(fE.current=!0,!!jm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>tm.current=n.matches;n.addListener(e),e()}else tm.current=!1}const eR=[...V1,Xt,us],tR=n=>eR.find(D1(n)),Zw=new WeakMap;function nR(n,e,t){for(const r in e){const s=e[r],a=t[r];if(en(s))n.addValue(r,s);else if(en(a))n.addValue(r,mu(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(r);n.addValue(r,mu(l!==void 0?l:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const ex=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rR{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Tr.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,st.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:y}=l;this.onUpdate=y,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=hh(t),this.isVariantNode=G_(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const A in E){const M=E[A];f[A]!==void 0&&en(M)&&M.set(f[A],!1)}}mount(e){this.current=e,Zw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),fE.current||ZP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Zw.delete(this.current),this.projection&&this.projection.unmount(),ls(this.notifyUpdate),ls(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=lo.has(e),s=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&st.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ea){const t=Ea[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<ex.length;r++){const s=ex[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=nR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=mu(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(R1(s)||E1(s))?s=parseFloat(s):!tR(s)&&us.test(t)&&(s=A1(e,t)),this.setBaseTarget(e,en(s)?s.get():s)),en(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=zm(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!en(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Zm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class pE extends rR{constructor(){super(...arguments),this.KeyframeResolver=M1}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function iR(n){return window.getComputedStyle(n)}class sR extends pE{constructor(){super(...arguments),this.type="html",this.renderInstance=t1}readValueFromInstance(e,t){if(lo.has(t)){const r=ag(t);return r&&r.default||0}else{const r=iR(e),s=(J_(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return eE(e,t)}build(e,t,r){Wm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Qm(e,t,r)}}class oR extends pE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(lo.has(t)){const r=ag(t);return r&&r.default||0}return t=n1.has(t)?t:Fm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return s1(e,t,r)}build(e,t,r){Gm(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){r1(e,t,r,s)}mount(e){this.isSVGTag=Km(e.tagName),super.mount(e)}}const aR=(n,e)=>Bm(n)?new oR(e):new sR(e,{allowProjection:n!==L.Fragment}),lR=DC({...bk,...XP,...VP,...JP},aR),re=KS(lR);function mE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=mE(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function fg(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=mE(n))&&(r&&(r+=" "),r+=e);return r}function uR({children:n,className:e,...t}){if(Fp.isValidElement(n)){const r=n;return Fp.cloneElement(r,{...t,className:fg(r.props?.className,e)})}return null}const pg="-",cR=n=>{const e=hR(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const d=l.split(pg);return d[0]===""&&d.length!==1&&d.shift(),gE(d,e)||dR(l)},getConflictingClassGroupIds:(l,d)=>{const f=t[l]||[];return d&&r[l]?[...f,...r[l]]:f}}},gE=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?gE(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=n.join(pg);return e.validators.find(({validator:l})=>l(a))?.classGroupId},tx=/^\[(.+)\]$/,dR=n=>{if(tx.test(n)){const e=tx.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},hR=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return pR(Object.entries(n.classGroups),t).forEach(([a,l])=>{nm(l,r,a,e)}),r},nm=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const a=s===""?e:nx(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(fR(s)){nm(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,l])=>{nm(l,nx(e,a),t,r)})})},nx=(n,e)=>{let t=n;return e.split(pg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},fR=n=>n.isThemeGetter,pR=(n,e)=>e?n.map(([t,r])=>{const s=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,d])=>[e+l,d])):a);return[t,s]}):n,mR=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){t.has(a)?t.set(a,l):s(a,l)}}},yE="!",gR=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],a=e.length,l=d=>{const f=[];let p=0,y=0,x;for(let I=0;I<d.length;I++){let j=d[I];if(p===0){if(j===s&&(r||d.slice(I,I+a)===e)){f.push(d.slice(y,I)),y=I+a;continue}if(j==="/"){x=I;continue}}j==="["?p++:j==="]"&&p--}const E=f.length===0?d:d.substring(y),A=E.startsWith(yE),M=A?E.substring(1):E,R=x&&x>y?x-y:void 0;return{modifiers:f,hasImportantModifier:A,baseClassName:M,maybePostfixModifierPosition:R}};return t?d=>t({className:d,parseClassName:l}):l},yR=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},vR=n=>({cache:mR(n.cacheSize),parseClassName:gR(n),...cR(n)}),wR=/\s+/,xR=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,a=[],l=n.trim().split(wR);let d="";for(let f=l.length-1;f>=0;f-=1){const p=l[f],{modifiers:y,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:A}=t(p);let M=!!A,R=r(M?E.substring(0,A):E);if(!R){if(!M){d=p+(d.length>0?" "+d:d);continue}if(R=r(E),!R){d=p+(d.length>0?" "+d:d);continue}M=!1}const I=yR(y).join(":"),j=x?I+yE:I,U=j+R;if(a.includes(U))continue;a.push(U);const q=s(R,M);for(let ee=0;ee<q.length;++ee){const ne=q[ee];a.push(j+ne)}d=p+(d.length>0?" "+d:d)}return d};function _R(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=vE(e))&&(r&&(r+=" "),r+=t);return r}const vE=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=vE(n[r]))&&(t&&(t+=" "),t+=e);return t};function ER(n,...e){let t,r,s,a=l;function l(f){const p=e.reduce((y,x)=>x(y),n());return t=vR(p),r=t.cache.get,s=t.cache.set,a=d,d(f)}function d(f){const p=r(f);if(p)return p;const y=xR(f,t);return s(f,y),y}return function(){return a(_R.apply(null,arguments))}}const rt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},wE=/^\[(?:([a-z-]+):)?(.+)\]$/i,TR=/^\d+\/\d+$/,bR=new Set(["px","full","screen"]),IR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ei=n=>pa(n)||bR.has(n)||TR.test(n),Gi=n=>ja(n,"length",LR),pa=n=>!!n&&!Number.isNaN(Number(n)),Tp=n=>ja(n,"number",pa),Hl=n=>!!n&&Number.isInteger(Number(n)),PR=n=>n.endsWith("%")&&pa(n.slice(0,-1)),Ne=n=>wE.test(n),qi=n=>IR.test(n),RR=new Set(["length","size","percentage"]),NR=n=>ja(n,RR,xE),DR=n=>ja(n,"position",xE),VR=new Set(["image","url"]),MR=n=>ja(n,VR,FR),jR=n=>ja(n,"",OR),$l=()=>!0,ja=(n,e,t)=>{const r=wE.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},LR=n=>SR.test(n)&&!CR.test(n),xE=()=>!1,OR=n=>AR.test(n),FR=n=>kR.test(n),UR=()=>{const n=rt("colors"),e=rt("spacing"),t=rt("blur"),r=rt("brightness"),s=rt("borderColor"),a=rt("borderRadius"),l=rt("borderSpacing"),d=rt("borderWidth"),f=rt("contrast"),p=rt("grayscale"),y=rt("hueRotate"),x=rt("invert"),E=rt("gap"),A=rt("gradientColorStops"),M=rt("gradientColorStopPositions"),R=rt("inset"),I=rt("margin"),j=rt("opacity"),U=rt("padding"),q=rt("saturate"),ee=rt("scale"),ne=rt("sepia"),le=rt("skew"),k=rt("space"),b=rt("translate"),S=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Ne,e],F=()=>[Ne,e],P=()=>["",ei,Gi],ye=()=>["auto",pa,Ne],Pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ve=()=>["solid","dashed","dotted","double","none"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",Ne],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[pa,Ne];return{cacheSize:500,separator:":",theme:{colors:[$l],spacing:[ei,Gi],blur:["none","",qi,Ne],brightness:O(),borderColor:[n],borderRadius:["none","","full",qi,Ne],borderSpacing:F(),borderWidth:P(),contrast:O(),grayscale:Y(),hueRotate:O(),invert:Y(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[PR,Gi],inset:V(),margin:V(),opacity:O(),padding:F(),saturate:O(),scale:O(),sepia:Y(),skew:O(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[qi]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Pe(),Ne]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[R]}],"inset-x":[{"inset-x":[R]}],"inset-y":[{"inset-y":[R]}],start:[{start:[R]}],end:[{end:[R]}],top:[{top:[R]}],right:[{right:[R]}],bottom:[{bottom:[R]}],left:[{left:[R]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hl,Ne]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Hl,Ne]}],"grid-cols":[{"grid-cols":[$l]}],"col-start-end":[{col:["auto",{span:["full",Hl,Ne]},Ne]}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":[$l]}],"row-start-end":[{row:["auto",{span:[Hl,Ne]},Ne]}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[U]}],px:[{px:[U]}],py:[{py:[U]}],ps:[{ps:[U]}],pe:[{pe:[U]}],pt:[{pt:[U]}],pr:[{pr:[U]}],pb:[{pb:[U]}],pl:[{pl:[U]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[qi]},qi]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",qi,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tp]}],"font-family":[{font:[$l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",pa,Tp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ei,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ei,Gi]}],"underline-offset":[{"underline-offset":["auto",ei,Ne]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Pe(),DR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MR]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[M]}],"gradient-via-pos":[{via:[M]}],"gradient-to-pos":[{to:[M]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...Ve(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:Ve()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ve()]}],"outline-offset":[{"outline-offset":[ei,Ne]}],"outline-w":[{outline:[ei,Gi]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[ei,Gi]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",qi,jR]}],"shadow-color":[{shadow:[$l]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ie()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",qi,Ne]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[x]}],saturate:[{saturate:[q]}],sepia:[{sepia:[ne]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[q]}],"backdrop-sepia":[{"backdrop-sepia":[ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ee]}],"scale-x":[{"scale-x":[ee]}],"scale-y":[{"scale-y":[ee]}],rotate:[{rotate:[Hl,Ne]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[le]}],"skew-y":[{"skew-y":[le]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ei,Gi,Tp]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_E=ER(UR);function BR(n,e){const{variants:t,defaultVariants:r,compoundVariants:s}=e??{};return function(l){const d={...r??{},...l??{}},f=[n];if(t)for(const p of Object.keys(t)){const y=d[p];if(y!=null){const E=t[p]?.[String(y)];E&&f.push(E)}}if(s&&s.length)for(const p of s){const{class:y,className:x,...E}=p;Object.entries(E).every(([M,R])=>d[M]===R)&&f.push(y||x)}return d.class&&f.push(String(d.class)),d.className&&f.push(String(d.className)),_E(fg(f))}}function mg(...n){return _E(fg(n))}const zR=BR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function pn({className:n,variant:e,size:t,asChild:r=!1,...s}){const a=r?uR:"button";return g.jsx(a,{"data-slot":"button",className:mg(zR({variant:e,size:t,className:n})),...s})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...d},f)=>L.createElement("svg",{ref:f,...$R,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:EE("lucide",s),...d},[...l.map(([p,y])=>L.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(n,e)=>{const t=L.forwardRef(({className:r,...s},a)=>L.createElement(WR,{ref:a,iconNode:e,className:EE(`lucide-${HR(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=We("BookHeart",[["path",{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7",key:"1t75a8"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=We("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=We("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=We("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=We("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=We("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=We("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=We("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=We("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=We("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=We("MessageCircleHeart",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M15.8 9.2a2.5 2.5 0 0 0-3.5 0l-.3.4-.35-.3a2.42 2.42 0 1 0-3.2 3.6l3.6 3.5 3.6-3.5c1.2-1.2 1.1-2.7.2-3.7",key:"43lnbm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=We("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=We("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=We("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=We("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=We("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=We("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=We("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=We("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=We("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=We("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=We("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=We("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=We("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=We("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rx="popstate";function g2(n={}){function e(r,s){let{pathname:a,search:l,hash:d}=r.location;return rm("",{pathname:a,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:vu(s)}return v2(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y2(){return Math.random().toString(36).substring(2,10)}function ix(n,e){return{usr:n.state,key:n.key,idx:e}}function rm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:t,key:e&&e.key||r||y2()}}function vu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function La(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function v2(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d="POP",f=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function x(){d="POP";let I=y(),j=I==null?null:I-p;p=I,f&&f({action:d,location:R.location,delta:j})}function E(I,j){d="PUSH";let U=rm(R.location,I,j);p=y()+1;let q=ix(U,p),ee=R.createHref(U);try{l.pushState(q,"",ee)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(ee)}a&&f&&f({action:d,location:R.location,delta:1})}function A(I,j){d="REPLACE";let U=rm(R.location,I,j);p=y();let q=ix(U,p),ee=R.createHref(U);l.replaceState(q,"",ee),a&&f&&f({action:d,location:R.location,delta:0})}function M(I){return w2(I)}let R={get action(){return d},get location(){return n(s,l)},listen(I){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(rx,x),f=I,()=>{s.removeEventListener(rx,x),f=null}},createHref(I){return e(s,I)},createURL:M,encodeLocation(I){let j=M(I);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:A,go(I){return l.go(I)}};return R}function w2(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:vu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function CE(n,e,t="/"){return x2(n,e,t,!1)}function x2(n,e,t,r){let s=typeof e=="string"?La(e):e,a=li(s.pathname||"/",t);if(a==null)return null;let l=AE(n);_2(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let p=N2(a);d=P2(l[f],p,r)}return d}function AE(n,e=[],t=[],r="",s=!1){let a=(l,d,f=s,p)=>{let y={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;ct(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let x=oi([r,y.relativePath]),E=t.concat(y);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),AE(l.children,e,E,x,f)),!(l.path==null&&!l.index)&&e.push({path:x,score:A2(x,l.index),routesMeta:E})};return n.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))a(l,d);else for(let f of kE(l.path))a(l,d,!0,f)}),e}function kE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=kE(r.join("/")),d=[];return d.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...l),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function _2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:k2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var E2=/^:[\w-]+$/,T2=3,b2=2,I2=1,S2=10,C2=-2,sx=n=>n==="*";function A2(n,e){let t=n.split("/"),r=t.length;return t.some(sx)&&(r+=C2),e&&(r+=b2),t.filter(s=>!sx(s)).reduce((s,a)=>s+(E2.test(a)?T2:a===""?I2:S2),r)}function k2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function P2(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",x=$d({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!x&&p&&t&&!r[r.length-1].route.index&&(x=$d({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!x)return null;Object.assign(s,x.params),l.push({params:s,pathname:oi([a,x.pathname]),pathnameBase:j2(oi([a,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(a=oi([a,x.pathnameBase]))}return l}function $d(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=R2(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:x},E)=>{if(y==="*"){let M=d[E]||"";l=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const A=d[E];return x&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function R2(n,e=!1,t=!0){Nr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function N2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function li(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function D2(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?La(n):n;return{pathname:t?t.startsWith("/")?t:V2(t,e):e,search:L2(r),hash:O2(s)}}function V2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function bp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function PE(n){let e=M2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function RE(n,e,t,r=!1){let s;typeof n=="string"?s=La(n):(s={...n},ct(!s.pathname||!s.pathname.includes("?"),bp("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),bp("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),bp("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=t;else{let x=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),x-=1;s.pathname=E.join("/")}d=x>=0?e[x]:"/"}let f=D2(s,d),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var oi=n=>n.join("/").replace(/\/\/+/g,"/"),j2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),L2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,O2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function F2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NE=["POST","PUT","PATCH","DELETE"];new Set(NE);var U2=["GET",...NE];new Set(U2);var Oa=L.createContext(null);Oa.displayName="DataRouter";var mh=L.createContext(null);mh.displayName="DataRouterState";L.createContext(!1);var DE=L.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var B2=L.createContext(new Map);B2.displayName="Fetchers";var z2=L.createContext(null);z2.displayName="Await";var Vr=L.createContext(null);Vr.displayName="Navigation";var Mu=L.createContext(null);Mu.displayName="Location";var Mr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var yg=L.createContext(null);yg.displayName="RouteError";function H2(n,{relative:e}={}){ct(ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=L.useContext(Vr),{hash:s,pathname:a,search:l}=Lu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:oi([t,a])),r.createHref({pathname:d,search:l,hash:s})}function ju(){return L.useContext(Mu)!=null}function uo(){return ct(ju(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Mu).location}var VE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ME(n){L.useContext(Vr).static||L.useLayoutEffect(n)}function vg(){let{isDataRoute:n}=L.useContext(Mr);return n?nN():$2()}function $2(){ct(ju(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(Oa),{basename:e,navigator:t}=L.useContext(Vr),{matches:r}=L.useContext(Mr),{pathname:s}=uo(),a=JSON.stringify(PE(r)),l=L.useRef(!1);return ME(()=>{l.current=!0}),L.useCallback((f,p={})=>{if(Nr(l.current,VE),!l.current)return;if(typeof f=="number"){t.go(f);return}let y=RE(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:oi([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,a,s,n])}L.createContext(null);function jE(){let{matches:n}=L.useContext(Mr),e=n[n.length-1];return e?e.params:{}}function Lu(n,{relative:e}={}){let{matches:t}=L.useContext(Mr),{pathname:r}=uo(),s=JSON.stringify(PE(t));return L.useMemo(()=>RE(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function W2(n,e){return LE(n,e)}function LE(n,e,t,r,s){ct(ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(Vr),{matches:l}=L.useContext(Mr),d=l[l.length-1],f=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",x=d&&d.route;{let U=x&&x.path||"";OE(p,!x||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let E=uo(),A;if(e){let U=typeof e=="string"?La(e):e;ct(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),A=U}else A=E;let M=A.pathname||"/",R=M;if(y!=="/"){let U=y.replace(/^\//,"").split("/");R="/"+M.replace(/^\//,"").split("/").slice(U.length).join("/")}let I=CE(n,{pathname:R});Nr(x||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Nr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Y2(I&&I.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:oi([y,a.encodeLocation?a.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:oi([y,a.encodeLocation?a.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),l,t,r,s);return e&&j?L.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function G2(){let n=tN(),e=F2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:s},t):null,l)}var q2=L.createElement(G2,null),K2=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?L.createElement(Mr.Provider,{value:this.props.routeContext},L.createElement(yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q2({routeContext:n,match:e,children:t}){let r=L.useContext(Oa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Mr.Provider,{value:n},t)}function Y2(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let p=a.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let y=a[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:x,errors:E}=t,A=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||A){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,y,x)=>{let E,A=!1,M=null,R=null;t&&(E=l&&y.route.id?l[y.route.id]:void 0,M=y.route.errorElement||q2,d&&(f<0&&x===0?(OE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,R=null):f===x&&(A=!0,R=y.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,x+1)),j=()=>{let U;return E?U=M:A?U=R:y.route.Component?U=L.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=p,L.createElement(Q2,{match:y,routeContext:{outlet:p,matches:I,isDataRoute:t!=null},children:U})};return t&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?L.createElement(K2,{location:t.location,revalidation:t.revalidation,component:M,error:E,children:j(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):j()},null)}function wg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X2(n){let e=L.useContext(Oa);return ct(e,wg(n)),e}function J2(n){let e=L.useContext(mh);return ct(e,wg(n)),e}function Z2(n){let e=L.useContext(Mr);return ct(e,wg(n)),e}function xg(n){let e=Z2(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function eN(){return xg("useRouteId")}function tN(){let n=L.useContext(yg),e=J2("useRouteError"),t=xg("useRouteError");return n!==void 0?n:e.errors?.[t]}function nN(){let{router:n}=X2("useNavigate"),e=xg("useNavigate"),t=L.useRef(!1);return ME(()=>{t.current=!0}),L.useCallback(async(s,a={})=>{Nr(t.current,VE),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var ox={};function OE(n,e,t){!e&&!ox[n]&&(ox[n]=!0,Nr(!1,t))}L.memo(rN);function rN({routes:n,future:e,state:t,unstable_onError:r}){return LE(n,void 0,t,r,e)}function vt(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){ct(!ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof t=="string"&&(t=La(t));let{pathname:f="/",search:p="",hash:y="",state:x=null,key:E="default"}=t,A=L.useMemo(()=>{let M=li(f,l);return M==null?null:{location:{pathname:M,search:p,hash:y,state:x,key:E},navigationType:r}},[l,f,p,y,x,E,r]);return Nr(A!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:L.createElement(Vr.Provider,{value:d},L.createElement(Mu.Provider,{children:e,value:A}))}function sN({children:n,location:e}){return W2(im(n),e)}function im(n,e=[]){let t=[];return L.Children.forEach(n,(r,s)=>{if(!L.isValidElement(r))return;let a=[...e,s];if(r.type===L.Fragment){t.push.apply(t,im(r.props.children,a));return}ct(r.type===vt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=im(r.props.children,a)),t.push(l)}),t}var bd="get",Id="application/x-www-form-urlencoded";function gh(n){return n!=null&&typeof n.tagName=="string"}function oN(n){return gh(n)&&n.tagName.toLowerCase()==="button"}function aN(n){return gh(n)&&n.tagName.toLowerCase()==="form"}function lN(n){return gh(n)&&n.tagName.toLowerCase()==="input"}function uN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function cN(n,e){return n.button===0&&(!e||e==="_self")&&!uN(n)}var pd=null;function dN(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var hN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(n){return n!=null&&!hN.has(n)?(Nr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Id}"`),null):n}function fN(n,e){let t,r,s,a,l;if(aN(n)){let d=n.getAttribute("action");r=d?li(d,e):null,t=n.getAttribute("method")||bd,s=Ip(n.getAttribute("enctype"))||Id,a=new FormData(n)}else if(oN(n)||lN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?li(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||bd,s=Ip(n.getAttribute("formenctype"))||Ip(d.getAttribute("enctype"))||Id,a=new FormData(d,n),!dN()){let{name:p,type:y,value:x}=n;if(y==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,x)}}else{if(gh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=bd,r=null,s=Id,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _g(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pN(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&li(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function mN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yN(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await mN(a,t);return l.links?l.links():[]}return[]}));return _N(r.flat(1).filter(gN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ax(n,e,t,r,s,a){let l=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>t[p].pathname!==f.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function vN(n,e,{includeHydrateFallback:t}={}){return wN(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function wN(n){return[...new Set(n)]}function xN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function _N(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(xN(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function FE(){let n=L.useContext(Oa);return _g(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function EN(){let n=L.useContext(mh);return _g(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Eg=L.createContext(void 0);Eg.displayName="FrameworkContext";function UE(){let n=L.useContext(Eg);return _g(n,"You must render this element inside a <HydratedRouter> element"),n}function TN(n,e){let t=L.useContext(Eg),[r,s]=L.useState(!1),[a,l]=L.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:x}=e,E=L.useRef(null);L.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=j=>{j.forEach(U=>{l(U.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[n]),L.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let A=()=>{s(!0)},M=()=>{s(!1),l(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Wl(d,A),onBlur:Wl(f,M),onMouseEnter:Wl(p,A),onMouseLeave:Wl(y,M),onTouchStart:Wl(x,A)}]:[!1,E,{}]}function Wl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function bN({page:n,...e}){let{router:t}=FE(),r=L.useMemo(()=>CE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?L.createElement(SN,{page:n,matches:r,...e}):null}function IN(n){let{manifest:e,routeModules:t}=UE(),[r,s]=L.useState([]);return L.useEffect(()=>{let a=!1;return yN(n,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[n,e,t]),r}function SN({page:n,matches:e,...t}){let r=uo(),{manifest:s,routeModules:a}=UE(),{basename:l}=FE(),{loaderData:d,matches:f}=EN(),p=L.useMemo(()=>ax(n,e,f,s,r,"data"),[n,e,f,s,r]),y=L.useMemo(()=>ax(n,e,f,s,r,"assets"),[n,e,f,s,r]),x=L.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,R=!1;if(e.forEach(j=>{let U=s.routes[j.route.id];!U||!U.hasLoader||(!p.some(q=>q.route.id===j.route.id)&&j.route.id in d&&a[j.route.id]?.shouldRevalidate||U.hasClientLoader?R=!0:M.add(j.route.id))}),M.size===0)return[];let I=pN(n,l,"data");return R&&M.size>0&&I.searchParams.set("_routes",e.filter(j=>M.has(j.route.id)).map(j=>j.route.id).join(",")),[I.pathname+I.search]},[l,d,r,s,p,e,n,a]),E=L.useMemo(()=>vN(y,s),[y,s]),A=IN(y);return L.createElement(L.Fragment,null,x.map(M=>L.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),E.map(M=>L.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),A.map(({key:M,link:R})=>L.createElement("link",{key:M,nonce:t.nonce,...R})))}function CN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BE&&(window.__reactRouterVersion="7.9.5")}catch{}function AN({basename:n,children:e,window:t}){let r=L.useRef();r.current==null&&(r.current=g2({window:t,v5Compat:!0}));let s=r.current,[a,l]=L.useState({action:s.action,location:s.location}),d=L.useCallback(f=>{L.startTransition(()=>l(f))},[l]);return L.useLayoutEffect(()=>s.listen(d),[s,d]),L.createElement(iN,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=L.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:d,target:f,to:p,preventScrollReset:y,viewTransition:x,...E},A){let{basename:M}=L.useContext(Vr),R=typeof p=="string"&&zE.test(p),I,j=!1;if(typeof p=="string"&&R&&(I=p,BE))try{let S=new URL(window.location.href),N=p.startsWith("//")?new URL(S.protocol+p):new URL(p),V=li(N.pathname,M);N.origin===S.origin&&V!=null?p=V+N.search+N.hash:j=!0}catch{Nr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=H2(p,{relative:s}),[q,ee,ne]=TN(r,E),le=NN(p,{replace:l,state:d,target:f,preventScrollReset:y,relative:s,viewTransition:x});function k(S){e&&e(S),S.defaultPrevented||le(S)}let b=L.createElement("a",{...E,...ne,href:I||U,onClick:j||a?e:k,ref:CN(A,ee),target:f,"data-discover":!R&&t==="render"?"true":void 0});return q&&!R?L.createElement(L.Fragment,null,b,L.createElement(bN,{page:U})):b});St.displayName="Link";var kN=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:d,children:f,...p},y){let x=Lu(l,{relative:p.relative}),E=uo(),A=L.useContext(mh),{navigator:M,basename:R}=L.useContext(Vr),I=A!=null&&LN(x)&&d===!0,j=M.encodeLocation?M.encodeLocation(x).pathname:x.pathname,U=E.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(U=U.toLowerCase(),q=q?q.toLowerCase():null,j=j.toLowerCase()),q&&R&&(q=li(q,R)||q);const ee=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ne=U===j||!s&&U.startsWith(j)&&U.charAt(ee)==="/",le=q!=null&&(q===j||!s&&q.startsWith(j)&&q.charAt(j.length)==="/"),k={isActive:ne,isPending:le,isTransitioning:I},b=ne?e:void 0,S;typeof r=="function"?S=r(k):S=[r,ne?"active":null,le?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(k):a;return L.createElement(St,{...p,"aria-current":b,className:S,ref:y,style:N,to:l,viewTransition:d},typeof f=="function"?f(k):f)});kN.displayName="NavLink";var PN=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:l=bd,action:d,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:x,...E},A)=>{let M=MN(),R=jN(d,{relative:p}),I=l.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&zE.test(d),U=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let ee=q.nativeEvent.submitter,ne=ee?.getAttribute("formmethod")||l;M(ee||q.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:s,state:a,relative:p,preventScrollReset:y,viewTransition:x})};return L.createElement("form",{ref:A,method:I,action:R,onSubmit:r?f:U,...E,"data-discover":!j&&n==="render"?"true":void 0})});PN.displayName="Form";function RN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(n){let e=L.useContext(Oa);return ct(e,RN(n)),e}function NN(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let d=vg(),f=uo(),p=Lu(n,{relative:a});return L.useCallback(y=>{if(cN(y,e)){y.preventDefault();let x=t!==void 0?t:vu(f)===vu(p);d(n,{replace:x,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[f,d,p,t,r,e,n,s,a,l])}var DN=0,VN=()=>`__${String(++DN)}__`;function MN(){let{router:n}=HE("useSubmit"),{basename:e}=L.useContext(Vr),t=eN();return L.useCallback(async(r,s={})=>{let{action:a,method:l,encType:d,formData:f,body:p}=fN(r,e);if(s.navigate===!1){let y=s.fetcherKey||VN();await n.fetch(y,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function jN(n,{relative:e}={}){let{basename:t}=L.useContext(Vr),r=L.useContext(Mr);ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Lu(n||".",{relative:e})},l=uo();if(n==null){a.search=l.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let y=d.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:oi([t,a.pathname])),vu(a)}function LN(n,{relative:e}={}){let t=L.useContext(DE);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=HE("useViewTransitionState"),s=Lu(n,{relative:e});if(!t.isTransitioning)return!1;let a=li(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=li(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $d(s.pathname,l)!=null||$d(s.pathname,a)!=null}const ON=()=>{};var lx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},FN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,d=l?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,y=a>>2,x=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,A=p&63;f||(A=64,l||(E=64)),r.push(t[y],t[x],t[E],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($E(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):FN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const x=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||x==null)throw new UN;const E=a<<2|d>>4;if(r.push(E),p!==64){const A=d<<4&240|p>>2;if(r.push(A),x!==64){const M=p<<6&192|x;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class UN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BN=function(n){const e=$E(n);return WE.encodeByteArray(e,!0)},Wd=function(n){return BN(n).replace(/\./g,"")},GE=function(n){try{return WE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=()=>zN().__FIREBASE_DEFAULTS__,$N=()=>{if(typeof process>"u"||typeof lx>"u")return;const n=lx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},WN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&GE(n[1]);return e&&JSON.parse(e)},yh=()=>{try{return ON()||HN()||$N()||WN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qE=n=>yh()?.emulatorHosts?.[n],GN=n=>{const e=qE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},KE=()=>yh()?.config,QE=n=>yh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wd(JSON.stringify(t)),Wd(JSON.stringify(l)),""].join(".")}const au={};function QN(){const n={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?n.emulator.push(e):n.prod.push(e);return n}function YN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ux=!1;function XE(n,e){if(typeof window>"u"||typeof document>"u"||!Fa(window.location.host)||au[n]===e||au[n]||ux)return;au[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=QN().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{ux=!0,l()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function x(){const E=YN(r),A=t("text"),M=document.getElementById(A)||document.createElement("span"),R=t("learnmore"),I=document.getElementById(R)||document.createElement("a"),j=t("preprendIcon"),U=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;d(q),y(I,R);const ee=p();f(U,j),q.append(U,M,I,ee),document.body.appendChild(q)}a?(M.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function JN(){const n=yh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nD(){const n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rD(){return!JN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iD(){try{return typeof indexedDB=="object"}catch{return!1}}function sD(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="FirebaseError";class pi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=oD,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?aD(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new pi(s,d,r)}}function aD(n,e){return n.replace(lD,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lD=/\{\$([^}]+)}/g;function uD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function no(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(cx(a)&&cx(l)){if(!no(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function cx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Jl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function cD(n,e){const t=new dD(n,e);return t.subscribe.bind(t)}class dD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");hD(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Sp),s.error===void 0&&(s.error=Sp),s.complete===void 0&&(s.complete=Sp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(n){return n&&n._delegate?n._delegate:n}class ro{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mD(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pD(n){return n===Ys?void 0:n}function mD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const yD={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},vD=Le.INFO,wD={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},xD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=wD[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tg{constructor(e){this.name=e,this._logLevel=vD,this._logHandler=xD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const _D=(n,e)=>e.some(t=>n instanceof t);let dx,hx;function ED(){return dx||(dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TD(){return hx||(hx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,sm=new WeakMap,ZE=new WeakMap,Cp=new WeakMap,bg=new WeakMap;function bD(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ts(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&JE.set(t,n)}).catch(()=>{}),bg.set(e,n),e}function ID(n){if(sm.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});sm.set(n,e)}let om={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ZE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SD(n){om=n(om)}function CD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ap(this),e,...t);return ZE.set(r,e.sort?e.sort():[e]),ts(r)}:TD().includes(n)?function(...e){return n.apply(Ap(this),e),ts(JE.get(this))}:function(...e){return ts(n.apply(Ap(this),e))}}function AD(n){return typeof n=="function"?CD(n):(n instanceof IDBTransaction&&ID(n),_D(n,ED())?new Proxy(n,om):n)}function ts(n){if(n instanceof IDBRequest)return bD(n);if(Cp.has(n))return Cp.get(n);const e=AD(n);return e!==n&&(Cp.set(n,e),bg.set(e,n)),e}const Ap=n=>bg.get(n);function kD(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),d=ts(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ts(l.result),f.oldVersion,f.newVersion,ts(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const PD=["get","getKey","getAll","getAllKeys","count"],RD=["put","add","delete","clear"],kp=new Map;function fx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kp.get(e))return kp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=RD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||PD.includes(t)))return;const a=async function(l,...d){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&f.done]))[0]};return kp.set(e,a),a}SD(n=>({...n,get:(e,t,r)=>fx(e,t)||n.get(e,t,r),has:(e,t)=>!!fx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function DD(n){return n.getComponent()?.type==="VERSION"}const am="@firebase/app",px="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Tg("@firebase/app"),VD="@firebase/app-compat",MD="@firebase/analytics-compat",jD="@firebase/analytics",LD="@firebase/app-check-compat",OD="@firebase/app-check",FD="@firebase/auth",UD="@firebase/auth-compat",BD="@firebase/database",zD="@firebase/data-connect",HD="@firebase/database-compat",$D="@firebase/functions",WD="@firebase/functions-compat",GD="@firebase/installations",qD="@firebase/installations-compat",KD="@firebase/messaging",QD="@firebase/messaging-compat",YD="@firebase/performance",XD="@firebase/performance-compat",JD="@firebase/remote-config",ZD="@firebase/remote-config-compat",eV="@firebase/storage",tV="@firebase/storage-compat",nV="@firebase/firestore",rV="@firebase/ai",iV="@firebase/firestore-compat",sV="firebase",oV="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",aV={[am]:"fire-core",[VD]:"fire-core-compat",[jD]:"fire-analytics",[MD]:"fire-analytics-compat",[OD]:"fire-app-check",[LD]:"fire-app-check-compat",[FD]:"fire-auth",[UD]:"fire-auth-compat",[BD]:"fire-rtdb",[zD]:"fire-data-connect",[HD]:"fire-rtdb-compat",[$D]:"fire-fn",[WD]:"fire-fn-compat",[GD]:"fire-iid",[qD]:"fire-iid-compat",[KD]:"fire-fcm",[QD]:"fire-fcm-compat",[YD]:"fire-perf",[XD]:"fire-perf-compat",[JD]:"fire-rc",[ZD]:"fire-rc-compat",[eV]:"fire-gcs",[tV]:"fire-gcs-compat",[nV]:"fire-fst",[iV]:"fire-fst-compat",[rV]:"fire-vertex","fire-js":"fire-js",[sV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Map,lV=new Map,um=new Map;function mx(n,e){try{n.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sa(n){const e=n.name;if(um.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,n);for(const t of wu.values())mx(t,n);for(const t of lV.values())mx(t,n);return!0}function Ig(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new Ou("app","Firebase",uV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=oV;function Sg(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:lm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ns.create("bad-app-name",{appName:String(s)});if(t||(t=KE()),!t)throw ns.create("no-options");const a=wu.get(s);if(a){if(no(t,a.options)&&no(r,a.config))return a;throw ns.create("duplicate-app",{appName:s})}const l=new gD(s);for(const f of um.values())l.addComponent(f);const d=new cV(t,r,l);return wu.set(s,d),d}function Cg(n=lm){const e=wu.get(n);if(!e&&n===lm&&KE())return Sg();if(!e)throw ns.create("no-app",{appName:n});return e}function dV(){return Array.from(wu.values())}function rs(n,e,t){let r=aV[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(l.join(" "));return}Sa(new ro(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="firebase-heartbeat-database",fV=1,xu="firebase-heartbeat-store";let Pp=null;function eT(){return Pp||(Pp=kD(hV,fV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ns.create("idb-open",{originalErrorMessage:n.message})})),Pp}async function pV(n){try{const t=(await eT()).transaction(xu),r=await t.objectStore(xu).get(tT(n));return await t.done,r}catch(e){if(e instanceof pi)ui.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e?.message});ui.warn(t.message)}}}async function gx(n,e){try{const r=(await eT()).transaction(xu,"readwrite");await r.objectStore(xu).put(e,tT(n)),await r.done}catch(t){if(t instanceof pi)ui.warn(t.message);else{const r=ns.create("idb-set",{originalErrorMessage:t?.message});ui.warn(r.message)}}}function tT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=1024,gV=30;class yV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>gV){const s=xV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yx(),{heartbeatsToSend:t,unsentEntries:r}=vV(this._heartbeatsCache.heartbeats),s=Wd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ui.warn(e),""}}}function yx(){return new Date().toISOString().substring(0,10)}function vV(n,e=mV){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),vx(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),vx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iD()?sD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vx(n){return Wd(JSON.stringify({version:2,heartbeats:n})).length}function xV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(n){Sa(new ro("platform-logger",e=>new ND(e),"PRIVATE")),Sa(new ro("heartbeat",e=>new yV(e),"PRIVATE")),rs(am,px,n),rs(am,px,"esm2020"),rs("fire-js","")}_V("");function nT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EV=nT,rT=new Ou("auth","Firebase",nT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Tg("@firebase/auth");function TV(n,...e){Gd.logLevel<=Le.WARN&&Gd.warn(`Auth (${Ua}): ${n}`,...e)}function Sd(n,...e){Gd.logLevel<=Le.ERROR&&Gd.error(`Auth (${Ua}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,...e){throw Ag(n,...e)}function br(n,...e){return Ag(n,...e)}function iT(n,e,t){const r={...EV(),[e]:t};return new Ou("auth","Firebase",r).create(e,{appName:n.name})}function Ir(n){return iT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ag(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return rT.create(n,...e)}function Te(n,e,...t){if(!n)throw Ag(e,...t)}function ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sd(e),new Error(e)}function ci(n,e){n||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return typeof self<"u"&&self.location?.href||""}function bV(){return wx()==="http:"||wx()==="https:"}function wx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bV()||eD()||"connection"in navigator)?navigator.onLine:!0}function SV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=XN()||tD()}get(){return IV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(n,e){ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kV=new Uu(3e4,6e4);function ys(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function mi(n,e,t,r,s={}){return oT(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=Fu({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return ZN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Fa(n.emulatorConfig.host)&&(p.credentials="include"),sT.fetch()(await aT(n,n.config.apiHost,t,d),p)})}async function oT(n,e,t){n._canInitEmulator=!1;const r={...CV,...e};try{const s=new RV(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw md(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw md(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw md(n,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw iT(n,y,p);tr(n,y)}}catch(s){if(s instanceof pi)throw s;tr(n,"network-request-failed",{message:String(s)})}}async function Bu(n,e,t,r,s={}){const a=await mi(n,e,t,r,s);return"mfaPendingCredential"in a&&tr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function aT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?kg(n.config,s):`${n.config.apiScheme}://${s}`;return AV.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function PV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),kV.get())})}}function md(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=br(n,e,r);return s.customData._tokenResponse=t,s}function xx(n){return n!==void 0&&n.enterprise!==void 0}class NV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DV(n,e){return mi(n,"GET","/v2/recaptchaConfig",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(n,e){return mi(n,"POST","/v1/accounts:delete",e)}async function qd(n,e){return mi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MV(n,e=!1){const t=Ht(n),r=await t.getIdToken(e),s=Pg(r);Te(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:lu(Rp(s.auth_time)),issuedAtTime:lu(Rp(s.iat)),expirationTime:lu(Rp(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Rp(n){return Number(n)*1e3}function Pg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const s=GE(t);return s?JSON.parse(s):(Sd("Failed to decode base64 JWT payload"),null)}catch(s){return Sd("Caught error parsing JWT payload as JSON",s?.toString()),null}}function _x(n){const e=Pg(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof pi&&jV(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function jV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(n){const e=n.auth,t=await n.getIdToken(),r=await Ca(n,qd(e,{idToken:t}));Te(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?lT(s.providerUserInfo):[],l=FV(n.providerData,a),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!l?.length,p=d?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new dm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function OV(n){const e=Ht(n);await Kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FV(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(n,e){const t=await oT(n,{},async()=>{const r=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await aT(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&Fa(n.emulatorConfig.host)&&(f.credentials="include"),sT.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function BV(n,e){return mi(n,"POST","/v2/accounts:revokeToken",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_x(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=_x(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await UV(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new ma;return r&&(Te(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Te(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new LV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MV(this,e)}reload(){return OV(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Kd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Ir(this.auth));const e=await this.getIdToken();return await Ca(this,VV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:x,emailVerified:E,isAnonymous:A,providerData:M,stsTokenManager:R}=t;Te(x&&R,e,"internal-error");const I=ma.fromJSON(this.name,R);Te(typeof x=="string",e,"internal-error"),Ki(r,e.name),Ki(s,e.name),Te(typeof E=="boolean",e,"internal-error"),Te(typeof A=="boolean",e,"internal-error"),Ki(a,e.name),Ki(l,e.name),Ki(d,e.name),Ki(f,e.name),Ki(p,e.name),Ki(y,e.name);const j=new Jn({uid:x,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:A,photoURL:l,phoneNumber:a,tenantId:d,stsTokenManager:I,createdAt:p,lastLoginAt:y});return M&&Array.isArray(M)&&(j.providerData=M.map(U=>({...U}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t,r=!1){const s=new ma;s.updateFromServerResponse(t);const a=new Jn({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Kd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Te(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?lT(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,d=new ma;d.updateFromIdToken(r);const f=new Jn({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new Map;function ri(n){ci(n instanceof Function,"Expected a class definition");let e=Ex.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ex.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uT.type="NONE";const Tx=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(n,e,t){return`firebase:${n}:${e}:${t}`}class ga{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Cd(this.userKey,s.apiKey,a),this.fullPersistenceKey=Cd("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await qd(this.auth,{idToken:e}).catch(()=>{});return t?Jn._fromGetAccountInfoResponse(this.auth,t,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ga(ri(Tx),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ri(Tx);const l=Cd(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const y=await p._get(l);if(y){let x;if(typeof y=="string"){const E=await qd(e,{idToken:y}).catch(()=>{});if(!E)break;x=await Jn._fromGetAccountInfoResponse(e,E,y)}else x=Jn._fromJSON(e,y);p!==a&&(d=x),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ga(a,e,r):(a=f[0],d&&await a._set(l,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ga(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mT(e))return"Blackberry";if(gT(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||hT(e))&&!e.includes("edge/"))return"Chrome";if(pT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function cT(n=tn()){return/firefox\//i.test(n)}function dT(n=tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hT(n=tn()){return/crios\//i.test(n)}function fT(n=tn()){return/iemobile/i.test(n)}function pT(n=tn()){return/android/i.test(n)}function mT(n=tn()){return/blackberry/i.test(n)}function gT(n=tn()){return/webos/i.test(n)}function Rg(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zV(n=tn()){return Rg(n)&&!!window.navigator?.standalone}function HV(){return nD()&&document.documentMode===10}function yT(n=tn()){return Rg(n)||pT(n)||gT(n)||mT(n)||/windows phone/i.test(n)||fT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n,e=[]){let t;switch(n){case"Browser":t=bx(tn());break;case"Worker":t=`${bx(tn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,d)=>{try{const f=e(a);l(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(n,e={}){return mi(n,"GET","/v2/passwordPolicy",ys(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=6;class qV{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??GV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ix(this),this.idTokenSubscription=new Ix(this),this.beforeStateQueue=new $V(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qd(this,{idToken:e}),r=await Jn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Ir(this));const t=e?Ht(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WV(this),t=new qV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await BV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ri(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function vs(n){return Ht(n)}class Ix{constructor(e){this.auth=e,this.observer=null,this.addObserver=cD(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QV(n){vh=n}function wT(n){return vh.loadJS(n)}function YV(){return vh.recaptchaEnterpriseScript}function XV(){return vh.gapiScript}function JV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ZV{constructor(){this.enterprise=new eM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const tM="recaptcha-enterprise",xT="NO_RECAPTCHA";class nM{constructor(e){this.type=tM,this.auth=vs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{DV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new NV(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{d(f)})})}function s(a,l,d){const f=window.grecaptcha;xx(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(xT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZV().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(d=>{if(!t&&xx(window.grecaptcha))s(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=YV();f.length!==0&&(f+=d),wT(f).then(()=>{s(d,a,l)}).catch(p=>{l(p)})}}).catch(d=>{l(d)})})}}async function Sx(n,e,t,r=!1,s=!1){const a=new nM(n);let l;if(s)l=xT;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function hm(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Sx(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Sx(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(n,e){const t=Ig(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(no(a,e??{}))return s;tr(s,"already-initialized")}return t.initialize({options:e})}function iM(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function sM(n,e,t){const r=vs(n);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=_T(e),{host:l,port:d}=oM(e),f=d===null?"":`:${d}`,p={url:`${a}//${l}${f}/`},y=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(no(p,r.config.emulator)&&no(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Fa(l)?(YE(`${a}//${l}${f}`),XE("Auth",!0)):aM()}function _T(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function oM(n){const e=_T(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Cx(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Cx(l)}}}function Cx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function aM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function lM(n,e){return mi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(n,e){return Bu(n,"POST","/v1/accounts:signInWithPassword",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(n,e){return Bu(n,"POST","/v1/accounts:signInWithEmailLink",ys(n,e))}async function dM(n,e){return Bu(n,"POST","/v1/accounts:signInWithEmailLink",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends Ng{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new _u(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hm(e,t,"signInWithPassword",uM);case"emailLink":return cM(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hm(e,r,"signUpPassword",lM);case"emailLink":return dM(e,{idToken:t,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(n,e){return Bu(n,"POST","/v1/accounts:signInWithIdp",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="http://localhost";class io extends Ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const l=new io(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ya(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ya(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ya(e,t)}buildRequest(){const e={requestUri:hM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pM(n){const e=Xl(Jl(n)).link,t=e?Xl(Jl(e)).deep_link_id:null,r=Xl(Jl(n)).deep_link_id;return(r?Xl(Jl(r)).link:null)||r||t||e||n}class Dg{constructor(e){const t=Xl(Jl(e)),r=t.apiKey??null,s=t.oobCode??null,a=fM(t.mode??null);Te(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=pM(e);try{return new Dg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.providerId=Ba.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Dg.parseLink(t);return Te(r,"argument-error"),_u._fromEmailAndCode(e,r.code,r.tenantId)}}Ba.PROVIDER_ID="password";Ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends ET{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends zu{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return io._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Xi.credential(t,r)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends zu{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends zu{constructor(){super("twitter.com")}static credential(e,t){return io._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Zi.credential(t,r)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(n,e){return Bu(n,"POST","/v1/accounts:signUp",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Jn._fromIdTokenResponse(e,r,s),l=Ax(r);return new di({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Ax(r);return new di({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Ax(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fm(n){if(bn(n.app))return Promise.reject(Ir(n));const e=vs(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new di({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await TT(e,{returnSecureToken:!0}),r=await di._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends pi{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Qd(e,t,r,s)}}function bT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qd._fromErrorAndOperation(n,a,e,r):a})}async function mM(n,e,t=!1){const r=await Ca(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return di._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(n,e,t=!1){const{auth:r}=n;if(bn(r.app))return Promise.reject(Ir(r));const s="reauthenticate";try{const a=await Ca(n,bT(r,s,e,n),t);Te(a.idToken,r,"internal-error");const l=Pg(a.idToken);Te(l,r,"internal-error");const{sub:d}=l;return Te(n.uid===d,r,"user-mismatch"),di._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&tr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(n,e,t=!1){if(bn(n.app))return Promise.reject(Ir(n));const r="signIn",s=await bT(n,r,e),a=await di._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function yM(n,e){return IT(vs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(n){const e=vs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vM(n,e,t){if(bn(n.app))return Promise.reject(Ir(n));const r=vs(n),l=await hm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TT).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&ST(n),f}),d=await di._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function wM(n,e,t){return bn(n.app)?Promise.reject(Ir(n)):yM(Ht(n),Ba.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ST(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(n,e){return mi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ht(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ca(r,xM(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function EM(n,e,t,r){return Ht(n).onIdTokenChanged(e,t,r)}function TM(n,e,t){return Ht(n).beforeAuthStateChanged(e,t)}function Yd(n,e,t,r){return Ht(n).onAuthStateChanged(e,t,r)}function bM(n){return Ht(n).signOut()}const Xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xd,"1"),this.storage.removeItem(Xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=1e3,SM=10;class AT extends CT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);HV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,SM):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},IM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}AT.type="LOCAL";const CM=AT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends CT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}kT.type="SESSION";const PT=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async p=>p(t.origin,a)),f=await AM(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,f)=>{const p=Vg("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(x){const E=x;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function PM(n){Sr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function RM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NM(){return navigator?.serviceWorker?.controller||null}function DM(){return RT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firebaseLocalStorageDb",VM=1,Jd="firebaseLocalStorage",DT="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xh(n,e){return n.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function MM(){const n=indexedDB.deleteDatabase(NT);return new Hu(n).toPromise()}function pm(){const n=indexedDB.open(NT,VM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Jd,{keyPath:DT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Jd)?e(r):(r.close(),await MM(),e(await pm()))})})}async function kx(n,e,t){const r=xh(n,!0).put({[DT]:e,value:t});return new Hu(r).toPromise()}async function jM(n,e){const t=xh(n,!1).get(e),r=await new Hu(t).toPromise();return r===void 0?null:r.value}function Px(n,e){const t=xh(n,!0).delete(e);return new Hu(t).toPromise()}const LM=800,OM=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>OM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(DM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RM(),!this.activeServiceWorker)return;this.sender=new kM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await kx(e,Xd,"1"),await Px(e,Xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>kx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>jM(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Px(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=xh(s,!1).getAll();return new Hu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const FM=VT;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n,e){return e?ri(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends Ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ya(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ya(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BM(n){return IT(n.auth,new Mg(n),n.bypassAuthState)}function zM(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),gM(t,new Mg(n),n.bypassAuthState)}async function HM(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),mM(t,new Mg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BM;case"linkViaPopup":case"linkViaRedirect":return HM;case"reauthViaPopup":case"reauthViaRedirect":return zM;default:tr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new Uu(2e3,1e4);class ha extends MT{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$M.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="pendingRedirect",Ad=new Map;class GM extends MT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ad.get(this.auth._key());if(!e){try{const r=await qM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ad.set(this.auth._key(),e)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qM(n,e){const t=YM(e),r=QM(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function KM(n,e){Ad.set(n._key(),e)}function QM(n){return ri(n._redirectPersistence)}function YM(n){return Cd(WM,n.config.apiKey,n.name)}async function XM(n,e,t=!1){if(bn(n.app))return Promise.reject(Ir(n));const r=vs(n),s=UM(r,e),l=await new GM(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=600*1e3;class ZM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!jT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(br(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rx(e))}saveEventToCache(e){this.cachedEventUids.add(Rx(e)),this.lastProcessedEventTime=Date.now()}}function Rx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function e4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,e={}){return mi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r4=/^https?/;async function i4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await t4(n);for(const t of e)try{if(s4(t))return}catch{}tr(n,"unauthorized-domain")}function s4(n){const e=cm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!r4.test(t))return!1;if(n4.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new Uu(3e4,6e4);function Nx(){const n=Sr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function a4(n){return new Promise((e,t)=>{function r(){Nx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nx(),t(br(n,"network-request-failed"))},timeout:o4.get()})}if(Sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Sr().gapi?.load)r();else{const s=JV("iframefcb");return Sr()[s]=()=>{gapi.load?r():t(br(n,"network-request-failed"))},wT(`${XV()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw kd=null,e})}let kd=null;function l4(n){return kd=kd||a4(n),kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new Uu(5e3,15e3),c4="__/auth/iframe",d4="emulator/auth/iframe",h4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p4(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kg(e,d4):`https://${n.config.authDomain}/${c4}`,r={apiKey:e.apiKey,appName:n.name,v:Ua},s=f4.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Fu(r).slice(1)}`}async function m4(n){const e=await l4(n),t=Sr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:p4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h4,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=br(n,"network-request-failed"),d=Sr().setTimeout(()=>{a(l)},u4.get());function f(){Sr().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y4=500,v4=600,w4="_blank",x4="http://localhost";class Dx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _4(n,e,t,r=y4,s=v4){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...g4,width:r.toString(),height:s.toString(),top:a,left:l},p=tn().toLowerCase();t&&(d=hT(p)?w4:t),cT(p)&&(e=e||x4,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[A,M])=>`${E}${A}=${M},`,"");if(zV(p)&&d!=="_self")return E4(e||"",d),new Dx(null);const x=window.open(e||"",d,y);Te(x,n,"popup-blocked");try{x.focus()}catch{}return new Dx(x)}function E4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="__/auth/handler",b4="emulator/auth/handler",I4=encodeURIComponent("fac");async function Vx(n,e,t,r,s,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ua,eventId:s};if(e instanceof ET){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",uD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,x]of Object.entries({}))l[y]=x}if(e instanceof zu){const y=e.getScopes().filter(x=>x!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const d=l;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await n._getAppCheckToken(),p=f?`#${I4}=${encodeURIComponent(f)}`:"";return`${S4(n)}?${Fu(d).slice(1)}${p}`}function S4({config:n}){return n.emulator?kg(n,b4):`https://${n.authDomain}/${T4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class C4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=XM,this._overrideRedirectResult=KM}async _openPopup(e,t,r,s){ci(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Vx(e,t,r,cm(),s);return _4(e,a,Vg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Vx(e,t,r,cm(),s);return PM(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ci(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await m4(e),r=new ZM(e);return t.register("authEvent",s=>(Te(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Np,{type:Np},s=>{const a=s?.[0]?.[Np];a!==void 0&&t(!!a),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=i4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yT()||dT()||Rg()}}const A4=C4;var Mx="@firebase/auth",jx="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R4(n){Sa(new ro("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Te(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(n)},p=new KV(r,s,a,f);return iM(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Sa(new ro("auth-internal",e=>{const t=vs(e.getProvider("auth").getImmediate());return(r=>new k4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(Mx,jx,P4(n)),rs(Mx,jx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=300,D4=QE("authIdTokenMaxAge")||N4;let Lx=null;const V4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>D4)return;const s=t?.token;Lx!==s&&(Lx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function M4(n=Cg()){const e=Ig(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rM(n,{popupRedirectResolver:A4,persistence:[FM,CM,PT]}),r=QE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=V4(a.toString());TM(t,l,()=>l(t.currentUser)),EM(t,d=>l(d))}}const s=qE("auth");return s&&sM(t,`http://${s}`),t}function j4(){return document.getElementsByTagName("head")?.[0]??document}QV({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=br("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",j4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R4("Browser");var L4="firebase",O4="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(L4,O4,"app");var Ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,LT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,b){function S(){}S.prototype=b.prototype,k.F=b.prototype,k.prototype=new S,k.prototype.constructor=k,k.D=function(N,V,F){for(var P=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)P[ye-2]=arguments[ye];return b.prototype[V].apply(N,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,b,S){S||(S=0);const N=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)N[V]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(V=0;V<16;++V)N[V]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=k.g[0],S=k.g[1],V=k.g[2];let F=k.g[3],P;P=b+(F^S&(V^F))+N[0]+3614090360&4294967295,b=S+(P<<7&4294967295|P>>>25),P=F+(V^b&(S^V))+N[1]+3905402710&4294967295,F=b+(P<<12&4294967295|P>>>20),P=V+(S^F&(b^S))+N[2]+606105819&4294967295,V=F+(P<<17&4294967295|P>>>15),P=S+(b^V&(F^b))+N[3]+3250441966&4294967295,S=V+(P<<22&4294967295|P>>>10),P=b+(F^S&(V^F))+N[4]+4118548399&4294967295,b=S+(P<<7&4294967295|P>>>25),P=F+(V^b&(S^V))+N[5]+1200080426&4294967295,F=b+(P<<12&4294967295|P>>>20),P=V+(S^F&(b^S))+N[6]+2821735955&4294967295,V=F+(P<<17&4294967295|P>>>15),P=S+(b^V&(F^b))+N[7]+4249261313&4294967295,S=V+(P<<22&4294967295|P>>>10),P=b+(F^S&(V^F))+N[8]+1770035416&4294967295,b=S+(P<<7&4294967295|P>>>25),P=F+(V^b&(S^V))+N[9]+2336552879&4294967295,F=b+(P<<12&4294967295|P>>>20),P=V+(S^F&(b^S))+N[10]+4294925233&4294967295,V=F+(P<<17&4294967295|P>>>15),P=S+(b^V&(F^b))+N[11]+2304563134&4294967295,S=V+(P<<22&4294967295|P>>>10),P=b+(F^S&(V^F))+N[12]+1804603682&4294967295,b=S+(P<<7&4294967295|P>>>25),P=F+(V^b&(S^V))+N[13]+4254626195&4294967295,F=b+(P<<12&4294967295|P>>>20),P=V+(S^F&(b^S))+N[14]+2792965006&4294967295,V=F+(P<<17&4294967295|P>>>15),P=S+(b^V&(F^b))+N[15]+1236535329&4294967295,S=V+(P<<22&4294967295|P>>>10),P=b+(V^F&(S^V))+N[1]+4129170786&4294967295,b=S+(P<<5&4294967295|P>>>27),P=F+(S^V&(b^S))+N[6]+3225465664&4294967295,F=b+(P<<9&4294967295|P>>>23),P=V+(b^S&(F^b))+N[11]+643717713&4294967295,V=F+(P<<14&4294967295|P>>>18),P=S+(F^b&(V^F))+N[0]+3921069994&4294967295,S=V+(P<<20&4294967295|P>>>12),P=b+(V^F&(S^V))+N[5]+3593408605&4294967295,b=S+(P<<5&4294967295|P>>>27),P=F+(S^V&(b^S))+N[10]+38016083&4294967295,F=b+(P<<9&4294967295|P>>>23),P=V+(b^S&(F^b))+N[15]+3634488961&4294967295,V=F+(P<<14&4294967295|P>>>18),P=S+(F^b&(V^F))+N[4]+3889429448&4294967295,S=V+(P<<20&4294967295|P>>>12),P=b+(V^F&(S^V))+N[9]+568446438&4294967295,b=S+(P<<5&4294967295|P>>>27),P=F+(S^V&(b^S))+N[14]+3275163606&4294967295,F=b+(P<<9&4294967295|P>>>23),P=V+(b^S&(F^b))+N[3]+4107603335&4294967295,V=F+(P<<14&4294967295|P>>>18),P=S+(F^b&(V^F))+N[8]+1163531501&4294967295,S=V+(P<<20&4294967295|P>>>12),P=b+(V^F&(S^V))+N[13]+2850285829&4294967295,b=S+(P<<5&4294967295|P>>>27),P=F+(S^V&(b^S))+N[2]+4243563512&4294967295,F=b+(P<<9&4294967295|P>>>23),P=V+(b^S&(F^b))+N[7]+1735328473&4294967295,V=F+(P<<14&4294967295|P>>>18),P=S+(F^b&(V^F))+N[12]+2368359562&4294967295,S=V+(P<<20&4294967295|P>>>12),P=b+(S^V^F)+N[5]+4294588738&4294967295,b=S+(P<<4&4294967295|P>>>28),P=F+(b^S^V)+N[8]+2272392833&4294967295,F=b+(P<<11&4294967295|P>>>21),P=V+(F^b^S)+N[11]+1839030562&4294967295,V=F+(P<<16&4294967295|P>>>16),P=S+(V^F^b)+N[14]+4259657740&4294967295,S=V+(P<<23&4294967295|P>>>9),P=b+(S^V^F)+N[1]+2763975236&4294967295,b=S+(P<<4&4294967295|P>>>28),P=F+(b^S^V)+N[4]+1272893353&4294967295,F=b+(P<<11&4294967295|P>>>21),P=V+(F^b^S)+N[7]+4139469664&4294967295,V=F+(P<<16&4294967295|P>>>16),P=S+(V^F^b)+N[10]+3200236656&4294967295,S=V+(P<<23&4294967295|P>>>9),P=b+(S^V^F)+N[13]+681279174&4294967295,b=S+(P<<4&4294967295|P>>>28),P=F+(b^S^V)+N[0]+3936430074&4294967295,F=b+(P<<11&4294967295|P>>>21),P=V+(F^b^S)+N[3]+3572445317&4294967295,V=F+(P<<16&4294967295|P>>>16),P=S+(V^F^b)+N[6]+76029189&4294967295,S=V+(P<<23&4294967295|P>>>9),P=b+(S^V^F)+N[9]+3654602809&4294967295,b=S+(P<<4&4294967295|P>>>28),P=F+(b^S^V)+N[12]+3873151461&4294967295,F=b+(P<<11&4294967295|P>>>21),P=V+(F^b^S)+N[15]+530742520&4294967295,V=F+(P<<16&4294967295|P>>>16),P=S+(V^F^b)+N[2]+3299628645&4294967295,S=V+(P<<23&4294967295|P>>>9),P=b+(V^(S|~F))+N[0]+4096336452&4294967295,b=S+(P<<6&4294967295|P>>>26),P=F+(S^(b|~V))+N[7]+1126891415&4294967295,F=b+(P<<10&4294967295|P>>>22),P=V+(b^(F|~S))+N[14]+2878612391&4294967295,V=F+(P<<15&4294967295|P>>>17),P=S+(F^(V|~b))+N[5]+4237533241&4294967295,S=V+(P<<21&4294967295|P>>>11),P=b+(V^(S|~F))+N[12]+1700485571&4294967295,b=S+(P<<6&4294967295|P>>>26),P=F+(S^(b|~V))+N[3]+2399980690&4294967295,F=b+(P<<10&4294967295|P>>>22),P=V+(b^(F|~S))+N[10]+4293915773&4294967295,V=F+(P<<15&4294967295|P>>>17),P=S+(F^(V|~b))+N[1]+2240044497&4294967295,S=V+(P<<21&4294967295|P>>>11),P=b+(V^(S|~F))+N[8]+1873313359&4294967295,b=S+(P<<6&4294967295|P>>>26),P=F+(S^(b|~V))+N[15]+4264355552&4294967295,F=b+(P<<10&4294967295|P>>>22),P=V+(b^(F|~S))+N[6]+2734768916&4294967295,V=F+(P<<15&4294967295|P>>>17),P=S+(F^(V|~b))+N[13]+1309151649&4294967295,S=V+(P<<21&4294967295|P>>>11),P=b+(V^(S|~F))+N[4]+4149444226&4294967295,b=S+(P<<6&4294967295|P>>>26),P=F+(S^(b|~V))+N[11]+3174756917&4294967295,F=b+(P<<10&4294967295|P>>>22),P=V+(b^(F|~S))+N[2]+718787259&4294967295,V=F+(P<<15&4294967295|P>>>17),P=S+(F^(V|~b))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+b&4294967295,k.g[1]=k.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+F&4294967295}r.prototype.v=function(k,b){b===void 0&&(b=k.length);const S=b-this.blockSize,N=this.C;let V=this.h,F=0;for(;F<b;){if(V==0)for(;F<=S;)s(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<b;)if(N[V++]=k.charCodeAt(F++),V==this.blockSize){s(this,N),V=0;break}}else for(;F<b;)if(N[V++]=k[F++],V==this.blockSize){s(this,N),V=0;break}}this.h=V,this.o+=b},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var b=1;b<k.length-8;++b)k[b]=0;b=this.o*8;for(var S=k.length-8;S<k.length;++S)k[S]=b&255,b/=256;for(this.v(k),k=Array(16),b=0,S=0;S<4;++S)for(let N=0;N<32;N+=8)k[b++]=this.g[S]>>>N&255;return k};function a(k,b){var S=d;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=b(k)}function l(k,b){this.h=b;const S=[];let N=!0;for(let V=k.length-1;V>=0;V--){const F=k[V]|0;N&&F==b||(S[V]=F,N=!1)}this.g=S}var d={};function f(k){return-128<=k&&k<128?a(k,function(b){return new l([b|0],b<0?-1:0)}):new l([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return x;if(k<0)return I(p(-k));const b=[];let S=1;for(let N=0;k>=S;N++)b[N]=k/S|0,S*=4294967296;return new l(b,0)}function y(k,b){if(k.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(k.charAt(0)=="-")return I(y(k.substring(1),b));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=p(Math.pow(b,8));let N=x;for(let F=0;F<k.length;F+=8){var V=Math.min(8,k.length-F);const P=parseInt(k.substring(F,F+V),b);V<8?(V=p(Math.pow(b,V)),N=N.j(V).add(p(P))):(N=N.j(S),N=N.add(p(P)))}return N}var x=f(0),E=f(1),A=f(16777216);n=l.prototype,n.m=function(){if(R(this))return-I(this).m();let k=0,b=1;for(let S=0;S<this.g.length;S++){const N=this.i(S);k+=(N>=0?N:4294967296+N)*b,b*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(R(this))return"-"+I(this).toString(k);const b=p(Math.pow(k,6));var S=this;let N="";for(;;){const V=ee(S,b).g;S=j(S,V.j(b));let F=((S.g.length>0?S.g[0]:S.h)>>>0).toString(k);if(S=V,M(S))return F+N;for(;F.length<6;)F="0"+F;N=F+N}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(let b=0;b<k.g.length;b++)if(k.g[b]!=0)return!1;return!0}function R(k){return k.h==-1}n.l=function(k){return k=j(this,k),R(k)?-1:M(k)?0:1};function I(k){const b=k.g.length,S=[];for(let N=0;N<b;N++)S[N]=~k.g[N];return new l(S,~k.h).add(E)}n.abs=function(){return R(this)?I(this):this},n.add=function(k){const b=Math.max(this.g.length,k.g.length),S=[];let N=0;for(let V=0;V<=b;V++){let F=N+(this.i(V)&65535)+(k.i(V)&65535),P=(F>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);N=P>>>16,F&=65535,P&=65535,S[V]=P<<16|F}return new l(S,S[S.length-1]&-2147483648?-1:0)};function j(k,b){return k.add(I(b))}n.j=function(k){if(M(this)||M(k))return x;if(R(this))return R(k)?I(this).j(I(k)):I(I(this).j(k));if(R(k))return I(this.j(I(k)));if(this.l(A)<0&&k.l(A)<0)return p(this.m()*k.m());const b=this.g.length+k.g.length,S=[];for(var N=0;N<2*b;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(let V=0;V<k.g.length;V++){const F=this.i(N)>>>16,P=this.i(N)&65535,ye=k.i(V)>>>16,Pe=k.i(V)&65535;S[2*N+2*V]+=P*Pe,U(S,2*N+2*V),S[2*N+2*V+1]+=F*Pe,U(S,2*N+2*V+1),S[2*N+2*V+1]+=P*ye,U(S,2*N+2*V+1),S[2*N+2*V+2]+=F*ye,U(S,2*N+2*V+2)}for(k=0;k<b;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=b;k<2*b;k++)S[k]=0;return new l(S,0)};function U(k,b){for(;(k[b]&65535)!=k[b];)k[b+1]+=k[b]>>>16,k[b]&=65535,b++}function q(k,b){this.g=k,this.h=b}function ee(k,b){if(M(b))throw Error("division by zero");if(M(k))return new q(x,x);if(R(k))return b=ee(I(k),b),new q(I(b.g),I(b.h));if(R(b))return b=ee(k,I(b)),new q(I(b.g),b.h);if(k.g.length>30){if(R(k)||R(b))throw Error("slowDivide_ only works with positive integers.");for(var S=E,N=b;N.l(k)<=0;)S=ne(S),N=ne(N);var V=le(S,1),F=le(N,1);for(N=le(N,2),S=le(S,2);!M(N);){var P=F.add(N);P.l(k)<=0&&(V=V.add(S),F=P),N=le(N,1),S=le(S,1)}return b=j(k,V.j(b)),new q(V,b)}for(V=x;k.l(b)>=0;){for(S=Math.max(1,Math.floor(k.m()/b.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),F=p(S),P=F.j(b);R(P)||P.l(k)>0;)S-=N,F=p(S),P=F.j(b);M(F)&&(F=E),V=V.add(F),k=j(k,P)}return new q(V,k)}n.B=function(k){return ee(this,k).h},n.and=function(k){const b=Math.max(this.g.length,k.g.length),S=[];for(let N=0;N<b;N++)S[N]=this.i(N)&k.i(N);return new l(S,this.h&k.h)},n.or=function(k){const b=Math.max(this.g.length,k.g.length),S=[];for(let N=0;N<b;N++)S[N]=this.i(N)|k.i(N);return new l(S,this.h|k.h)},n.xor=function(k){const b=Math.max(this.g.length,k.g.length),S=[];for(let N=0;N<b;N++)S[N]=this.i(N)^k.i(N);return new l(S,this.h^k.h)};function ne(k){const b=k.g.length+1,S=[];for(let N=0;N<b;N++)S[N]=k.i(N)<<1|k.i(N-1)>>>31;return new l(S,k.h)}function le(k,b){const S=b>>5;b%=32;const N=k.g.length-S,V=[];for(let F=0;F<N;F++)V[F]=b>0?k.i(F+S)>>>b|k.i(F+S+1)<<32-b:k.i(F+S);return new l(V,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,LT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,is=l}).apply(typeof Ox<"u"?Ox:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OT,Zl,FT,Pd,mm,UT,BT,zT;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var w=0;w<c.length;++w){var _=c[w];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,w){if(w)e:{var _=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var $=c[C];if(!($ in _))break e;_=_[$]}c=c[c.length-1],C=_[c],w=w(C),w!=C&&w!=null&&e(_,c,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(w){var _=[],C;for(C in w)Object.prototype.hasOwnProperty.call(w,C)&&_.push([C,w[C]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function d(c){var w=typeof c;return w=="object"&&c!=null||w=="function"}function f(c,w,_){return c.call.apply(c.bind,arguments)}function p(c,w,_){return p=f,p.apply(null,arguments)}function y(c,w){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function x(c,w){function _(){}_.prototype=w.prototype,c.Z=w.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(C,$,Q){for(var ue=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ue[Ae-2]=arguments[Ae];return w.prototype[$].apply(C,ue)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const w=c.length;if(w>0){const _=Array(w);for(let C=0;C<w;C++)_[C]=c[C];return _}return[]}function M(c,w){for(let C=1;C<arguments.length;C++){const $=arguments[C];var _=typeof $;if(_=_!="object"?_:$?Array.isArray($)?"array":_:"null",_=="array"||_=="object"&&typeof $.length=="number"){_=c.length||0;const Q=$.length||0;c.length=_+Q;for(let ue=0;ue<Q;ue++)c[_+ue]=$[ue]}else c.push($)}}class R{constructor(w,_){this.i=w,this.j=_,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function I(c){l.setTimeout(()=>{throw c},0)}function j(){var c=k;let w=null;return c.g&&(w=c.g,c.g=c.g.next,c.g||(c.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,_){const C=q.get();C.set(w,_),this.h?this.h.next=C:this.g=C,this.h=C}}var q=new R(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(w,_){this.h=w,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,le=!1,k=new U,b=()=>{const c=Promise.resolve(void 0);ne=()=>{c.then(S)}};function S(){for(var c;c=j();){try{c.h.call(c.g)}catch(_){I(_)}var w=q;w.j(c),w.h<100&&(w.h++,c.next=w.g,w.g=c)}le=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,w){this.type=c,this.g=this.target=w,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,w=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};l.addEventListener("test",_,w),l.removeEventListener("test",_,w)}catch{}return c})();function P(c){return/^[\s\xa0]*$/.test(c)}function ye(c,w){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,w)}x(ye,V),ye.prototype.init=function(c,w){const _=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=w,w=c.relatedTarget,w||(_=="mouseover"?w=c.fromElement:_=="mouseout"&&(w=c.toElement)),this.relatedTarget=w,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),Ve=0;function Ie(c,w,_,C,$){this.listener=c,this.proxy=null,this.src=w,this.type=_,this.capture=!!C,this.ha=$,this.key=++Ve,this.da=this.fa=!1}function G(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Y(c,w,_){for(const C in c)w.call(_,c[C],C,c)}function J(c,w){for(const _ in c)w.call(void 0,c[_],_,c)}function O(c){const w={};for(const _ in c)w[_]=c[_];return w}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(c,w){let _,C;for(let $=1;$<arguments.length;$++){C=arguments[$];for(_ in C)c[_]=C[_];for(let Q=0;Q<X.length;Q++)_=X[Q],Object.prototype.hasOwnProperty.call(C,_)&&(c[_]=C[_])}}function Re(c){this.src=c,this.g={},this.h=0}Re.prototype.add=function(c,w,_,C,$){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ue=je(c,w,C,$);return ue>-1?(w=c[ue],_||(w.fa=!1)):(w=new Ie(w,this.src,Q,!!C,$),w.fa=_,c.push(w)),w};function Me(c,w){const _=w.type;if(_ in c.g){var C=c.g[_],$=Array.prototype.indexOf.call(C,w,void 0),Q;(Q=$>=0)&&Array.prototype.splice.call(C,$,1),Q&&(G(w),c.g[_].length==0&&(delete c.g[_],c.h--))}}function je(c,w,_,C){for(let $=0;$<c.length;++$){const Q=c[$];if(!Q.da&&Q.listener==w&&Q.capture==!!_&&Q.ha==C)return $}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),ze={};function Ye(c,w,_,C,$){if(Array.isArray(w)){for(let Q=0;Q<w.length;Q++)Ye(c,w[Q],_,C,$);return null}return _=Ka(_),c&&c[Pe]?c.J(w,_,d(C)?!!C.capture:!1,$):nn(c,w,_,!1,C,$)}function nn(c,w,_,C,$,Q){if(!w)throw Error("Invalid event type");const ue=d($)?!!$.capture:!!$;let Ae=yo(c);if(Ae||(c[qe]=Ae=new Re(c)),_=Ae.add(w,_,C,ue,Q),_.proxy)return _;if(C=mo(),_.proxy=C,C.src=c,C.listener=_,c.addEventListener)F||($=ue),$===void 0&&($=!1),c.addEventListener(w.toString(),C,$);else if(c.attachEvent)c.attachEvent(go(w.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function mo(){function c(_){return w.call(c.src,c.listener,_)}const w=Qu;return c}function qa(c,w,_,C,$){if(Array.isArray(w))for(var Q=0;Q<w.length;Q++)qa(c,w[Q],_,C,$);else C=d(C)?!!C.capture:!!C,_=Ka(_),c&&c[Pe]?(c=c.i,Q=String(w).toString(),Q in c.g&&(w=c.g[Q],_=je(w,_,C,$),_>-1&&(G(w[_]),Array.prototype.splice.call(w,_,1),w.length==0&&(delete c.g[Q],c.h--)))):c&&(c=yo(c))&&(w=c.g[w.toString()],c=-1,w&&(c=je(w,_,C,$)),(_=c>-1?w[c]:null)&&gi(_))}function gi(c){if(typeof c!="number"&&c&&!c.da){var w=c.src;if(w&&w[Pe])Me(w.i,c);else{var _=c.type,C=c.proxy;w.removeEventListener?w.removeEventListener(_,C,c.capture):w.detachEvent?w.detachEvent(go(_),C):w.addListener&&w.removeListener&&w.removeListener(C),(_=yo(w))?(Me(_,c),_.h==0&&(_.src=null,w[qe]=null)):G(c)}}}function go(c){return c in ze?ze[c]:ze[c]="on"+c}function Qu(c,w){if(c.da)c=!0;else{w=new ye(w,this);const _=c.listener,C=c.ha||c.src;c.fa&&gi(c),c=_.call(C,w)}return c}function yo(c){return c=c[qe],c instanceof Re?c:null}var xs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ka(c){return typeof c=="function"?c:(c[xs]||(c[xs]=function(w){return c.handleEvent(w)}),c[xs])}function Et(){N.call(this),this.i=new Re(this),this.M=this,this.G=null}x(Et,N),Et.prototype[Pe]=!0,Et.prototype.removeEventListener=function(c,w,_,C){qa(this,c,w,_,C)};function mt(c,w){var _,C=c.G;if(C)for(_=[];C;C=C.G)_.push(C);if(c=c.M,C=w.type||w,typeof w=="string")w=new V(w,c);else if(w instanceof V)w.target=w.target||c;else{var $=w;w=new V(C,c),_e(w,$)}$=!0;let Q,ue;if(_)for(ue=_.length-1;ue>=0;ue--)Q=w.g=_[ue],$=Bn(Q,C,!0,w)&&$;if(Q=w.g=c,$=Bn(Q,C,!0,w)&&$,$=Bn(Q,C,!1,w)&&$,_)for(ue=0;ue<_.length;ue++)Q=w.g=_[ue],$=Bn(Q,C,!1,w)&&$}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const w in c.g){const _=c.g[w];for(let C=0;C<_.length;C++)G(_[C]);delete c.g[w],c.h--}}this.G=null},Et.prototype.J=function(c,w,_,C){return this.i.add(String(c),w,!1,_,C)},Et.prototype.K=function(c,w,_,C){return this.i.add(String(c),w,!0,_,C)};function Bn(c,w,_,C){if(w=c.i.g[String(w)],!w)return!0;w=w.concat();let $=!0;for(let Q=0;Q<w.length;++Q){const ue=w[Q];if(ue&&!ue.da&&ue.capture==_){const Ae=ue.listener,gt=ue.ha||ue.src;ue.fa&&Me(c.i,ue),$=Ae.call(gt,C)!==!1&&$}}return $&&!C.defaultPrevented}function Qa(c,w){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(c,w||0)}function Ya(c){c.g=Qa(()=>{c.g=null,c.i&&(c.i=!1,Ya(c))},c.l);const w=c.h;c.h=null,c.m.apply(null,w)}class Yu extends N{constructor(w,_){super(),this.m=w,this.l=_,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(c){N.call(this),this.h=c,this.g={}}x(yi,N);var Xa=[];function vo(c){Y(c.g,function(w,_){this.g.hasOwnProperty(_)&&gi(w)},c),c.g={}}yi.prototype.N=function(){yi.Z.N.call(this),vo(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=l.JSON.stringify,Xu=l.JSON.parse,_s=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function wi(){}function Ju(){}var xi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wo(){V.call(this,"d")}x(wo,V);function Ja(){V.call(this,"c")}x(Ja,V);var zn={},xo=null;function _i(){return xo=xo||new Et}zn.Ia="serverreachability";function _o(c){V.call(this,zn.Ia,c)}x(_o,V);function jr(c){const w=_i();mt(w,new _o(w))}zn.STAT_EVENT="statevent";function Lr(c,w){V.call(this,zn.STAT_EVENT,c),this.stat=w}x(Lr,V);function ht(c){const w=_i();mt(w,new Lr(w,c))}zn.Ja="timingevent";function Za(c,w){V.call(this,zn.Ja,c),this.size=w}x(Za,V);function Ei(c,w){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},w)}function Ti(){this.g=!0}Ti.prototype.ua=function(){this.g=!1};function Zu(c,w,_,C,$,Q){c.info(function(){if(c.g)if(Q){var ue="",Ae=Q.split("&");for(let Qe=0;Qe<Ae.length;Qe++){var gt=Ae[Qe].split("=");if(gt.length>1){const Tt=gt[0];gt=gt[1];const xn=Tt.split("_");ue=xn.length>=2&&xn[1]=="type"?ue+(Tt+"="+gt+"&"):ue+(Tt+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+C+") [attempt "+$+"]: "+w+`
`+_+`
`+ue})}function ec(c,w,_,C,$,Q,ue){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+$+"]: "+w+`
`+_+`
`+Q+" "+ue})}function rr(c,w,_,C){c.info(function(){return"XMLHTTP TEXT ("+w+"): "+Es(c,_)+(C?" "+C:"")})}function tc(c,w){c.info(function(){return"TIMEOUT: "+w})}Ti.prototype.info=function(){};function Es(c,w){if(!c.g)return w;if(!w)return null;try{const Q=JSON.parse(w);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var _=Q[c];if(!(_.length<2)){var C=_[1];if(Array.isArray(C)&&!(C.length<1)){var $=C[0];if($!="noop"&&$!="stop"&&$!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return vi(Q)}catch{return w}}var bi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ii={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nc;function Or(){}x(Or,wi),Or.prototype.g=function(){return new XMLHttpRequest},nc=new Or;function ir(c){return encodeURIComponent(String(c))}function Eo(c){var w=1;c=c.split(":");const _=[];for(;w>0&&c.length;)_.push(c.shift()),w--;return c.length&&_.push(c.join(":")),_}function Cn(c,w,_,C){this.j=c,this.i=w,this.l=_,this.S=C||1,this.V=new yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rc}function rc(){this.i=null,this.g="",this.h=!1}var ic={},el={};function Hn(c,w,_){c.M=1,c.A=Ur(An(w)),c.u=_,c.R=!0,tl(c,null)}function tl(c,w){c.F=Date.now(),Ts(c),c.B=An(c.A);var _=c.B,C=c.S;Array.isArray(C)||(C=[String(C)]),dl(_.i,"t",C),c.C=0,_=c.j.L,c.h=new rc,c.g=pc(c.j,_?w:null,!c.u),c.P>0&&(c.O=new Yu(p(c.Y,c,c.g),c.P)),w=c.V,_=c.g,C=c.ba;var $="readystatechange";Array.isArray($)||($&&(Xa[0]=$.toString()),$=Xa);for(let Q=0;Q<$.length;Q++){const ue=Ye(_,$[Q],C||w.handleEvent,!1,w.h||w);if(!ue)break;w.g[ue.key]=ue}w=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,w)):(c.v="GET",c.g.ea(c.B,c.v,null,w)),jr(),Zu(c.i,c.v,c.B,c.l,c.S,c.u)}Cn.prototype.ba=function(c){c=c.target;const w=this.O;w&&dr(c)==3?w.j():this.Y(c)},Cn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=dr(this.g),gt=this.g.ya(),Qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||hc(this.g)))){this.K||Ae!=4||gt==7||(gt==8||Qe<=0?jr(3):jr(2)),To(this);var w=this.g.ca();this.X=w;var _=sc(this);if(this.o=w==200,ec(this.i,this.v,this.B,this.l,this.S,Ae,w),this.o){if(this.U&&!this.L){t:{if(this.g){var C,$=this.g;if((C=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var Q=C;break t}}Q=null}if(c=Q)rr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,et(this,c);else{this.o=!1,this.m=3,ht(12),Fr(this),bs(this);break e}}if(this.R){c=!0;let Tt;for(;!this.K&&this.C<_.length;)if(Tt=ac(this,_),Tt==el){Ae==4&&(this.m=4,ht(14),c=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==ic){this.m=4,ht(15),rr(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else rr(this.i,this.l,Tt,null),et(this,Tt);if(oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||_.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)rr(this.i,this.l,_,"[Invalid Chunked Response]"),Fr(this),bs(this);else if(_.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ds(ue),ue.P=!0,ht(11))}}else rr(this.i,this.l,_,null),et(this,_);Ae==4&&Fr(this),this.o&&!this.K&&(Ae==4?Do(this.j,this):(this.o=!1,Ts(this)))}else fl(this.g),w==400&&_.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),Fr(this),bs(this)}}}catch{}finally{}};function sc(c){if(!oc(c))return c.g.la();const w=hc(c.g);if(w==="")return"";let _="";const C=w.length,$=dr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Fr(c),bs(c),"";c.h.i=new l.TextDecoder}for(let Q=0;Q<C;Q++)c.h.h=!0,_+=c.h.i.decode(w[Q],{stream:!($&&Q==C-1)});return w.length=0,c.h.g+=_,c.C=0,c.h.g}function oc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ac(c,w){var _=c.C,C=w.indexOf(`
`,_);return C==-1?el:(_=Number(w.substring(_,C)),isNaN(_)?ic:(C+=1,C+_>w.length?el:(w=w.slice(C,C+_),c.C=C+_,w)))}Cn.prototype.cancel=function(){this.K=!0,Fr(this)};function Ts(c){c.T=Date.now()+c.H,nl(c,c.H)}function nl(c,w){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ei(p(c.aa,c),w)}function To(c){c.D&&(l.clearTimeout(c.D),c.D=null)}Cn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(tc(this.i,this.B),this.M!=2&&(jr(),ht(17)),Fr(this),this.m=2,bs(this)):nl(this,this.T-c)};function bs(c){c.j.I==0||c.K||Do(c.j,c)}function Fr(c){To(c);var w=c.O;w&&typeof w.dispose=="function"&&w.dispose(),c.O=null,vo(c.V),c.g&&(w=c.g,c.g=null,w.abort(),w.dispose())}function et(c,w){try{var _=c.j;if(_.I!=0&&(_.g==c||il(_.h,c))){if(!c.L&&il(_.h,c)&&_.I==3){try{var C=_.Ba.g.parse(w)}catch{C=null}if(Array.isArray(C)&&C.length==3){var $=C;if($[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)No(_),vn(_);else break e;pr(_),ht(18)}}else _.xa=$[1],0<_.xa-_.K&&$[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ei(p(_.Va,_),6e3));Is(_.h)<=1&&_.ta&&(_.ta=void 0)}else wn(_,11)}else if((c.L||_.g==c)&&No(_),!P(w))for($=_.Ba.g.parse(w),w=0;w<$.length;w++){let Qe=$[w];const Tt=Qe[0];if(!(Tt<=_.K))if(_.K=Tt,Qe=Qe[1],_.I==2)if(Qe[0]=="c"){_.M=Qe[1],_.ba=Qe[2];const xn=Qe[3];xn!=null&&(_.ka=xn,_.j.info("VER="+_.ka));const Wr=Qe[4];Wr!=null&&(_.za=Wr,_.j.info("SVER="+_.za));const mr=Qe[5];mr!=null&&typeof mr=="number"&&mr>0&&(C=1.5*mr,_.O=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const gr=c.g;if(gr){const jo=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jo){var Q=C.h;Q.g||jo.indexOf("spdy")==-1&&jo.indexOf("quic")==-1&&jo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Io(Q,Q.h),Q.h=null))}if(C.G){const gl=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(C.wa=gl,Ge(C.J,C.G,gl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),C=_;var ue=c;if(C.na=ml(C,C.L?C.ba:null,C.W),ue.L){Ss(C.h,ue);var Ae=ue,gt=C.O;gt&&(Ae.H=gt),Ae.D&&(To(Ae),Ts(Ae)),C.g=ue}else Wt(C);_.i.length>0&&$r(_)}else Qe[0]!="stop"&&Qe[0]!="close"||wn(_,7);else _.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?wn(_,7):Po(_):Qe[0]!="noop"&&_.l&&_.l.qa(Qe),_.A=0)}}jr(4)}catch{}}var Mh=class{constructor(c,w){this.g=c,this.map=w}};function bo(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Is(c){return c.h?1:c.g?c.g.size:0}function il(c,w){return c.h?c.h==w:c.g?c.g.has(w):!1}function Io(c,w){c.g?c.g.add(w):c.h=w}function Ss(c,w){c.h&&c.h==w?c.h=null:c.g&&c.g.has(w)&&c.g.delete(w)}bo.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let w=c.i;for(const _ of c.g.values())w=w.concat(_.G);return w}return A(c.i)}var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gn(c,w){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const C=c[_].indexOf("=");let $,Q=null;C>=0?($=c[_].substring(0,C),Q=c[_].substring(C+1)):$=c[_],w($,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function sr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;c instanceof sr?(this.l=c.l,Cs(this,c.j),this.o=c.o,this.g=c.g,or(this,c.u),this.h=c.h,Si(this,hl(c.i)),this.m=c.m):c&&(w=String(c).match(lc))?(this.l=!1,Cs(this,w[1]||"",!0),this.o=As(w[2]||""),this.g=As(w[3]||"",!0),or(this,w[4]),this.h=As(w[5]||"",!0),Si(this,w[6]||"",!0),this.m=As(w[7]||"")):(this.l=!1,this.i=new Ue(null,this.l))}sr.prototype.toString=function(){const c=[];var w=this.j;w&&c.push(ks(w,ol,!0),":");var _=this.g;return(_||w=="file")&&(c.push("//"),(w=this.o)&&c.push(ks(w,ol,!0),"@"),c.push(ir(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ks(_,_.charAt(0)=="/"?Ps:al,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ks(_,ll)),c.join("")},sr.prototype.resolve=function(c){const w=An(this);let _=!!c.j;_?Cs(w,c.j):_=!!c.o,_?w.o=c.o:_=!!c.g,_?w.g=c.g:_=c.u!=null;var C=c.h;if(_)or(w,c.u);else if(_=!!c.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var $=w.h.lastIndexOf("/");$!=-1&&(C=w.h.slice(0,$+1)+C)}if($=C,$==".."||$==".")C="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){C=$.lastIndexOf("/",0)==0,$=$.split("/");const Q=[];for(let ue=0;ue<$.length;){const Ae=$[ue++];Ae=="."?C&&ue==$.length&&Q.push(""):Ae==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),C&&ue==$.length&&Q.push("")):(Q.push(Ae),C=!0)}C=Q.join("/")}else C=$}return _?w.h=C:_=c.i.toString()!=="",_?Si(w,hl(c.i)):_=!!c.m,_&&(w.m=c.m),w};function An(c){return new sr(c)}function Cs(c,w,_){c.j=_?As(w,!0):w,c.j&&(c.j=c.j.replace(/:$/,""))}function or(c,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);c.u=w}else c.u=null}function Si(c,w,_){w instanceof Ue?(c.i=w,Co(c.i,c.l)):(_||(w=ks(w,jh)),c.i=new Ue(w,c.l))}function Ge(c,w,_){c.i.set(w,_)}function Ur(c){return Ge(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function As(c,w){return c?w?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ks(c,w,_){return typeof c=="string"?(c=encodeURI(c).replace(w,sl),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ol=/[#\/\?@]/g,al=/[#\?:]/g,Ps=/[#\?]/g,jh=/[#\?@]/g,ll=/#/g;function Ue(c,w){this.h=this.g=null,this.i=c||null,this.j=!!w}function ar(c){c.g||(c.g=new Map,c.h=0,c.i&&gn(c.i,function(w,_){c.add(decodeURIComponent(w.replace(/\+/g," ")),_)}))}n=Ue.prototype,n.add=function(c,w){ar(this),this.i=null,c=lr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(w),this.h+=1,this};function ul(c,w){ar(c),w=lr(c,w),c.g.has(w)&&(c.i=null,c.h-=c.g.get(w).length,c.g.delete(w))}function So(c,w){return ar(c),w=lr(c,w),c.g.has(w)}n.forEach=function(c,w){ar(this),this.g.forEach(function(_,C){_.forEach(function($){c.call(w,$,C,this)},this)},this)};function cl(c,w){ar(c);let _=[];if(typeof w=="string")So(c,w)&&(_=_.concat(c.g.get(lr(c,w))));else for(c=Array.from(c.g.values()),w=0;w<c.length;w++)_=_.concat(c[w]);return _}n.set=function(c,w){return ar(this),this.i=null,c=lr(this,c),So(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[w]),this.h+=1,this},n.get=function(c,w){return c?(c=cl(this,c),c.length>0?String(c[0]):w):w};function dl(c,w,_){ul(c,w),_.length>0&&(c.i=null,c.g.set(lr(c,w),A(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],w=Array.from(this.g.keys());for(let C=0;C<w.length;C++){var _=w[C];const $=ir(_);_=cl(this,_);for(let Q=0;Q<_.length;Q++){let ue=$;_[Q]!==""&&(ue+="="+ir(_[Q])),c.push(ue)}}return this.i=c.join("&")};function hl(c){const w=new Ue;return w.i=c.i,c.g&&(w.g=new Map(c.g),w.h=c.h),w}function lr(c,w){return w=String(w),c.j&&(w=w.toLowerCase()),w}function Co(c,w){w&&!c.j&&(ar(c),c.i=null,c.g.forEach(function(_,C){const $=C.toLowerCase();C!=$&&(ul(this,C),dl(this,$,_))},c)),c.j=w}function ur(c,w){const _=new Ti;if(l.Image){const C=new Image;C.onload=y(jt,_,"TestLoadImage: loaded",!0,w,C),C.onerror=y(jt,_,"TestLoadImage: error",!1,w,C),C.onabort=y(jt,_,"TestLoadImage: abort",!1,w,C),C.ontimeout=y(jt,_,"TestLoadImage: timeout",!1,w,C),l.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else w(!1)}function cr(c,w){const _=new Ti,C=new AbortController,$=setTimeout(()=>{C.abort(),jt(_,"TestPingServer: timeout",!1,w)},1e4);fetch(c,{signal:C.signal}).then(Q=>{clearTimeout($),Q.ok?jt(_,"TestPingServer: ok",!0,w):jt(_,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),jt(_,"TestPingServer: error",!1,w)})}function jt(c,w,_,C,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),C(_)}catch{}}function Rs(){this.g=new _s}function Br(c){this.i=c.Sb||null,this.h=c.ab||!1}x(Br,wi),Br.prototype.g=function(){return new yn(this.i,this.h)};function yn(c,w){Et.call(this),this.H=c,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(yn,Et),n=yn.prototype,n.open=function(c,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=w,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(w.body=c),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uc(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function uc(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var w=c.value?c.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!c.done}))&&(this.response=this.responseText+=w)}c.done?Ci(this):$n(this),this.readyState==3&&uc(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Ci(this))},n.Na=function(c){this.g&&(this.response=c,Ci(this))},n.ga=function(){this.g&&Ci(this)};function Ci(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}n.setRequestHeader=function(c,w){this.A.append(c,w)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],w=this.h.entries();for(var _=w.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=w.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cc(c){let w="";return Y(c,function(_,C){w+=C,w+=":",w+=_,w+=`\r
`}),w}function Ao(c,w,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=cc(_),typeof c=="string"?_!=null&&ir(_):Ge(c,w,_))}function Xe(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Xe,Et);var dc=/^https?$/i,Lh=["POST","PUT"];n=Xe.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,w,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);w=w?w.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nc.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(c),!0),this.B=!1}catch(Q){Ai(this,Q);return}if(c=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var $ in C)_.set($,C[$]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Q of C.keys())_.set(Q,C.get(Q));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),$=l.FormData&&c instanceof l.FormData,!(Array.prototype.indexOf.call(Lh,w,void 0)>=0)||C||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of _)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ai(this,Q)}};function Ai(c,w){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=w,c.o=5,ki(c),Hr(c)}function ki(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,mt(this,"complete"),mt(this,"abort"),Hr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),Xe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},n.Xa=function(){zr(this)};function zr(c){if(c.h&&typeof a<"u"){if(c.v&&dr(c)==4)setTimeout(c.Ca.bind(c),0);else if(mt(c,"readystatechange"),dr(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var _;if(!(_=w)){var C;if(C=Q===0){let ue=String(c.D).match(lc)[1]||null;!ue&&l.self&&l.self.location&&(ue=l.self.location.protocol.slice(0,-1)),C=!dc.test(ue?ue.toLowerCase():"")}_=C}if(_)mt(c,"complete"),mt(c,"success");else{c.o=6;try{var $=dr(c)>2?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.ca()+"]",ki(c)}}finally{Hr(c)}}}}function Hr(c,w){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,w||mt(c,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function dr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return dr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var w=this.g.responseText;return c&&w.indexOf(c)==0&&(w=w.substring(c.length)),Xu(w)}};function hc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fl(c){const w={};c=(c.g&&dr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(P(c[C]))continue;var _=Eo(c[C]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=w[$]||[];w[$]=Q,Q.push(_)}J(w,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(c,w,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||w}function ko(c){this.za=0,this.i=[],this.j=new Ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hr("baseRetryDelayMs",5e3,c),this.Za=hr("retryDelaySeedMs",1e4,c),this.Ta=hr("forwardChannelMaxRetries",2,c),this.va=hr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(c&&c.concurrentRequestLimit),this.Ba=new Rs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ko.prototype,n.ka=8,n.I=1,n.connect=function(c,w,_,C){ht(0),this.W=c,this.H=w||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.J=ml(this,null,this.W),$r(this)};function Po(c){if(Ro(c),c.I==3){var w=c.V++,_=An(c.J);if(Ge(_,"SID",c.M),Ge(_,"RID",w),Ge(_,"TYPE","terminate"),fr(c,_),w=new Cn(c,c.j,w),w.M=2,w.A=Ur(An(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!_&&l.Image&&(new Image().src=w.A,_=!0),_||(w.g=pc(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Ts(w)}Vs(c)}function vn(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function Ro(c){vn(c),c.v&&(l.clearTimeout(c.v),c.v=null),No(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&l.clearTimeout(c.m),c.m=null)}function $r(c){if(!rl(c.h)&&!c.m){c.m=!0;var w=c.Ea;ne||b(),le||(ne(),le=!0),k.add(w,c),c.D=0}}function fc(c,w){return Is(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=w.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ei(p(c.Ea,c,w),Vo(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const $=new Cn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=O(Q),_e(Q,this.U)):Q=this.U),this.u!==null||this.R||($.J=Q,Q=null),this.S)e:{for(var w=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(w+=C,w>4096){w=_;break e}if(w===4096||_===this.i.length-1){w=_+1;break e}}w=1e3}else w=1e3;w=pl(this,$,w),_=An(this.J),Ge(_,"RID",c),Ge(_,"CVER",22),this.G&&Ge(_,"X-HTTP-Session-Id",this.G),fr(this,_),Q&&(this.R?w="headers="+ir(cc(Q))+"&"+w:this.u&&Ao(_,this.u,Q)),Io(this.h,$),this.Ra&&Ge(_,"TYPE","init"),this.S?(Ge(_,"$req",w),Ge(_,"SID","null"),$.U=!0,Hn($,_,null)):Hn($,_,w),this.I=2}}else this.I==3&&(c?Ns(this,c):this.i.length==0||rl(this.h)||Ns(this))};function Ns(c,w){var _;w?_=w.l:_=c.V++;const C=An(c.J);Ge(C,"SID",c.M),Ge(C,"RID",_),Ge(C,"AID",c.K),fr(c,C),c.u&&c.o&&Ao(C,c.u,c.o),_=new Cn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),w&&(c.i=w.G.concat(c.i)),w=pl(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,_),Hn(_,C,w)}function fr(c,w){c.H&&Y(c.H,function(_,C){Ge(w,C,_)}),c.l&&Y({},function(_,C){Ge(w,C,_)})}function pl(c,w,_){_=Math.min(c.i.length,_);const C=c.l?p(c.l.Ka,c.l,c):null;e:{var $=c.i;let Ae=-1;for(;;){const gt=["count="+_];Ae==-1?_>0?(Ae=$[0].g,gt.push("ofs="+Ae)):Ae=0:gt.push("ofs="+Ae);let Qe=!0;for(let Tt=0;Tt<_;Tt++){var Q=$[Tt].g;const xn=$[Tt].map;if(Q-=Ae,Q<0)Ae=Math.max(0,$[Tt].g-100),Qe=!1;else try{Q="req"+Q+"_"||"";try{var ue=xn instanceof Map?xn:Object.entries(xn);for(const[Wr,mr]of ue){let gr=mr;d(mr)&&(gr=vi(mr)),gt.push(Q+Wr+"="+encodeURIComponent(gr))}}catch(Wr){throw gt.push(Q+"type="+encodeURIComponent("_badmap")),Wr}}catch{C&&C(xn)}}if(Qe){ue=gt.join("&");break e}}ue=void 0}return c=c.i.splice(0,_),w.G=c,ue}function Wt(c){if(!c.g&&!c.v){c.Y=1;var w=c.Da;ne||b(),le||(ne(),le=!0),k.add(w,c),c.A=0}}function pr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ei(p(c.Da,c),Vo(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,Pi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ei(p(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),vn(this),Pi(this))};function Ds(c){c.B!=null&&(l.clearTimeout(c.B),c.B=null)}function Pi(c){c.g=new Cn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var w=An(c.na);Ge(w,"RID","rpc"),Ge(w,"SID",c.M),Ge(w,"AID",c.K),Ge(w,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ge(w,"TO",c.ia),Ge(w,"TYPE","xmlhttp"),fr(c,w),c.u&&c.o&&Ao(w,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ur(An(w)),_.u=null,_.R=!0,tl(_,c)}n.Va=function(){this.C!=null&&(this.C=null,vn(this),pr(this),ht(19))};function No(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Do(c,w){var _=null;if(c.g==w){No(c),Ds(c),c.g=null;var C=2}else if(il(c.h,w))_=w.G,Ss(c.h,w),C=1;else return;if(c.I!=0){if(w.o)if(C==1){_=w.u?w.u.length:0,w=Date.now()-w.F;var $=c.D;C=_i(),mt(C,new Za(C,_)),$r(c)}else Wt(c);else if($=w.m,$==3||$==0&&w.X>0||!(C==1&&fc(c,w)||C==2&&pr(c)))switch(_&&_.length>0&&(w=c.h,w.i=w.i.concat(_)),$){case 1:wn(c,5);break;case 4:wn(c,10);break;case 3:wn(c,6);break;default:wn(c,2)}}}function Vo(c,w){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*w}function wn(c,w){if(c.j.info("Error code "+w),w==2){var _=p(c.bb,c),C=c.Ua;const $=!C;C=new sr(C||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Cs(C,"https"),Ur(C),$?ur(C.toString(),_):cr(C.toString(),_)}else ht(2);c.I=0,c.l&&c.l.pa(w),Vs(c),Ro(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Vs(c){if(c.I=0,c.ja=[],c.l){const w=mn(c.h);(w.length!=0||c.i.length!=0)&&(M(c.ja,w),M(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function ml(c,w,_){var C=_ instanceof sr?An(_):new sr(_);if(C.g!="")w&&(C.g=w+"."+C.g),or(C,C.u);else{var $=l.location;C=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;const Q=new sr(null);C&&Cs(Q,C),w&&(Q.g=w),$&&or(Q,$),_&&(Q.h=_),C=Q}return _=c.G,w=c.wa,_&&w&&Ge(C,_,w),Ge(C,"VER",c.ka),fr(c,C),C}function pc(c,w,_){if(w&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=c.Aa&&!c.ma?new Xe(new Br({ab:_})):new Xe(c.ma),w.Fa(c.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}n=mc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Mo(){}Mo.prototype.g=function(c,w){return new Lt(c,w)};function Lt(c,w){Et.call(this),this.g=new ko(w),this.l=c,this.h=w&&w.messageUrlParams||null,c=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(c?c["X-WebChannel-Content-Type"]=w.messageContentType:c={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(c?c["X-WebChannel-Client-Profile"]=w.sa:c={"X-WebChannel-Client-Profile":w.sa}),this.g.U=c,(c=w&&w.Qb)&&!P(c)&&(this.g.u=c),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.G=w,c=this.h,c!==null&&w in c&&(c=this.h,w in c&&delete c[w])),this.j=new Ri(this)}x(Lt,Et),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Po(this.g)},Lt.prototype.o=function(c){var w=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=vi(c),c=_);w.i.push(new Mh(w.Ya++,c)),w.I==3&&$r(w)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,Lt.Z.N.call(this)};function gc(c){wo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var w=c.__sm__;if(w){e:{for(const _ in w){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,w=w!==null&&c in w?w[c]:void 0),this.data=w}else this.data=c}x(gc,wo);function yc(){Ja.call(this),this.status=1}x(yc,Ja);function Ri(c){this.g=c}x(Ri,mc),Ri.prototype.ra=function(){mt(this.g,"a")},Ri.prototype.qa=function(c){mt(this.g,new gc(c))},Ri.prototype.pa=function(c){mt(this.g,new yc)},Ri.prototype.oa=function(){mt(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,zT=function(){return new Mo},BT=function(){return _i()},UT=zn,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,Pd=bi,Ii.COMPLETE="complete",FT=Ii,Ju.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Zl=Ju,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,OT=Xe}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const Fx="@firebase/firestore",Ux="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new Tg("@firebase/firestore");function ra(){return so.logLevel}function he(n,...e){if(so.logLevel<=Le.DEBUG){const t=e.map(jg);so.debug(`Firestore (${za}): ${n}`,...t)}}function hi(n,...e){if(so.logLevel<=Le.ERROR){const t=e.map(jg);so.error(`Firestore (${za}): ${n}`,...t)}}function Aa(n,...e){if(so.logLevel<=Le.WARN){const t=e.map(jg);so.warn(`Firestore (${za}): ${n}`,...t)}}function jg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,HT(n,r,t)}function HT(n,e,t){let r=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw hi(r),new Error(r)}function Ke(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||HT(e,s,r)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Jt.UNAUTHENTICATED)))}shutdown(){}}class U4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class B4{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ss,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ss)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new $T(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class z4{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new z4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Bx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Bx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=W4(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Oe(n,e){return n<e?-1:n>e?1:0}function gm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return Dp(s)===Dp(a)?Oe(s,a):Dp(s)?1:-1}return Oe(n.length,e.length)}const G4=55296,q4=57343;function Dp(n){const e=n.charCodeAt(0);return e>=G4&&e<=q4}function ka(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="__name__";class _r{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=_r.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Oe(e.length,t.length)}static compareSegments(e,t){const r=_r.isNumericId(e),s=_r.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?_r.extractNumericId(e).compare(_r.extractNumericId(t)):gm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class Ze extends _r{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const K4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends _r{construct(e,t,r){return new zt(e,t,r)}static isValidIdentifier(e){return K4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zx}static keyField(){return new zt([zx])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Ze.fromString(e))}static fromName(e){return new ve(Ze.fromString(e).popFirst(5))}static empty(){return new ve(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n,e,t){if(!t)throw new ce(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Q4(n,e,t,r){if(e===!0&&r===!0)throw new ce(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hx(n){if(!ve.isDocumentKey(n))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $x(n){if(ve.isDocumentKey(n))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _h(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function Cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_h(n);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n,e){const t={typeString:n};return e&&(t.value=e),t}function $u(n,e){if(!GT(n))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ce(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=-62135596800,Gx=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Gx);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Wx)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gx}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($u(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:At("string",it._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new it(0,0))}static max(){return new Ce(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function Y4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new cs(s,ve.empty(),e)}function X4(n){return new cs(n.readTime,n.key,Eu)}class cs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new cs(Ce.min(),ve.empty(),Eu)}static max(){return new cs(Ce.max(),ve.empty(),Eu)}}function J4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ej{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==Z4)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,r)=>{t(e)}))}static reject(e){return new te(((t,r)=>{r(e)}))}static waitFor(e){return new te(((t,r)=>{let s=0,a=0,l=!1;e.forEach((d=>{++s,d.next((()=>{++a,l&&a===s&&t()}),(f=>r(f)))})),l=!0,a===s&&t()}))}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next((s=>s?te.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new te(((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((y=>{l[p]=y,++d,d===a&&r(l)}),(y=>s(y)))}}))}static doWhile(e,t){return new te(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function tj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $a(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=-1;function Th(n){return n==null}function Zd(n){return n===0&&1/n==-1/0}function nj(n){return typeof n=="number"&&Number.isInteger(n)&&!Zd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="";function rj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qx(e)),e=ij(n.get(t),e);return qx(e)}function ij(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case qT:t+="";break;default:t+=a}}return t}function qx(n){return n+qT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function co(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Bt.RED,this.left=s??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Bt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qx(this.data.getIterator())}getIteratorFrom(e){return new Qx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class Qx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new Rt(zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new QT("Invalid base64 string: "+a):a}})(e);return new $t(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const sj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=sj.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hs(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="server_timestamp",XT="__type__",JT="__previous_value__",ZT="__local_write_time__";function Fg(n){return(n?.mapValue?.fields||{})[XT]?.stringValue===YT}function bh(n){const e=n.mapValue.fields[JT];return Fg(e)?bh(e):e}function Tu(n){const e=ds(n.mapValue.fields[ZT].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,t,r,s,a,l,d,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const eh="(default)";class bu{constructor(e,t){this.projectId=e,this.database=t||eh}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__type__",aj="__max__",vd={mapValue:{}},tb="__vector__",th="value";function fs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fg(n)?4:uj(n)?9007199254740991:lj(n)?10:11:be(28295,{value:n})}function Dr(n,e){if(n===e)return!0;const t=fs(n);if(t!==fs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tu(n).isEqual(Tu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ds(s.timestampValue),d=ds(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return hs(s.bytesValue).isEqual(hs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return xt(s.geoPointValue.latitude)===xt(a.geoPointValue.latitude)&&xt(s.geoPointValue.longitude)===xt(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return xt(s.integerValue)===xt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=xt(s.doubleValue),d=xt(a.doubleValue);return l===d?Zd(l)===Zd(d):isNaN(l)&&isNaN(d)}return!1})(n,e);case 9:return ka(n.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(Kx(l)!==Kx(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!Dr(l[f],d[f])))return!1;return!0})(n,e);default:return be(52216,{left:n})}}function Iu(n,e){return(n.values||[]).find((t=>Dr(t,e)))!==void 0}function Pa(n,e){if(n===e)return 0;const t=fs(n),r=fs(e);if(t!==r)return Oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=xt(a.integerValue||a.doubleValue),f=xt(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return Yx(n.timestampValue,e.timestampValue);case 4:return Yx(Tu(n),Tu(e));case 5:return gm(n.stringValue,e.stringValue);case 6:return(function(a,l){const d=hs(a),f=hs(l);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),f=l.split("/");for(let p=0;p<d.length&&p<f.length;p++){const y=Oe(d[p],f[p]);if(y!==0)return y}return Oe(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=Oe(xt(a.latitude),xt(l.latitude));return d!==0?d:Oe(xt(a.longitude),xt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Xx(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const d=a.fields||{},f=l.fields||{},p=d[th]?.arrayValue,y=f[th]?.arrayValue,x=Oe(p?.values?.length||0,y?.values?.length||0);return x!==0?x:Xx(p,y)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===vd.mapValue&&l===vd.mapValue)return 0;if(a===vd.mapValue)return 1;if(l===vd.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=l.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let x=0;x<f.length&&x<y.length;++x){const E=gm(f[x],y[x]);if(E!==0)return E;const A=Pa(d[f[x]],p[y[x]]);if(A!==0)return A}return Oe(f.length,y.length)})(n.mapValue,e.mapValue);default:throw be(23264,{he:t})}}function Yx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=ds(n),r=ds(e),s=Oe(t.seconds,r.seconds);return s!==0?s:Oe(t.nanos,r.nanos)}function Xx(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Pa(t[s],r[s]);if(a)return a}return Oe(t.length,r.length)}function Ra(n){return ym(n)}function ym(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ds(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return hs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=ym(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${ym(t.fields[l])}`;return s+"}"})(n.mapValue):be(61005,{value:n})}function Rd(n){switch(fs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(n);return e?16+Rd(e):16;case 5:return 2*n.stringValue.length;case 6:return hs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Rd(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return co(r.fields,((a,l)=>{s+=a.length+Rd(l)})),s})(n.mapValue);default:throw be(13486,{value:n})}}function Jx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vm(n){return!!n&&"integerValue"in n}function Ug(n){return!!n&&"arrayValue"in n}function Zx(n){return!!n&&"nullValue"in n}function e_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nd(n){return!!n&&"mapValue"in n}function lj(n){return(n?.mapValue?.fields||{})[eb]?.stringValue===tb}function uu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return co(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=uu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(n.arrayValue.values[t]);return e}return{...n}}function uj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===aj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Nd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=zt.emptyPath(),r={},s=[];e.forEach(((l,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}l?r[d.lastSegment()]=uu(l):s.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Nd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Nd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){co(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new On(uu(this.value))}}function nb(n){const e=[];return co(n.fields,((t,r)=>{const s=new zt([t]);if(Nd(r)){const a=nb(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,r,s,a,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,Ce.min(),Ce.min(),Ce.min(),On.empty(),0)}static newFoundDocument(e,t,r,s){return new Zt(e,1,t,Ce.min(),r,s,0)}static newNoDocument(e,t){return new Zt(e,2,t,Ce.min(),Ce.min(),On.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Ce.min(),Ce.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.position=e,this.inclusive=t}}function t_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),t.key):r=Pa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Dr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t="asc"){this.field=e,this.dir=t}}function cj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{}class Ct extends rb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hj(e,t,r):t==="array-contains"?new mj(e,r):t==="in"?new gj(e,r):t==="not-in"?new yj(e,r):t==="array-contains-any"?new vj(e,r):new Ct(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fj(e,r):new pj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Pa(t,this.value)):t!==null&&fs(this.value)===fs(t)&&this.matchesComparison(Pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends rb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new nr(e,t)}matches(e){return ib(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ib(n){return n.op==="and"}function sb(n){return dj(n)&&ib(n)}function dj(n){for(const e of n.filters)if(e instanceof nr)return!1;return!0}function wm(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+Ra(n.value);if(sb(n))return n.filters.map((e=>wm(e))).join(",");{const e=n.filters.map((t=>wm(t))).join(",");return`${n.op}(${e})`}}function ob(n,e){return n instanceof Ct?(function(r,s){return s instanceof Ct&&r.op===s.op&&r.field.isEqual(s.field)&&Dr(r.value,s.value)})(n,e):n instanceof nr?(function(r,s){return s instanceof nr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,d)=>a&&ob(l,s.filters[d])),!0):!1})(n,e):void be(19439)}function ab(n){return n instanceof Ct?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ra(t.value)}`})(n):n instanceof nr?(function(t){return t.op.toString()+" {"+t.getFilters().map(ab).join(" ,")+"}"})(n):"Filter"}class hj extends Ct{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class fj extends Ct{constructor(e,t){super(e,"in",t),this.keys=lb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pj extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=lb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lb(n,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class mj extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ug(t)&&Iu(t.arrayValue,this.value)}}class gj extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Iu(this.value.arrayValue,t)}}class yj extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Iu(this.value.arrayValue,t)}}class vj extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ug(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Iu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,t=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.Te=null}}function r_(n,e=null,t=[],r=[],s=null,a=null,l=null){return new wj(n,e,t,r,s,a,l)}function Bg(n){const e=ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>wm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Th(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ra(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ra(r))).join(",")),e.Te=t}return e.Te}function zg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ob(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!n_(n.startAt,e.startAt)&&n_(n.endAt,e.endAt)}function xm(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t=null,r=[],s=[],a=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xj(n,e,t,r,s,a,l,d){return new Wa(n,e,t,r,s,a,l,d)}function Ih(n){return new Wa(n)}function i_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ub(n){return n.collectionGroup!==null}function cu(n){const e=ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Rt(zt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Su(a,r))})),t.has(zt.keyField().canonicalString())||e.Ie.push(new Su(zt.keyField(),r))}return e.Ie}function Ar(n){const e=ke(n);return e.Ee||(e.Ee=_j(e,cu(n))),e.Ee}function _j(n,e){if(n.limitType==="F")return r_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Su(s.field,a)}));const t=n.endAt?new nh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new nh(n.startAt.position,n.startAt.inclusive):null;return r_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _m(n,e){const t=n.filters.concat([e]);return new Wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rh(n,e,t){return new Wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sh(n,e){return zg(Ar(n),Ar(e))&&n.limitType===e.limitType}function cb(n){return`${Bg(Ar(n))}|lt:${n.limitType}`}function ia(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>ab(s))).join(", ")}]`),Th(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Ra(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Ra(s))).join(",")),`Target(${r})`})(Ar(n))}; limitType=${n.limitType})`}function Ch(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of cu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,d,f){const p=t_(l,d,f);return l.inclusive?p<=0:p<0})(r.startAt,cu(r),s)||r.endAt&&!(function(l,d,f){const p=t_(l,d,f);return l.inclusive?p>=0:p>0})(r.endAt,cu(r),s))})(n,e)}function Ej(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function db(n){return(e,t)=>{let r=!1;for(const s of cu(n)){const a=Tj(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Tj(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(a,l,d){const f=l.data.field(a),p=d.data.field(a);return f!==null&&p!==null?Pa(f,p):be(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return KT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new dt(ve.comparator);function fi(){return bj}const hb=new dt(ve.comparator);function eu(...n){let e=hb;for(const t of n)e=e.insert(t.key,t);return e}function fb(n){let e=hb;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Js(){return du()}function pb(){return du()}function du(){return new ho((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Ij=new dt(ve.comparator),Sj=new Rt(ve.comparator);function Fe(...n){let e=Sj;for(const t of n)e=e.add(t);return e}const Cj=new Rt(Oe);function Aj(){return Cj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function mb(n){return{integerValue:""+n}}function kj(n,e){return nj(e)?mb(e):Hg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function Pj(n,e,t){return n instanceof Cu?(function(s,a){const l={fields:{[XT]:{stringValue:YT},[ZT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Fg(a)&&(a=bh(a)),a&&(l.fields[JT]=a),{mapValue:l}})(t,e):n instanceof Au?yb(n,e):n instanceof ku?vb(n,e):(function(s,a){const l=gb(s,a),d=s_(l)+s_(s.Ae);return vm(l)&&vm(s.Ae)?mb(d):Hg(s.serializer,d)})(n,e)}function Rj(n,e,t){return n instanceof Au?yb(n,e):n instanceof ku?vb(n,e):t}function gb(n,e){return n instanceof ih?(function(r){return vm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Cu extends Ah{}class Au extends Ah{constructor(e){super(),this.elements=e}}function yb(n,e){const t=wb(e);for(const r of n.elements)t.some((s=>Dr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class ku extends Ah{constructor(e){super(),this.elements=e}}function vb(n,e){let t=wb(e);for(const r of n.elements)t=t.filter((s=>!Dr(s,r)));return{arrayValue:{values:t}}}class ih extends Ah{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function s_(n){return xt(n.integerValue||n.doubleValue)}function wb(n){return Ug(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,t){this.field=e,this.transform=t}}function Dj(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Au&&s instanceof Au||r instanceof ku&&s instanceof ku?ka(r.elements,s.elements,Dr):r instanceof ih&&s instanceof ih?Dr(r.Ae,s.Ae):r instanceof Cu&&s instanceof Cu})(n.transform,e.transform)}class Vj{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kh{}function xb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $g(n.key,er.none()):new Wu(n.key,n.data,er.none());{const t=n.data,r=On.empty();let s=new Rt(zt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new fo(n.key,r,new Zn(s.toArray()),er.none())}}function Mj(n,e,t){n instanceof Wu?(function(s,a,l){const d=s.value.clone(),f=a_(s.fieldTransforms,a,l.transformResults);d.setAll(f),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):n instanceof fo?(function(s,a,l){if(!Dd(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=a_(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(_b(s)),f.setAll(d),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function hu(n,e,t,r){return n instanceof Wu?(function(a,l,d,f){if(!Dd(a.precondition,l))return d;const p=a.value.clone(),y=l_(a.fieldTransforms,f,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof fo?(function(a,l,d,f){if(!Dd(a.precondition,l))return d;const p=l_(a.fieldTransforms,f,l),y=l.data;return y.setAll(_b(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(a,l,d){return Dd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(n,e,t)}function jj(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=gb(r.transform,s||null);a!=null&&(t===null&&(t=On.empty()),t.set(r.field,a))}return t||null}function o_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ka(r,s,((a,l)=>Dj(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wu extends kh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fo extends kh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _b(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function a_(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,Rj(l,d,t[s]))}return r}function l_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,Pj(a,l,e))}return r}class $g extends kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lj extends kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Mj(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pb();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=t.has(s.key)?null:d;const f=xb(l,d);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,((t,r)=>o_(t,r)))&&ka(this.baseMutations,e.baseMutations,((t,r)=>o_(t,r)))}}class Wg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return Ij})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Wg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Be;function Bj(n){switch(n){case Z.OK:return be(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return be(15467,{code:n})}}function Eb(n){if(n===void 0)return hi("GRPC error has no .code"),Z.UNKNOWN;switch(n){case It.OK:return Z.OK;case It.CANCELLED:return Z.CANCELLED;case It.UNKNOWN:return Z.UNKNOWN;case It.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case It.INTERNAL:return Z.INTERNAL;case It.UNAVAILABLE:return Z.UNAVAILABLE;case It.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case It.NOT_FOUND:return Z.NOT_FOUND;case It.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case It.ABORTED:return Z.ABORTED;case It.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case It.DATA_LOSS:return Z.DATA_LOSS;default:return be(39323,{code:n})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new is([4294967295,4294967295],0);function u_(n){const e=zj().encode(n),t=new LT;return t.update(e),new Uint8Array(t.digest())}function c_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new is([t,r],0),new is([s,a],0)]}class Gg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new tu(`Invalid padding: ${t}`);if(r<0)throw new tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new tu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=is.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(is.fromNumber(r)));return s.compare(Hj)===1&&(s=new is([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=u_(e),[r,s]=c_(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Gg(a,s,t);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const t=u_(e),[r,s]=c_(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ph(Ce.min(),s,new dt(Oe),fi(),Fe())}}class Gu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gu(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class Tb{constructor(e,t){this.targetId=e,this.Ce=t}}class bb{constructor(e,t,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class d_{constructor(){this.ve=0,this.Fe=h_(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),r=Fe();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:be(38017,{changeType:a})}})),new Gu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=h_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $j{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=wd(),this.He=wd(),this.Ye=new dt(Oe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(xm(a))if(r===0){const l=new ve(a.path);this.et(t,l,Zt.newNoDocument(l,Ce.min()))}else Ke(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const d=this.ut(e),f=d?this.ct(d,e,l):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,d;try{l=hs(r).toUint8Array()}catch(f){if(f instanceof QT)return Aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Gg(l,s,a)}catch(f){return Aa(f instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const d=this.ot(l);if(d){if(a.current&&xm(d.target)){const f=new ve(d.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Zt.newNoDocument(f,e))}a.Be&&(t.set(l,a.ke()),a.qe())}}));let r=Fe();this.He.forEach(((a,l)=>{let d=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Ph(e,t,this.Ye,this.je,r);return this.je=fi(),this.Je=wd(),this.He=wd(),this.Ye=new dt(Oe),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new d_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Rt(Oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Rt(Oe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wd(){return new dt(ve.comparator)}function h_(){return new dt(ve.comparator)}const Wj={asc:"ASCENDING",desc:"DESCENDING"},Gj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qj={and:"AND",or:"OR"};class Kj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Em(n,e){return n.useProto3Json||Th(e)?e:{value:e}}function sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ib(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Qj(n,e){return sh(n,e.toTimestamp())}function kr(n){return Ke(!!n,49232),Ce.fromTimestamp((function(t){const r=ds(t);return new it(r.seconds,r.nanos)})(n))}function qg(n,e){return Tm(n,e).canonicalString()}function Tm(n,e){const t=(function(s){return new Ze(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Sb(n){const e=Ze.fromString(n);return Ke(Rb(e),10190,{key:e.toString()}),e}function bm(n,e){return qg(n.databaseId,e.path)}function Vp(n,e){const t=Sb(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(Ab(t))}function Cb(n,e){return qg(n.databaseId,e)}function Yj(n){const e=Sb(n);return e.length===4?Ze.emptyPath():Ab(e)}function Im(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ab(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function f_(n,e,t){return{name:bm(n,e),fields:t.value.mapValue.fields}}function Xj(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,y){return p.useProto3Json?(Ke(y===void 0||typeof y=="string",58123),$t.fromBase64String(y||"")):(Ke(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),$t.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(p){const y=p.code===void 0?Z.UNKNOWN:Eb(p.code);return new ce(y,p.message||"")})(l);t=new bb(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vp(n,r.document.name),a=kr(r.document.updateTime),l=r.document.createTime?kr(r.document.createTime):Ce.min(),d=new On({mapValue:{fields:r.document.fields}}),f=Zt.newFoundDocument(s,a,l,d),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Vd(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vp(n,r.document),a=r.readTime?kr(r.readTime):Ce.min(),l=Zt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new Vd([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vp(n,r.document),a=r.removedTargetIds||[];t=new Vd([],a,s,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new Uj(s,a),d=r.targetId;t=new Tb(d,l)}}return t}function Jj(n,e){let t;if(e instanceof Wu)t={update:f_(n,e.key,e.value)};else if(e instanceof $g)t={delete:bm(n,e.key)};else if(e instanceof fo)t={update:f_(n,e.key,e.data),updateMask:a3(e.fieldMask)};else{if(!(e instanceof Lj))return be(16599,{Vt:e.type});t={verify:bm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof Cu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Au)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ku)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ih)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:Qj(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be(27497)})(n,e.precondition)),t}function Zj(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?kr(s.updateTime):kr(a);return l.isEqual(Ce.min())&&(l=kr(a)),new Vj(l,s.transformResults||[])})(t,e)))):[]}function e3(n,e){return{documents:[Cb(n,e.path)]}}function t3(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Cb(n,s);const a=(function(p){if(p.length!==0)return Pb(nr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:sa(E.field),direction:i3(E.dir)}})(y)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=Em(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function n3(n){let e=Yj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=(function(x){const E=kb(x);return E instanceof nr&&sb(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(x){return x.map((E=>(function(M){return new Su(oa(M.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(x){let E;return E=typeof x=="object"?x.value:x,Th(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(x){const E=!!x.before,A=x.values||[];return new nh(A,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(x){const E=!x.before,A=x.values||[];return new nh(A,E)})(t.endAt)),xj(e,s,l,a,d,"F",f,p)}function r3(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kb(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=oa(t.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=oa(t.unaryFilter.field);return Ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=oa(t.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=oa(t.unaryFilter.field);return Ct.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ct.create(oa(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return nr.create(t.compositeFilter.filters.map((r=>kb(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(t.compositeFilter.op))})(n):be(30097,{filter:n})}function i3(n){return Wj[n]}function s3(n){return Gj[n]}function o3(n){return qj[n]}function sa(n){return{fieldPath:n.canonicalString()}}function oa(n){return zt.fromServerFormat(n.fieldPath)}function Pb(n){return n instanceof Ct?(function(t){if(t.op==="=="){if(e_(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NAN"}};if(Zx(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(e_(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NOT_NAN"}};if(Zx(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(t.field),op:s3(t.op),value:t.value}}})(n):n instanceof nr?(function(t){const r=t.getFilters().map((s=>Pb(s)));return r.length===1?r[0]:{compositeFilter:{op:o3(t.op),filters:r}}})(n):be(54877,{filter:n})}function a3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Rb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,t,r,s,a=Ce.min(),l=Ce.min(),d=$t.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.yt=e}}function u3(n){const e=n3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.Cn=new d3}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(cs.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class d3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Rt(Ze.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Nb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Na(0)}static cr(){return new Na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",h3=1048576;function g_([n,e],[t,r]){const s=Oe(n,t);return s===0?Oe(e,r):s}class f3{constructor(e){this.Ir=e,this.buffer=new Rt(g_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();g_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class p3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(m_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$a(t)?he(m_,"Ignoring IndexedDB error during garbage collection: ",t):await Ha(t)}await this.Vr(3e5)}))}}class m3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Eh.ce);const r=new f3(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(p_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,l,d,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,l=Date.now(),this.nthSequenceNumber(e,s)))).next((x=>(r=x,d=Date.now(),this.removeTargets(e,r,t)))).next((x=>(a=x,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(p=Date.now(),ra()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${s} in `+(d-l)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${x} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:x}))))}}function g3(n,e){return new m3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.changes=new ho((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&hu(r.mutation,s,Zn.empty(),it.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Fe()){const s=Js();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=eu();return a.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Js();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Fe())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,d)=>{t.set(l,d)}))}))}computeViews(e,t,r,s){let a=fi();const l=du(),d=(function(){return du()})();return t.forEach(((f,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof fo)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),hu(y.mutation,p,y.mutation.getFieldMask(),it.now())):l.set(p.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,y)=>l.set(p,y))),t.forEach(((p,y)=>d.set(p,new v3(y,l.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=du();let s=new dt(((l,d)=>l-d)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const d of l)d.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||Zn.empty();y=d.applyToLocalView(p,y),r.set(f,y);const x=(s.get(d.batchId)||Fe()).add(f);s=s.insert(d.batchId,x)}))})).next((()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,y=f.value,x=pb();y.forEach((E=>{if(!a.has(E)){const A=xb(t.get(E),r.get(E));A!==null&&x.set(E,A),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,x))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ub(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):te.resolve(Js());let d=Eu,f=a;return l.next((p=>te.forEach(p,((y,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),a.get(y)?te.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Fe()))).next((y=>({batchId:d,changes:fb(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((r=>{let s=eu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=eu();return this.indexManager.getCollectionParents(e,a).next((d=>te.forEach(d,(f=>{const p=(function(x,E){return new Wa(E,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((y=>{y.forEach(((x,E)=>{l=l.insert(x,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((f,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,Zt.newInvalidDocument(y)))}));let d=eu();return l.forEach(((f,p)=>{const y=a.get(f);y!==void 0&&hu(y.mutation,p,Zn.empty(),it.now()),Ch(t,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:kr(s.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:u3(s.bundledQuery),readTime:kr(s.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.overlays=new dt(ve.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Js();return te.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.St(e,t,a)})),te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const s=Js(),a=t.length+1,l=new ve(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new dt(((p,y)=>p-y));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Js(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Js(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=s)););return te.resolve(d)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Fj(t,r));let a=this.qr.get(t);a===void 0&&(a=Fe(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.Qr=new Rt(Mt.$r),this.Ur=new Rt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Mt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Mt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ve(new Ze([])),r=new Mt(t,e),s=new Mt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new Ze([])),r=new Mt(t,e),s=new Mt(t,e+1);let a=Fe();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new Mt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Oe(e.Yr,t.Yr)}static Kr(e,t){return Oe(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(Mt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Oj(a,t,r,s);this.mutationQueue.push(l);for(const d of s)this.Zr=this.Zr.add(new Mt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Og:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mt(t,0),s=new Mt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const d=this.Xr(l.Yr);a.push(d)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(Oe);return t.forEach((s=>{const a=new Mt(s,0),l=new Mt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(d=>{r=r.add(d.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const l=new Mt(new ve(a),0);let d=new Rt(Oe);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.Yr)),!0)}),l),te.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(t.mutations,(s=>{const a=new Mt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Mt(t,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.ri=e,this.docs=(function(){return new dt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let r=fi();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Zt.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=fi();const l=t.path,d=new ve(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||J4(X4(y),r)<=0||(s.has(y.key)||Ch(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,s){be(9500)}ii(e,t){return te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new I3(this)}getSize(e){return te.resolve(this.size)}}class I3 extends y3{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.persistence=e,this.si=new ho((t=>Bg(t)),zg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Kg,this.targetCount=0,this.ai=Na.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Na(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),te.waitFor(a).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new E3,this.referenceDelegate=e(this),this.Pi=new S3(this),this.indexManager=new c3,this.remoteDocumentCache=(function(s){return new b3(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new l3(t),this.Ii=new x3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new T3(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const s=new C3(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class C3 extends ej{constructor(e){super(),this.currentSequenceNumber=e}}class Qg{constructor(e){this.persistence=e,this.Ri=new Kg,this.Vi=null}static mi(e){return new Qg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const s=ve.fromPath(r);return this.gi(e,s).next((a=>{a||t.removeEntry(s,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class oh{constructor(e,t){this.persistence=e,this.pi=new ho((r=>rj(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=g3(this,t)}static mi(e,t){return new oh(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?te.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((d=>{d||(r++,a.removeEntry(l,Ce.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rd(e.data.value)),t}br(e,t,r){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Fe(),s=Fe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Yg(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rD()?8:tj(tn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new A3;return this.Ss(e,t,l).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,l,d.size)}))})).next((()=>a.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(ra()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ia(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(ra()<=Le.DEBUG&&he("QueryEngine","Query:",ia(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ra()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ia(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):te.resolve())}ys(e,t){if(i_(t))return te.resolve(null);let r=Ar(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=rh(t,null,"F"),r=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Fe(...a);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,d);return this.Cs(t,p,l,f.readTime)?this.ys(e,rh(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,s){return i_(t)||s.isEqual(Ce.min())?te.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,s)?te.resolve(null):(ra()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ia(t)),this.vs(e,l,t,Y4(s,Eu)).next((d=>d)))}))}Ds(e,t){let r=new Rt(db(e));return t.forEach(((s,a)=>{Ch(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return ra()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ia(t)),this.ps.getDocumentsMatchingQuery(e,t,cs.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="LocalStore",P3=3e8;class R3{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new dt(Oe),this.xs=new ho((a=>Bg(a)),zg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function N3(n,e,t,r){return new R3(n,e,t,r)}async function Vb(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let f=Fe();for(const p of s){l.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){d.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:d})))}))}))}function D3(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,y){const x=p.batch,E=x.keys();let A=te.resolve();return E.forEach((M=>{A=A.next((()=>y.getEntry(f,M))).next((R=>{const I=p.docVersions.get(M);Ke(I!==null,48541),R.version.compareTo(I)<0&&(x.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),y.addEntry(R)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(f,x)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Fe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function Mb(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function V3(n,e){const t=ke(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((y,x)=>{const E=s.get(x);if(!E)return;d.push(t.Pi.removeMatchingKeys(a,y.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(a,y.addedDocuments,x))));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?A=A.withResumeToken($t.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),s=s.insert(x,A),(function(R,I,j){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=P3?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(E,A,y)&&d.push(t.Pi.updateTargetData(a,A))}));let f=fi(),p=Fe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))})),d.push(M3(a,l,e.documentUpdates).next((y=>{f=y.ks,p=y.qs}))),!r.isEqual(Ce.min())){const y=t.Pi.getLastRemoteSnapshotVersion(a).next((x=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(y)}return te.waitFor(d).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.Ms=s,a)))}function M3(n,e,t){let r=Fe(),s=Fe();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=fi();return t.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ce.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):he(Xg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:s}}))}function j3(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Og),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function L3(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((a=>a?(s=a,te.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new es(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Sm(n,e,t){const r=ke(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!$a(l))throw l;he(Xg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function y_(n,e,t){const r=ke(n);let s=Ce.min(),a=Fe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,y){const x=ke(f),E=x.xs.get(y);return E!==void 0?te.resolve(x.Ms.get(E)):x.Pi.getTargetData(p,y)})(r,l,Ar(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:Ce.min(),t?a:Fe()))).next((d=>(O3(r,Ej(e),d),{documents:d,Qs:a})))))}function O3(n,e,t){let r=n.Os.get(e)||Ce.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class v_{constructor(){this.activeTargetIds=Aj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F3{constructor(){this.Mo=new v_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="ConnectivityMonitor";class x_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(w_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(w_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd=null;function Cm(){return xd===null?xd=(function(){return 268435456+Math.round(2147483648*Math.random())})():xd++,"0x"+xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="RestConnection",B3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===eh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const l=Cm(),d=this.zo(e,t.toUriEncodedString());he(Mp,`Sending RPC '${e}' ${l}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(d),y=Fa(p);return this.Jo(e,d,f,r,y).then((x=>(he(Mp,`Received RPC '${e}' ${l}: `,x),x)),(x=>{throw Aa(Mp,`RPC '${e}' ${l} failed with error: `,x,"url: ",d,"request:",r),x}))}Ho(e,t,r,s,a,l){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+za})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const r=B3[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class $3 extends z3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const l=Cm();return new Promise(((d,f)=>{const p=new OT;p.setWithCredentials(!0),p.listenOnce(FT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Pd.NO_ERROR:const x=p.getResponseJson();he(Yt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),d(x);break;case Pd.TIMEOUT:he(Yt,`RPC '${e}' ${l} timed out`),f(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pd.HTTP_ERROR:const E=p.getStatus();if(he(Yt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A?.error;if(M&&M.status&&M.message){const R=(function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(U)>=0?U:Z.UNKNOWN})(M.status);f(new ce(R,M.message))}else f(new ce(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(Yt,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(s);he(Yt,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",y,r,15)}))}T_(e,t,r){const s=Cm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zT(),d=BT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=a.join("");he(Yt,`Creating RPC '${e}' stream ${s}: ${y}`,f);const x=l.createWebChannel(y,f);this.I_(x);let E=!1,A=!1;const M=new H3({Yo:I=>{A?he(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(E||(he(Yt,`Opening RPC '${e}' stream ${s} transport.`),x.open(),E=!0),he(Yt,`RPC '${e}' stream ${s} sending:`,I),x.send(I))},Zo:()=>x.close()}),R=(I,j,U)=>{I.listen(j,(q=>{try{U(q)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return R(x,Zl.EventType.OPEN,(()=>{A||(he(Yt,`RPC '${e}' stream ${s} transport opened.`),M.o_())})),R(x,Zl.EventType.CLOSE,(()=>{A||(A=!0,he(Yt,`RPC '${e}' stream ${s} transport closed`),M.a_(),this.E_(x))})),R(x,Zl.EventType.ERROR,(I=>{A||(A=!0,Aa(Yt,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),M.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),R(x,Zl.EventType.MESSAGE,(I=>{if(!A){const j=I.data[0];Ke(!!j,16349);const U=j,q=U?.error||U[0]?.error;if(q){he(Yt,`RPC '${e}' stream ${s} received error:`,q);const ee=q.status;let ne=(function(b){const S=It[b];if(S!==void 0)return Eb(S)})(ee),le=q.message;ne===void 0&&(ne=Z.INTERNAL,le="Unknown error status: "+ee+" with message "+q.message),A=!0,M.a_(new ce(ne,le)),x.close()}else he(Yt,`RPC '${e}' stream ${s} received:`,j),M.u_(j)}})),R(d,UT.STAT_EVENT,(I=>{I.stat===mm.PROXY?he(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===mm.NOPROXY&&he(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n){return new Kj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="PersistentStream";class Lb{constructor(e,t,r,s,a,l,d,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(__,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(__,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class W3 extends Lb{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Xj(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ce.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?kr(l.readTime):Ce.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Im(this.serializer),t.addTarget=(function(a,l){let d;const f=l.target;if(d=xm(f)?{documents:e3(a,f)}:{query:t3(a,f).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=Ib(a,l.resumeToken);const p=Em(a,l.expectedCount);p!==null&&(d.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){d.readTime=sh(a,l.snapshotVersion.toTimestamp());const p=Em(a,l.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=r3(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Im(this.serializer),t.removeTarget=e,this.q_(t)}}class G3 extends Lb{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Zj(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Im(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Jj(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{}class K3 extends q3{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Tm(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(Z.UNKNOWN,a.toString())}))}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,Tm(t,r),s,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(Z.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="RemoteStore";class Y3{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{po(this)&&(he(oo,"Restarting streams for network reachability change."),await(async function(f){const p=ke(f);p.Ea.add(4),await qu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nh(p)})(this))}))})),this.Ra=new Q3(r,s)}}async function Nh(n){if(po(n))for(const e of n.da)await e(!0)}async function qu(n){for(const e of n.da)await e(!1)}function Ob(n,e){const t=ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ty(t)?ey(t):Ga(t).O_()&&Zg(t,e))}function Jg(n,e){const t=ke(n),r=Ga(t);t.Ia.delete(e),r.O_()&&Fb(t,e),t.Ia.size===0&&(r.O_()?r.L_():po(t)&&t.Ra.set("Unknown"))}function Zg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ga(n).Y_(e)}function Fb(n,e){n.Va.Ue(e),Ga(n).Z_(e)}function ey(n){n.Va=new $j({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ga(n).start(),n.Ra.ua()}function ty(n){return po(n)&&!Ga(n).x_()&&n.Ia.size>0}function po(n){return ke(n).Ea.size===0}function Ub(n){n.Va=void 0}async function X3(n){n.Ra.set("Online")}async function J3(n){n.Ia.forEach(((e,t)=>{Zg(n,e)}))}async function Z3(n,e){Ub(n),ty(n)?(n.Ra.ha(e),ey(n)):n.Ra.set("Unknown")}async function e5(n,e,t){if(n.Ra.set("Online"),e instanceof bb&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.Ia.delete(d),s.Va.removeTarget(d))})(n,e)}catch(r){he(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(n,r)}else if(e instanceof Vd?n.Va.Ze(e):e instanceof Tb?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const r=await Mb(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const d=a.Va.Tt(l);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(p);y&&a.Ia.set(p,y.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,p)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken($t.EMPTY_BYTE_STRING,y.snapshotVersion)),Fb(a,f);const x=new es(y.target,f,p,y.sequenceNumber);Zg(a,x)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){he(oo,"Failed to raise snapshot:",r),await ah(n,r)}}async function ah(n,e,t){if(!$a(e))throw e;n.Ea.add(1),await qu(n),n.Ra.set("Offline"),t||(t=()=>Mb(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(oo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Nh(n)}))}function Bb(n,e){return e().catch((t=>ah(n,t,e)))}async function Dh(n){const e=ke(n),t=ps(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Og;for(;t5(e);)try{const s=await j3(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,n5(e,s)}catch(s){await ah(e,s)}zb(e)&&Hb(e)}function t5(n){return po(n)&&n.Ta.length<10}function n5(n,e){n.Ta.push(e);const t=ps(n);t.O_()&&t.X_&&t.ea(e.mutations)}function zb(n){return po(n)&&!ps(n).x_()&&n.Ta.length>0}function Hb(n){ps(n).start()}async function r5(n){ps(n).ra()}async function i5(n){const e=ps(n);for(const t of n.Ta)e.ea(t.mutations)}async function s5(n,e,t){const r=n.Ta.shift(),s=Wg.from(r,e,t);await Bb(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Dh(n)}async function o5(n,e){e&&ps(n).X_&&await(async function(r,s){if((function(l){return Bj(l)&&l!==Z.ABORTED})(s.code)){const a=r.Ta.shift();ps(r).B_(),await Bb(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Dh(r)}})(n,e),zb(n)&&Hb(n)}async function E_(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),he(oo,"RemoteStore received new credentials");const r=po(t);t.Ea.add(3),await qu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Nh(t)}async function a5(n,e){const t=ke(n);e?(t.Ea.delete(2),await Nh(t)):e||(t.Ea.add(2),await qu(t),t.Ra.set("Unknown"))}function Ga(n){return n.ma||(n.ma=(function(t,r,s){const a=ke(t);return a.sa(),new W3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:X3.bind(null,n),t_:J3.bind(null,n),r_:Z3.bind(null,n),H_:e5.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),ty(n)?ey(n):n.Ra.set("Unknown")):(await n.ma.stop(),Ub(n))}))),n.ma}function ps(n){return n.fa||(n.fa=(function(t,r,s){const a=ke(t);return a.sa(),new G3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:r5.bind(null,n),r_:o5.bind(null,n),ta:i5.bind(null,n),na:s5.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Dh(n)):(await n.fa.stop(),n.Ta.length>0&&(he(oo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,d=new ny(e,t,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(n,e){if(hi("AsyncQueue",`${e}: ${n}`),$a(n))return new ce(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=eu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.ga=new dt(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Da{constructor(e,t,r,s,a,l,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((d=>{l.push({type:0,doc:d})})),new Da(e,t,va.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class u5{constructor(){this.queries=b_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=ke(t),a=s.queries;s.queries=b_(),a.forEach(((l,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function b_(){return new ho((n=>cb(n)),Sh)}async function $b(n,e){const t=ke(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new l5,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const d=ry(l,`Initialization of query '${ia(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&iy(t)}async function Wb(n,e){const t=ke(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function c5(n,e){const t=ke(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const d of l.Sa)d.Fa(s)&&(r=!0);l.wa=s}}r&&iy(t)}function d5(n,e,t){const r=ke(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function iy(n){n.Ca.forEach((e=>{e.next()}))}var Am,I_;(I_=Am||(Am={})).Ma="default",I_.Cache="cache";class Gb{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.key=e}}class Kb{constructor(e){this.key=e}}class h5{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=db(e),this.tu=new va(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new T_,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,x)=>{const E=s.get(y),A=Ch(this.query,x)?x:null,M=!!E&&this.mutatedKeys.has(E.key),R=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;E&&A?E.data.isEqual(A.data)?M!==R&&(r.track({type:3,doc:A}),I=!0):this.su(E,A)||(r.track({type:2,doc:A}),I=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(d=!0)):!E&&A?(r.track({type:0,doc:A}),I=!0):E&&!A&&(r.track({type:1,doc:E}),I=!0,(f||p)&&(d=!0)),I&&(A?(l=l.add(A),a=R?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((y,x)=>(function(A,M){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:I})}};return R(A)-R(M)})(y.type,x.type)||this.eu(y.doc,x.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new Da(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Kb(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new qb(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Da.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sy="SyncEngine";class f5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class p5{constructor(e){this.key=e,this.hu=!1}}class m5{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ho((d=>cb(d)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ve.comparator),this.Au=new Map,this.Ru=new Kg,this.Vu={},this.mu=new Map,this.fu=Na.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g5(n,e,t=!0){const r=eI(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await Qb(r,e,t,!0),s}async function y5(n,e){const t=eI(n);await Qb(t,e,!0,!1)}async function Qb(n,e,t,r){const s=await L3(n.localStore,Ar(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await v5(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&Ob(n.remoteStore,s),d}async function v5(n,e,t,r,s){n.pu=(x,E,A)=>(async function(R,I,j,U){let q=I.view.ru(j);q.Cs&&(q=await y_(R.localStore,I.query,!1).then((({documents:k})=>I.view.ru(k,q))));const ee=U&&U.targetChanges.get(I.targetId),ne=U&&U.targetMismatches.get(I.targetId)!=null,le=I.view.applyChanges(q,R.isPrimaryClient,ee,ne);return C_(R,I.targetId,le.au),le.snapshot})(n,x,E,A);const a=await y_(n.localStore,e,!0),l=new h5(e,a.Qs),d=l.ru(a.documents),f=Gu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(d,n.isPrimaryClient,f);C_(n,t,p.au);const y=new f5(e,t,l);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function w5(n,e,t){const r=ke(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Sh(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Sm(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Jg(r.remoteStore,s.targetId),km(r,s.targetId)})).catch(Ha)):(km(r,s.targetId),await Sm(r.localStore,s.targetId,!0))}async function x5(n,e){const t=ke(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Jg(t.remoteStore,r.targetId))}async function _5(n,e,t){const r=A5(n);try{const s=await(function(l,d){const f=ke(l),p=it.now(),y=d.reduce(((A,M)=>A.add(M.key)),Fe());let x,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=fi(),R=Fe();return f.Ns.getEntries(A,y).next((I=>{M=I,M.forEach(((j,U)=>{U.isValidDocument()||(R=R.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,M))).next((I=>{x=I;const j=[];for(const U of d){const q=jj(U,x.get(U.key).overlayedDocument);q!=null&&j.push(new fo(U.key,q,nb(q.value.mapValue),er.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,j,d)})).next((I=>{E=I;const j=I.applyToLocalDocumentSet(x,R);return f.documentOverlayCache.saveOverlays(A,I.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:fb(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,d,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new dt(Oe)),p=p.insert(d,f),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,t),await Ku(r,s.changes),await Dh(r.remoteStore)}catch(s){const a=ry(s,"Failed to persist write");t.reject(a)}}async function Yb(n,e){const t=ke(n);try{const r=await V3(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ke(l.hu,14607):s.removedDocuments.size>0&&(Ke(l.hu,42227),l.hu=!1))})),await Ku(t,r,e)}catch(r){await Ha(r)}}function S_(n,e,t){const r=ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,l)=>{const d=l.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(l,d){const f=ke(l);f.onlineState=d;let p=!1;f.queries.forEach(((y,x)=>{for(const E of x.Sa)E.va(d)&&(p=!0)})),p&&iy(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E5(n,e,t){const r=ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new dt(ve.comparator);l=l.insert(a,Zt.newNoDocument(a,Ce.min()));const d=Fe().add(a),f=new Ph(Ce.min(),new Map,new dt(Oe),l,d);await Yb(r,f),r.du=r.du.remove(a),r.Au.delete(e),oy(r)}else await Sm(r.localStore,e,!1).then((()=>km(r,e,t))).catch(Ha)}async function T5(n,e){const t=ke(n),r=e.batch.batchId;try{const s=await D3(t.localStore,e);Jb(t,r,null),Xb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ku(t,s)}catch(s){await Ha(s)}}async function b5(n,e,t){const r=ke(n);try{const s=await(function(l,d){const f=ke(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,d).next((x=>(Ke(x!==null,37113),y=x.keys(),f.mutationQueue.removeMutationBatch(p,x)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);Jb(r,e,t),Xb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ku(r,s)}catch(s){await Ha(s)}}function Xb(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Jb(n,e,t){const r=ke(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function km(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Zb(n,r)}))}function Zb(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Jg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),oy(n))}function C_(n,e,t){for(const r of t)r instanceof qb?(n.Ru.addReference(r.key,e),I5(n,r)):r instanceof Kb?(he(sy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Zb(n,r.key)):be(19791,{wu:r})}function I5(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(he(sy,"New document in limbo: "+t),n.Eu.add(r),oy(n))}function oy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(Ze.fromString(e)),r=n.fu.next();n.Au.set(r,new p5(t)),n.du=n.du.insert(t,r),Ob(n.remoteStore,new es(Ar(Ih(t.path)),r,"TargetPurposeLimboResolution",Eh.ce))}}async function Ku(n,e,t){const r=ke(n),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{l.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){s.push(p);const y=Yg.As(f.targetId,p);a.push(y)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(f,p){const y=ke(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>te.forEach(p,(E=>te.forEach(E.Es,(A=>y.persistence.referenceDelegate.addReference(x,E.targetId,A))).next((()=>te.forEach(E.ds,(A=>y.persistence.referenceDelegate.removeReference(x,E.targetId,A)))))))))}catch(x){if(!$a(x))throw x;he(Xg,"Failed to update sequence numbers: "+x)}for(const x of p){const E=x.targetId;if(!x.fromCache){const A=y.Ms.get(E),M=A.snapshotVersion,R=A.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(E,R)}}})(r.localStore,a))}async function S5(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){he(sy,"User change. New user:",e.toKey());const r=await Vb(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new ce(Z.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ku(t,r.Ls)}}function C5(n,e){const t=ke(n),r=t.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let s=Fe();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const d=t.Tu.get(l);s=s.unionWith(d.view.nu)}return s}}function eI(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E5.bind(null,e),e.Pu.H_=c5.bind(null,e.eventManager),e.Pu.yu=d5.bind(null,e.eventManager),e}function A5(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b5.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return N3(this.persistence,new k3,e.initialUser,this.serializer)}Cu(e){return new Db(Qg.mi,this.serializer)}Du(e){return new F3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class k5 extends lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new p3(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Db((r=>oh.mi(r,t)),this.serializer)}}class Pm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S5.bind(null,this.syncEngine),await a5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new u5})()}createDatastore(e){const t=Rh(e.databaseInfo.databaseId),r=(function(a){return new $3(a)})(e.databaseInfo);return(function(a,l,d,f){return new K3(a,l,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,d){return new Y3(r,s,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>S_(this.syncEngine,t,0)),(function(){return x_.v()?new x_:new U3})())}createSyncEngine(e,t){return(function(s,a,l,d,f,p,y){const x=new m5(s,a,l,d,f,p);return y&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ke(t);he(oo,"RemoteStore shutting down."),r.Ea.add(5),await qu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class P5{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=Lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{he(ms,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(ms,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ry(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lp(n,e){n.asyncQueue.verifyOperationInProgress(),he(ms,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Vb(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function A_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await R5(n);he(ms,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>E_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>E_(e.remoteStore,s))),n._onlineComponents=e}async function R5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(ms,"Using user provided OfflineComponentProvider");try{await Lp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Aa("Error using user provided cache. Falling back to memory cache: "+t),await Lp(n,new lh)}}else he(ms,"Using default OfflineComponentProvider"),await Lp(n,new k5(void 0));return n._offlineComponents}async function nI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(ms,"Using user provided OnlineComponentProvider"),await A_(n,n._uninitializedComponentsProvider._online)):(he(ms,"Using default OnlineComponentProvider"),await A_(n,new Pm))),n._onlineComponents}function N5(n){return nI(n).then((e=>e.syncEngine))}async function Rm(n){const e=await nI(n),t=e.eventManager;return t.onListen=g5.bind(null,e.syncEngine),t.onUnlisten=w5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=y5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=x5.bind(null,e.syncEngine),t}function D5(n,e,t={}){const r=new ss;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,p){const y=new tI({next:E=>{y.Nu(),l.enqueueAndForget((()=>Wb(a,x)));const A=E.docs.has(d);!A&&E.fromCache?p.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?p.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),x=new Gb(Ih(d.path),y,{includeMetadataChanges:!0,qa:!0});return $b(a,x)})(await Rm(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="firestore.googleapis.com",P_=!0;class R_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iI,this.ssl=P_}else this.host=e.host,this.ssl=e.ssl??P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h3)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new F4;switch(r.type){case"firstParty":return new H4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=k_.get(t);r&&(he("ComponentProvider","Removing Datastore"),k_.delete(t),r.terminate())})(this),Promise.resolve()}}function V5(n,e,t,r={}){n=Cr(n,Vh);const s=Fa(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(YE(`https://${d}`),XE("Firestore",!0)),a.host!==iI&&a.host!==d&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:s,emulatorOptions:r};if(!no(f,l)&&(n._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Jt.MOCK_USER;else{p=KN(r.mockUserToken,n._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Jt(x)}n._authCredentials=new U4(new $T(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class _t{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if($u(t,_t._jsonSchema))return new _t(e,r||null,new ve(Ze.fromString(t.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:At("string",_t._jsonSchemaVersion),referencePath:At("string")};class os extends ws{constructor(e,t,r){super(e,t,Ih(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new ve(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function on(n,e,...t){if(n=Ht(n),WT("collection","path",e),n instanceof Vh){const r=Ze.fromString(e,...t);return $x(r),new os(n,null,r)}{if(!(n instanceof _t||n instanceof os))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return $x(r),new os(n.firestore,null,r)}}function as(n,e,...t){if(n=Ht(n),arguments.length===1&&(e=Lg.newId()),WT("doc","path",e),n instanceof Vh){const r=Ze.fromString(e,...t);return Hx(r),new _t(n,null,new ve(r))}{if(!(n instanceof _t||n instanceof os))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return Hx(r),new _t(n.firestore,n instanceof os?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="AsyncQueue";class D_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jb(this,"async_queue_retry"),this._c=()=>{const r=jp();r&&he(N_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=jp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$a(e))throw e;he(N_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",V_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=ny.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&be(47125,{Pc:V_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function V_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(n,["next","error","complete"])}class ao extends Vh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new D_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D_(e),this._firestoreClient=void 0,await e}}}function M5(n,e){const t=typeof n=="object"?n:Cg(),r=typeof n=="string"?n:eh,s=Ig(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=GN("firestore");a&&V5(s,...a)}return s}function ay(n){if(n._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||j5(n),n._firestoreClient}function j5(n){const e=n._freezeSettings(),t=(function(s,a,l,d){return new oj(s,a,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,rI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new P5(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn($t.fromBase64String(e))}catch(t){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($u(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:At("string",Fn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if($u(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:At("string",Pr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($u(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Rr(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:At("string",Rr._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=/^__.*__$/;class O5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wu(e,this.data,t,this.fieldTransforms)}}function sI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:n})}}class cy{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sI(this.Ac)&&L5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class F5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rh(e)}Cc(e,t,r,s=!1){return new cy({Ac:e,methodName:t,Dc:r,path:zt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dy(n){const e=n._freezeSettings(),t=Rh(n._databaseId);return new F5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oI(n,e,t,r,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);uI("Data must be an object, but it was:",l,r);const d=aI(r,l);let f,p;if(a.merge)f=new Zn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const x of a.mergeFields){const E=B5(e,x,t);if(!l.contains(E))throw new ce(Z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);H5(y,E)||y.push(E)}f=new Zn(y),p=l.fieldTransforms.filter((x=>f.covers(x.field)))}else f=null,p=l.fieldTransforms;return new O5(new On(d),f,p)}class hy extends uy{_toFieldTransform(e){return new Nj(e.path,new Cu)}isEqual(e){return e instanceof hy}}function U5(n,e,t,r=!1){return fy(t,n.Cc(r?4:3,e))}function fy(n,e){if(lI(n=Ht(n)))return uI("Unsupported field value:",e,n),aI(n,e);if(n instanceof uy)return(function(r,s){if(!sI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const d of r){let f=fy(d,s.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=it.fromDate(r);return{timestampValue:sh(s.serializer,a)}}if(r instanceof it){const a=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(s.serializer,a)}}if(r instanceof Pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:Ib(s.serializer,r._byteString)};if(r instanceof _t){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rr)return(function(l,d){return{mapValue:{fields:{[eb]:{stringValue:tb},[th]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Hg(d.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${_h(r)}`)})(n,e)}function aI(n,e){const t={};return KT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(n,((r,s)=>{const a=fy(s,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function lI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof Pr||n instanceof Fn||n instanceof _t||n instanceof uy||n instanceof Rr)}function uI(n,e,t){if(!lI(t)||!GT(t)){const r=_h(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function B5(n,e,t){if((e=Ht(e))instanceof ly)return e._internalPath;if(typeof e=="string")return cI(n,e);throw uh("Field path arguments must be of type string or ",n,!1,void 0,t)}const z5=new RegExp("[~\\*/\\[\\]]");function cI(n,e,t){if(e.search(z5)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ly(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uh(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new ce(Z.INVALID_ARGUMENT,d+n+f)}function H5(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(py("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $5 extends dI{data(){return super.data()}}function py(n,e){return typeof e=="string"?cI(n,e):e instanceof ly?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class my{}class gy extends my{}function Nm(n,e,...t){let r=[];e instanceof my&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((f=>f instanceof vy)).length,d=a.filter((f=>f instanceof yy)).length;if(l>1||l>0&&d>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class yy extends gy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new yy(e,t,r)}_apply(e){const t=this._parse(e);return hI(e._query,t),new ws(e.firestore,e.converter,_m(e._query,t))}_parse(e){const t=dy(e.firestore);return(function(a,l,d,f,p,y,x){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){L_(x,y);const M=[];for(const R of x)M.push(j_(f,a,R));E={arrayValue:{values:M}}}else E=j_(f,a,x)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||L_(x,y),E=U5(d,l,x,y==="in"||y==="not-in");return Ct.create(p,y,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class vy extends my{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const d=a.getFlattenedFilters();for(const f of d)hI(l,f),l=_m(l,f)})(e._query,t),new ws(e.firestore,e.converter,_m(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wy extends gy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wy(e,t)}_apply(e){const t=(function(s,a,l){if(s.startAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(a,l)})(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new Wa(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function Dm(n,e="asc"){const t=e,r=py("orderBy",n);return wy._create(r,t)}class xy extends gy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new xy(e,t,r)}_apply(e){return new ws(e.firestore,e.converter,rh(e._query,this._limit,this._limitType))}}function G5(n){return xy._create("limit",n,"F")}function j_(n,e,t){if(typeof(t=Ht(t))=="string"){if(t==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ub(e)&&t.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ze.fromString(t));if(!ve.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jx(n,new ve(r))}if(t instanceof _t)return Jx(n,t._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(t)}.`)}function L_(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hI(n,e){const t=(function(s,a){for(const l of s)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class q5{convertValue(e,t="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return co(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[th].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new Rr(t)}convertGeoPoint(e){return new Pr(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const t=ds(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);Ke(Rb(r),9688,{name:e});const s=new bu(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return s.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends dI{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=eo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:At("string",eo._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Md extends eo{data(e={}){return super.data(e)}}class wa{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new nu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Md(this._firestore,this._userDataWriter,r.key,r,new nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((d=>{const f=new Md(s._firestore,s._userDataWriter,d.doc.key,d.doc,new nu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Md(s._firestore,s._userDataWriter,d.doc.key,d.doc,new nu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return d.type!==0&&(p=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),y=l.indexOf(d.doc.key)),{type:K5(d.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function K5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(n){n=Cr(n,_t);const e=Cr(n.firestore,ao);return D5(ay(e),n._key).then((t=>yI(e,n,t)))}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:At("string",wa._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class mI extends q5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}}function xa(n,e,t){n=Cr(n,_t);const r=Cr(n.firestore,ao),s=fI(n.converter,e,t);return _y(r,[oI(dy(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,er.none())])}function gI(n){return _y(Cr(n.firestore,ao),[new $g(n._key,er.none())])}function _a(n,e){const t=Cr(n.firestore,ao),r=as(n),s=fI(n.converter,e);return _y(t,[oI(dy(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then((()=>r))}function ti(n,...e){n=Ht(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||M_(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(M_(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,l,d;if(n instanceof _t)l=Cr(n.firestore,ao),d=Ih(n._key.path),a={next:f=>{e[r]&&e[r](yI(l,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Cr(n,ws);l=Cr(f.firestore,ao),d=f._query;const p=new mI(l);a={next:y=>{e[r]&&e[r](new wa(l,p,f,y))},error:e[r+1],complete:e[r+2]},W5(n._query)}return(function(p,y,x,E){const A=new tI(E),M=new Gb(y,A,x);return p.asyncQueue.enqueueAndForget((async()=>$b(await Rm(p),M))),()=>{A.Nu(),p.asyncQueue.enqueueAndForget((async()=>Wb(await Rm(p),M)))}})(ay(l),d,s,a)}function _y(n,e){return(function(r,s){const a=new ss;return r.asyncQueue.enqueueAndForget((async()=>_5(await N5(r),s,a))),a.promise})(ay(n),e)}function yI(n,e,t){const r=t.docs.get(e._key),s=new mI(n);return new eo(n,s,e._key,r,new nu(t.hasPendingWrites,t.fromCache),e.converter)}function fa(){return new hy("serverTimestamp")}(function(e,t=!0){(function(s){za=s})(Ua),Sa(new ro("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new ao(new B4(r.getProvider("auth-internal")),new $4(l,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(p.options.projectId,y)})(l,s),l);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),rs(Fx,Ux,e),rs(Fx,Ux,"esm2020")})();const Pu={apiKey:"AIzaSyCVYvDv8DxR8xT-bwA3Ex30JDv4S8hxuqg",authDomain:"neura-85f84.firebaseapp.com",projectId:"neura-85f84",storageBucket:"neura-85f84.firebasestorage.app",messagingSenderId:"792991317237",appId:"1:792991317237:web:0f5f3106a4e91cb00699bc"};Sg(Pu);const Q5=Object.freeze(Object.defineProperty({__proto__:null,default:Pu,firebaseConfig:Pu},Symbol.toStringTag,{value:"Module"})),Y5=Pu??Pu??Q5,vI=dV().length?Cg():Sg(Y5),Un=M4(vI),Ln=M5(vI),wI=L.createContext(void 0);function X5({children:n}){const[e,t]=L.useState(null),[r,s]=L.useState(!0);L.useEffect(()=>Yd(Un,d=>{t(d),s(!1)}),[]);const a=L.useMemo(()=>({user:e,loading:r,async signIn(l,d){await wM(Un,l,d)},async signUp(l,d){const f=await vM(Un,l,d);try{await _M(f.user,{displayName:l.split("@")[0]})}catch{}await xa(as(Ln,"users",f.user.uid),{uid:f.user.uid,email:l,displayName:f.user.displayName??l.split("@")[0],createdAt:fa()},{merge:!0})},async signOut(){await bM(Un)}}),[e,r]);return g.jsx(wI.Provider,{value:a,children:n})}function Ey(){const n=L.useContext(wI);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}function J5(){const{user:n,loading:e,signOut:t}=Ey();if(e)return null;if(n){const r=n.displayName||n.email||"User";return g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[g.jsxs("span",{style:{fontSize:14},children:["Hi, ",r]}),g.jsx("button",{onClick:t,style:t6,children:"Sign out"})]})}return g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[g.jsx(St,{to:"/login",style:Z5,children:"Login"}),g.jsx(St,{to:"/signup",style:e6,children:"Sign up"})]})}const Z5={color:"#1f2937",textDecoration:"none",fontWeight:500},e6={background:"#3b82f6",color:"#fff",padding:"8px 12px",borderRadius:8,textDecoration:"none",fontWeight:600},t6={background:"#e5e7eb",color:"#111827",padding:"6px 10px",borderRadius:8,border:0,fontWeight:600,cursor:"pointer"};function n6(){const[n,e]=L.useState(!1),t=[{name:"Home",href:"#home"},{name:"Features",href:"#features"},{name:"Shop",href:"/shop"},{name:"Mindfulness",href:"#mindfulness"},{name:"Games",href:"#games"},{name:"Support",href:"#support"},{name:"About",href:"#about"},{name:"Research",href:"#research"}];return g.jsx(re.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-xl border-b border-purple-100 shadow-sm",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs(re.a,{href:"#home",className:"flex items-center gap-2 group",whileHover:{scale:1.05},whileTap:{scale:.95},children:[g.jsx(re.div,{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 via-pink-500 to-blue-500 flex items-center justify-center shadow-lg",animate:{boxShadow:["0 0 20px rgba(168, 85, 247, 0.4)","0 0 30px rgba(168, 85, 247, 0.6)","0 0 20px rgba(168, 85, 247, 0.4)"]},transition:{duration:2,repeat:1/0},children:g.jsx(to,{className:"w-6 h-6 text-white"})}),g.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"NeuraMed"})]}),g.jsx("div",{className:"hidden md:flex items-center gap-1",children:t.map((r,s)=>g.jsx(re.a,{href:r.href,className:"px-4 py-2 rounded-full text-slate-700 hover:text-purple-600 hover:bg-purple-50 transition-all font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:r.name},s))}),g.jsx("div",{style:{marginLeft:"auto"},children:g.jsx(J5,{})}),g.jsx(re.button,{className:"md:hidden p-2 rounded-lg hover:bg-purple-50",onClick:()=>e(!n),whileTap:{scale:.9},children:n?g.jsx(p2,{className:"w-6 h-6 text-purple-600"}):g.jsx(r2,{className:"w-6 h-6 text-purple-600"})})]}),n&&g.jsxs(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden mt-4 pb-4 border-t border-purple-100 pt-4",children:[t.map((r,s)=>g.jsx(re.a,{href:r.href,className:"block px-4 py-3 rounded-xl text-slate-700 hover:text-purple-600 hover:bg-purple-50 transition-all font-medium",onClick:()=>e(!1),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.05},children:r.name},s)),g.jsxs("div",{className:"flex flex-col gap-2 mt-4 px-4",children:[g.jsx(pn,{variant:"outline",className:"w-full rounded-full border-2 border-purple-300",children:"Sign In"}),g.jsx(pn,{className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 text-white rounded-full",children:"Get Started"})]})]})]})})}function r6(){return g.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 pt-20",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[g.jsx(re.div,{className:"absolute top-20 -left-20 w-[600px] h-[600px] bg-gradient-to-br from-purple-400/40 to-pink-400/40 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),g.jsx(re.div,{className:"absolute bottom-20 -right-20 w-[600px] h-[600px] bg-gradient-to-br from-blue-400/40 to-cyan-400/40 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,-50,0],scale:[1,1.3,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}}),g.jsx(re.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-gradient-to-br from-emerald-400/30 to-teal-400/30 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:30,repeat:1/0,ease:"easeInOut"}})]}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((n,e)=>g.jsx(re.div,{className:"absolute",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},animate:{y:[null,Math.random()*-100-50],opacity:[0,1,0]},transition:{duration:Math.random()*5+5,repeat:1/0,delay:Math.random()*5},children:g.jsx(Hd,{className:"w-4 h-4 text-purple-400"})},e))}),g.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-6 py-32 text-center",children:g.jsxs(re.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[g.jsxs(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-6 py-3 rounded-full shadow-lg border border-purple-200",children:[g.jsx(re.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:g.jsx(Hd,{className:"w-5 h-5 text-purple-600"})}),g.jsx("span",{className:"text-purple-700 font-semibold tracking-wide",children:"AI-Powered Emotional Wellness"})]}),g.jsxs(re.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-6xl md:text-8xl font-bold tracking-tight",children:[g.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Heal. Reflect."}),g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-teal-600 to-emerald-600 bg-clip-text text-transparent",children:"Grow."})]}),g.jsxs(re.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-xl md:text-2xl text-slate-700 max-w-3xl mx-auto leading-relaxed",children:["Your AI-powered companion,"," ",g.jsx("span",{className:"font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"CereSukh"}),", helps you manage stress, track moods, and find peaceanytime, anywhere."]}),g.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-6",children:[g.jsx(re.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsxs(pn,{size:"lg",className:"group bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 hover:from-purple-700 hover:via-pink-700 hover:to-blue-700 text-white rounded-full px-10 py-7 text-lg shadow-2xl shadow-purple-500/30",children:[g.jsx(TE,{className:"w-6 h-6 mr-2 group-hover:scale-110 transition-transform"}),"Start Chat with CereSukh",g.jsx(Ia,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),g.jsx(re.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsx(pn,{size:"lg",variant:"outline",className:"rounded-full px-10 py-7 text-lg border-2 border-purple-300 hover:bg-white hover:border-purple-400 shadow-lg",children:"Learn More"})})]}),g.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-3 gap-8 max-w-3xl mx-auto pt-12",children:[{number:"50K+",label:"Active Users"},{number:"95%",label:"Satisfaction Rate"},{number:"24/7",label:"AI Support"}].map((n,e)=>g.jsxs(re.div,{className:"bg-white/60 backdrop-blur-lg rounded-2xl p-6 shadow-lg border border-white/50",whileHover:{y:-5,boxShadow:"0 20px 40px rgba(0,0,0,0.1)"},children:[g.jsx("p",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:n.number}),g.jsx("p",{className:"text-sm md:text-base text-slate-600 mt-1",children:n.label})]},e))})]})})]})}const i6=[{icon:TE,title:"CereSukh AI Chatbot",description:"Talk to your empathetic AI companion anytime, anywhere. Get support when you need it most.",color:"from-purple-500 to-pink-500",gradient:"from-purple-50 to-pink-50"},{icon:qR,title:"Journaling & Habit Tracking",description:"Track your thoughts, emotions, and daily habits. Build positive routines for lasting wellness.",color:"from-blue-500 to-cyan-500",gradient:"from-blue-50 to-cyan-50"},{icon:SE,title:"Mindfulness & Breathing",description:"Guided breathing exercises and daily inspirational quotes to center your mind.",color:"from-emerald-500 to-teal-500",gradient:"from-emerald-50 to-teal-50"},{icon:o2,title:"Stress-Free Shop",description:"Discover wellness products, from stress toys to yoga mats and self-help resources.",color:"from-pink-500 to-rose-500",gradient:"from-pink-50 to-rose-50"},{icon:JR,title:"Games & Mood Tracker",description:"Play relaxing games and track your mood patterns to understand yourself better.",color:"from-indigo-500 to-purple-500",gradient:"from-indigo-50 to-purple-50"},{icon:gg,title:"Peer & Therapist Support",description:"Connect with support groups or schedule sessions with professional therapists.",color:"from-teal-500 to-cyan-500",gradient:"from-teal-50 to-cyan-50"}];function s6(){return g.jsxs("section",{id:"features",className:"py-32 px-6 bg-gradient-to-b from-pink-50 via-white to-purple-50 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx(re.div,{className:"absolute -top-40 -right-40 w-96 h-96 bg-gradient-to-br from-purple-200/30 to-pink-200/30 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:20,repeat:1/0}}),g.jsx(re.div,{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-blue-200/30 to-cyan-200/30 rounded-full blur-3xl",animate:{scale:[1,1.3,1],rotate:[0,-90,0]},transition:{duration:25,repeat:1/0}})]}),g.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-20",children:[g.jsx(re.span,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:.2},viewport:{once:!0},className:"inline-block px-4 py-2 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 rounded-full text-sm font-semibold mb-4",children:" Comprehensive Wellness Tools"}),g.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Everything You Need to Thrive"}),g.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Comprehensive tools designed to support your emotional wellness journey, all in one beautiful platform."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i6.map((n,e)=>g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},viewport:{once:!0},whileHover:{y:-10},className:"group relative",children:[g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.gradient} rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),g.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all border border-white h-full",children:[g.jsx(re.div,{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${n.color} flex items-center justify-center mb-6 shadow-lg`,whileHover:{rotate:[0,-10,10,-10,0],scale:1.1},transition:{duration:.5},children:g.jsx(n.icon,{className:"w-8 h-8 text-white"})}),g.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-3",children:n.title}),g.jsx("p",{className:"text-slate-600 leading-relaxed mb-6",children:n.description}),g.jsxs(re.button,{className:"inline-flex items-center gap-2 text-purple-600 font-semibold group/btn",whileHover:{x:5},children:["Explore",g.jsx(Ia,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform"})]})]})]},e))}),g.jsx(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"mt-16 text-center",children:g.jsx(re.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsxs(pn,{size:"lg",className:"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 hover:from-purple-700 hover:via-pink-700 hover:to-blue-700 text-white rounded-full px-10 py-7 text-lg shadow-2xl shadow-purple-500/30",children:["Get Started Free",g.jsx(Ia,{className:"w-5 h-5 ml-2"})]})})})]})]})}const o6="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Ty(n){const[e,t]=L.useState(!1),r=()=>{t(!0)},{src:s,alt:a,style:l,className:d,...f}=n;return e?g.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${d??""}`,style:l,children:g.jsx("div",{className:"flex items-center justify-center w-full h-full",children:g.jsx("img",{src:o6,alt:"Error loading image",...f,"data-original-url":s})})}):g.jsx("img",{src:s,alt:a,className:d,style:l,...f,onError:r})}const a6=[{name:"Stress Relief Kit",price:"$29.99",rating:4.8,reviews:234,image:"https://images.unsplash.com/photo-1623984109622-f9c970ba32fc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdHJlc3MlMjByZWxpZWYlMjB0b3lzfGVufDF8fHx8MTc2MTg0OTgzMXww&ixlib=rb-4.1.0&q=80&w=1080",description:"Sensory toys and fidget tools to reduce anxiety",badge:"Popular"},{name:"Premium Yoga Mat",price:"$49.99",rating:4.9,reviews:189,image:"https://images.unsplash.com/photo-1746796751590-a8c0f15d4900?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b2dhJTIwbWF0JTIwZXhlcmNpc2V8ZW58MXx8fHwxNzYxODE3MTQ4fDA&ixlib=rb-4.1.0&q=80&w=1080",description:"Eco-friendly, non-slip mat for mindful movement",badge:"Eco"},{name:"Self-Help Book Collection",price:"$39.99",rating:4.7,reviews:456,image:"https://images.unsplash.com/photo-1618365908648-e71bd5716cba?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzZWxmJTIwaGVscCUyMGJvb2tzfGVufDF8fHx8MTc2MTg0OTgzMXww&ixlib=rb-4.1.0&q=80&w=1080",description:"Curated guides for personal growth and healing",badge:"New"},{name:"Meditation Cushion",price:"$34.99",rating:4.6,reviews:145,image:"https://images.unsplash.com/photo-1687436874174-977fdd9e2cb8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZWRpdGF0aW9uJTIwcGVhY2VmdWwlMjB3ZWxsbmVzc3xlbnwxfHx8fDE3NjE3ODcxMDV8MA&ixlib=rb-4.1.0&q=80&w=1080",description:"Comfortable support for meditation practice"},{name:"Aromatherapy Set",price:"$44.99",rating:4.9,reviews:312,image:"https://images.unsplash.com/photo-1687436874174-977fdd9e2cb8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZWRpdGF0aW9uJTIwcGVhY2VmdWwlMjB3ZWxsbmVzc3xlbnwxfHx8fDE3NjE3ODcxMDV8MA&ixlib=rb-4.1.0&q=80&w=1080",description:"Essential oils and diffuser for relaxation",badge:"Premium"},{name:"Journal & Planner",price:"$24.99",rating:4.8,reviews:267,image:"https://images.unsplash.com/photo-1618365908648-e71bd5716cba?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzZWxmJTIwaGVscCUyMGJvb2tzfGVufDF8fHx8MTc2MTg0OTgzMXww&ixlib=rb-4.1.0&q=80&w=1080",description:"Beautiful guided journal for daily reflection"}];function l6(){const[n,e]=L.useState([]),t=r=>{e(s=>s.includes(r)?s.filter(a=>a!==r):[...s,r])};return g.jsxs("section",{id:"shop",className:"py-32 px-6 bg-gradient-to-b from-purple-50 via-white to-blue-50 relative overflow-hidden",children:[g.jsx(re.div,{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-pink-200/30 to-purple-200/30 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,50,0]},transition:{duration:15,repeat:1/0}}),g.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-20",children:[g.jsx(re.span,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:.2},viewport:{once:!0},className:"inline-block px-4 py-2 bg-gradient-to-r from-pink-100 to-purple-100 text-pink-700 rounded-full text-sm font-semibold mb-4",children:" Wellness Marketplace"}),g.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-pink-600 via-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Stress-Free Shop"}),g.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Handpicked wellness products to support your journey to peace and balance."})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:a6.map((r,s)=>g.jsx(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:s*.1},viewport:{once:!0},whileHover:{y:-10},className:"group",children:g.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all border border-purple-100",children:[g.jsxs("div",{className:"relative overflow-hidden aspect-square",children:[g.jsx(Ty,{src:r.image,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),r.badge&&g.jsx(re.div,{initial:{scale:0},whileInView:{scale:1},transition:{delay:s*.1+.3},viewport:{once:!0},className:"absolute top-4 left-4 px-3 py-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs font-bold rounded-full",children:r.badge}),g.jsx(re.button,{onClick:()=>t(s),className:"absolute top-4 right-4 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white transition-colors shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.9},children:g.jsx(to,{className:`w-5 h-5 transition-colors ${n.includes(s)?"fill-red-500 text-red-500":"text-pink-500"}`})})]}),g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((a,l)=>g.jsx(u2,{className:`w-4 h-4 ${l<Math.floor(r.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},l))}),g.jsxs("span",{className:"text-sm text-slate-600",children:[r.rating," ",r.reviews&&`(${r.reviews})`]})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:r.name}),g.jsx("p",{className:"text-slate-600 mb-4 line-clamp-2",children:r.description}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:r.price}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(re.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:g.jsx(pn,{variant:"outline",size:"sm",className:"rounded-full border-purple-300 hover:bg-purple-50",children:g.jsx(a2,{className:"w-4 h-4"})})}),g.jsx(re.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsx(pn,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-full",children:"Buy Now"})})]})]})]})]})},s))}),g.jsx(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"mt-16 text-center",children:g.jsx(re.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsxs(pn,{size:"lg",variant:"outline",className:"rounded-full border-2 border-purple-300 hover:bg-purple-50 px-10 py-7 text-lg",children:["View All Products",g.jsx(Ia,{className:"w-5 h-5 ml-2"})]})})})]})]})}function u6({className:n,...e}){return g.jsx("textarea",{"data-slot":"textarea",className:mg("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function xI(){const[n,e]=L.useState(!1),[t,r]=L.useState(""),[s,a]=L.useState(!1),l={text:"In the midst of movement and chaos, keep stillness inside of you.",author:"Deepak Chopra"},d=()=>{a(!0),setTimeout(()=>a(!1),2e3)};return g.jsxs("section",{id:"mindfulness",className:"py-32 px-6 bg-gradient-to-b from-blue-50 via-green-50 to-teal-50 relative overflow-hidden",children:[g.jsx(re.div,{className:"absolute top-20 left-0 w-96 h-96 bg-gradient-to-br from-emerald-200/30 to-teal-200/30 rounded-full blur-3xl",animate:{scale:[1,1.3,1],x:[0,-50,0]},transition:{duration:20,repeat:1/0}}),g.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-20",children:[g.jsx(re.span,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:.2},viewport:{once:!0},className:"inline-block px-4 py-2 bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700 rounded-full text-sm font-semibold mb-4",children:" Inner Peace & Reflection"}),g.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Mindfulness & Journaling"}),g.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Take a moment to breathe, reflect, and connect with your inner self."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs(re.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"bg-white/80 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.jsx(re.div,{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center shadow-lg",whileHover:{rotate:[0,-10,10,0]},children:g.jsx(GR,{className:"w-7 h-7 text-white"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Daily Journal"}),g.jsx("p",{className:"text-sm text-slate-500",children:"Express your thoughts freely"})]})]}),g.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed",children:"Express your thoughts and feelings. Writing helps process emotions and track your growth."}),g.jsx(u6,{value:t,onChange:f=>r(f.target.value),placeholder:"What's on your mind today? How are you feeling?",className:"min-h-56 bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200 focus:border-purple-400 rounded-2xl resize-none mb-4 text-base"}),g.jsx("div",{className:"flex gap-3",children:g.jsx(re.div,{className:"flex-1",whileHover:{scale:1.02},whileTap:{scale:.98},children:g.jsxs(pn,{onClick:d,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-full py-6",children:[g.jsx(s2,{className:"w-5 h-5 mr-2"}),s?"Saved!":"Save Entry"]})})}),g.jsxs("div",{className:"mt-6 flex items-center justify-between text-sm text-slate-500",children:[g.jsxs("span",{children:[" ",t.length," characters"]}),g.jsx("span",{children:" 23 entries this month"})]})]}),g.jsxs(re.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-8",children:[g.jsxs("div",{className:"bg-gradient-to-br from-emerald-100 via-teal-100 to-cyan-100 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.jsx(re.div,{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center shadow-lg",whileHover:{rotate:[0,-10,10,0]},children:g.jsx(SE,{className:"w-7 h-7 text-white"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Breathing Exercise"}),g.jsx("p",{className:"text-sm text-slate-600",children:"4-7-8 Breathing Technique"})]})]}),g.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed",children:"Follow the circle. Breathe in as it expands, hold, then breathe out as it contracts."}),g.jsxs("div",{className:"flex flex-col items-center justify-center py-16 relative",children:[g.jsx(re.div,{className:"absolute w-56 h-56 rounded-full border-4 border-emerald-300/30",animate:n?{scale:[1,1.3,1.3,1],opacity:[.3,.6,.6,.3]}:{},transition:{duration:19,repeat:n?1/0:0,ease:"easeInOut"}}),g.jsx(re.div,{className:"w-40 h-40 rounded-full bg-gradient-to-br from-emerald-400 via-teal-400 to-cyan-400 shadow-2xl flex items-center justify-center",animate:n?{scale:[1,1.5,1.5,1]}:{scale:1},transition:{duration:19,repeat:n?1/0:0,ease:"easeInOut"},children:g.jsx(re.p,{className:"text-white font-bold text-xl",animate:n?{opacity:[1,1,0,1]}:{},transition:{duration:19,repeat:n?1/0:0,times:[0,.21,.58,1]},children:n?"Breathe":"Ready"})}),g.jsx(re.p,{className:"mt-8 text-slate-700 font-medium text-lg",animate:n?{opacity:[1,1,1,1]}:{},children:n?g.jsx(re.span,{animate:{opacity:[1,1,0,0,1]},transition:{duration:19,repeat:1/0,times:[0,.21,.21,.58,1]},children:"Inhale 4s  Hold 7s  Exhale 8s"}):"Click to begin"})]}),g.jsx(re.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:g.jsx(pn,{onClick:()=>e(!n),variant:"outline",className:"w-full rounded-full border-2 border-emerald-300 hover:bg-emerald-50 py-6",children:n?g.jsxs(g.Fragment,{children:[g.jsx(i2,{className:"w-5 h-5 mr-2"}),"Pause Breathing"]}):g.jsxs(g.Fragment,{children:[g.jsx(bE,{className:"w-5 h-5 mr-2"}),"Start Breathing"]})})})]}),g.jsxs(re.div,{whileHover:{y:-5},className:"bg-gradient-to-br from-purple-100 via-pink-100 to-rose-100 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white relative overflow-hidden",children:[g.jsx(re.div,{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full blur-2xl",animate:{scale:[1,1.2,1]},transition:{duration:3,repeat:1/0}}),g.jsx(Hd,{className:"absolute top-4 right-4 w-6 h-6 text-purple-400"}),g.jsxs("h4",{className:"text-lg font-semibold text-purple-700 mb-4 flex items-center gap-2",children:[g.jsx(re.span,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:""}),"Daily Inspiration"]}),g.jsxs("p",{className:"text-2xl text-slate-800 italic mb-4 leading-relaxed font-serif",children:['"',l.text,'"']}),g.jsxs("p",{className:"text-slate-600 font-medium",children:[" ",l.author]})]})]})]})]})]})}const c6=[{title:"Sweet Candy Match",description:"Match candies, score points, relax and enjoy!",icon:KR,color:"from-purple-500 to-pink-500",image:"https://images.unsplash.com/photo-1701588362547-001aaf022089?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjYW5keSUyMGNvbnl8ZW58MXx8fHwxNzYxODUwMDAwfDA&ixlib=rb-4.1.0&q=80&w=1080",players:"12K",href:"/games/candy-match"},{title:"Heal the Depressed Avatar",description:"Choose wisely to lift the avatars mood and win!",icon:to,color:"from-emerald-500 to-teal-500",image:"https://images.unsplash.com/photo-1687436874174-977fdd9e2cb8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZWRpdGF0aW9uJTIwcGVhY2VmdWwlMjB3ZWxsbmVzc3xlbnwxfHx8fDE3NjE3ODcxMDV8MA&ixlib=rb-4.1.0&q=80&w=1080",players:"9K",href:"/games/heal-avatar"},{title:"Word Puzzle Game",description:"Pick letters to solve fun word riddles!",icon:l2,color:"from-blue-500 to-cyan-500",image:"https://images.unsplash.com/photo-1529070538774-1843cb3265df?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b3JkJTIwcHV6emxlfGVufDF8fHx8MTc2MTg1MDAwMHww&ixlib=rb-4.1.0&q=80&w=1080",players:"15K",href:"/games/word-puzzle"}],d6=[{emoji:"",label:"Happy",count:12,color:"from-yellow-400 to-orange-400",bgColor:"from-yellow-100 to-orange-100"},{emoji:"",label:"Calm",count:18,color:"from-emerald-400 to-teal-400",bgColor:"from-emerald-100 to-teal-100"},{emoji:"",label:"Sad",count:5,color:"from-blue-400 to-cyan-400",bgColor:"from-blue-100 to-cyan-100"},{emoji:"",label:"Anxious",count:7,color:"from-purple-400 to-pink-400",bgColor:"from-purple-100 to-pink-100"}];function h6(){return g.jsxs("section",{id:"games",className:"py-32 px-6 bg-gradient-to-b from-teal-50 via-white to-purple-50 relative overflow-hidden",children:[g.jsx(re.div,{className:"absolute -top-40 left-1/2 -translate-x-1/2 w-[600px] h-[600px] bg-gradient-to-br from-indigo-200/30 to-purple-200/30 rounded-full blur-3xl",animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:30,repeat:1/0}}),g.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-20",children:[g.jsx(re.span,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:.2},viewport:{once:!0},className:"inline-block px-4 py-2 bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-700 rounded-full text-sm font-semibold mb-4",children:" Interactive Wellness"}),g.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Games & Mood Tracker"}),g.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Relax through interactive games and understand your emotions better with mood tracking."})]}),g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16",children:c6.map((n,e)=>g.jsx(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},viewport:{once:!0},whileHover:{y:-10},className:"group",children:g.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all border border-purple-100",children:[g.jsxs("div",{className:"relative h-56 overflow-hidden",children:[g.jsx(Ty,{src:n.image,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),g.jsx(re.div,{className:`absolute top-4 left-4 w-14 h-14 rounded-xl bg-gradient-to-br ${n.color} flex items-center justify-center shadow-xl`,whileHover:{rotate:[0,-10,10,0],scale:1.1},children:g.jsx(n.icon,{className:"w-7 h-7 text-white"})}),g.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center gap-2 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full",children:[g.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),g.jsxs("span",{className:"text-xs font-semibold text-slate-700",children:[n.players," players"]})]})]}),g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:n.title}),g.jsx("p",{className:"text-slate-600 mb-6",children:n.description}),g.jsx(re.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:g.jsxs(St,{to:n.href,className:"w-full inline-flex items-center justify-center bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-full py-6 group/btn",children:[g.jsx(bE,{className:"w-5 h-5 mr-2 group-hover/btn:scale-110 transition-transform"}),"Play Now"]})})]})]})},e))}),g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-white/80 backdrop-blur-xl rounded-3xl p-10 shadow-2xl border border-white",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Your Mood This Week"}),g.jsxs("p",{className:"text-slate-600 flex items-center gap-2",children:[g.jsx(c2,{className:"w-5 h-5 text-emerald-500"}),"Your wellness is improving by 23%"]})]}),g.jsx(re.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsxs(pn,{variant:"outline",className:"rounded-full border-2 border-purple-300 hover:bg-purple-50",children:["View Analytics",g.jsx(Ia,{className:"w-4 h-4 ml-2"})]})})]}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:d6.map((n,e)=>g.jsx(re.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.4,delay:e*.1},viewport:{once:!0},whileHover:{scale:1.05,y:-5},className:"group cursor-pointer",children:g.jsxs("div",{className:`bg-gradient-to-br ${n.bgColor} rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all border border-white relative overflow-hidden`,children:[g.jsx(re.div,{className:`absolute inset-0 bg-gradient-to-br ${n.color} opacity-0 group-hover:opacity-10 transition-opacity`}),g.jsx(re.div,{className:"text-6xl mb-3",whileHover:{scale:1.2,rotate:[0,-10,10,0]},children:n.emoji}),g.jsx("p",{className:"text-lg font-semibold text-slate-800 mb-1",children:n.label}),g.jsx(re.p,{className:`text-4xl font-bold bg-gradient-to-r ${n.color} bg-clip-text text-transparent mb-1`,whileHover:{scale:1.1},children:n.count}),g.jsx("p",{className:"text-sm text-slate-600",children:"times"})]})},e))}),g.jsx(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.4},viewport:{once:!0},className:"mt-8 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-2xl p-6 border border-emerald-200",children:g.jsxs("p",{className:"text-slate-700 text-center",children:[g.jsx("span",{className:"font-semibold",children:" Insight:"})," You're feeling most calm on Tuesday and Wednesday. Try scheduling important tasks during these peak wellness days!"]})})]})]})]})}const f6=[{name:"Anxiety Support Circle",members:24,nextSession:"Today, 6:00 PM",color:"from-purple-500 to-pink-500",online:8},{name:"Mindful Living Group",members:18,nextSession:"Tomorrow, 3:00 PM",color:"from-blue-500 to-cyan-500",online:5},{name:"Stress Management",members:31,nextSession:"Friday, 7:00 PM",color:"from-emerald-500 to-teal-500",online:12},{name:"Young Adults Wellness",members:22,nextSession:"Saturday, 4:00 PM",color:"from-pink-500 to-rose-500",online:6}];function p6(){return g.jsxs("section",{id:"support",className:"py-32 px-6 bg-gradient-to-b from-purple-50 via-white to-blue-50 relative overflow-hidden",children:[g.jsx(re.div,{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-gradient-to-br from-purple-200/30 to-pink-200/30 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,50,0]},transition:{duration:20,repeat:1/0}}),g.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-20",children:[g.jsx(re.span,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:.2},viewport:{once:!0},className:"inline-block px-4 py-2 bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 rounded-full text-sm font-semibold mb-4",children:" Community & Professional Care"}),g.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Peer & Therapist Support"}),g.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"You're not alone. Connect with others who understand, or speak with professional therapists."})]}),g.jsx(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"mb-16",children:g.jsx("div",{className:"bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 backdrop-blur-xl rounded-3xl overflow-hidden shadow-2xl border border-white",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0",children:[g.jsxs("div",{className:"p-10 md:p-14 flex flex-col justify-center relative",children:[g.jsxs(re.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:.3},viewport:{once:!0},className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-semibold text-blue-700 mb-6 w-fit",children:[g.jsx(IE,{className:"w-4 h-4"}),"Licensed Professionals"]}),g.jsx("h3",{className:"text-4xl font-bold text-slate-800 mb-4",children:"Talk to a Professional"}),g.jsx("p",{className:"text-lg text-slate-600 mb-8 leading-relaxed",children:"Our licensed therapists are here to provide confidential, compassionate support. Schedule a video session or connect with someone who can help."}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[g.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4",children:[g.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"200+"}),g.jsx("p",{className:"text-sm text-slate-600",children:"Therapists"})]}),g.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4",children:[g.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"4.9"}),g.jsx("p",{className:"text-sm text-slate-600",children:"Avg Rating"})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsx(re.div,{className:"flex-1",whileHover:{scale:1.02},whileTap:{scale:.98},children:g.jsxs(St,{to:"/support/video-call",className:"inline-flex items-center gap-2 px-6 py-4 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold shadow-lg hover:shadow-xl transition",children:[g.jsx(f2,{className:"w-5 h-5 mr-2"}),"Schedule Session"]})}),g.jsx(re.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:g.jsxs(pn,{variant:"outline",className:"rounded-full border-2 border-purple-300 hover:bg-white/80 py-6 px-6",children:[g.jsx(QR,{className:"w-5 h-5 mr-2"}),"View Available"]})})]})]}),g.jsxs("div",{className:"relative h-96 md:h-auto",children:[g.jsx(Ty,{src:"https://images.unsplash.com/photo-1758273240360-76b908e7582a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx0aGVyYXB5JTIwY291bnNlbGluZyUyMHN1cHBvcnR8ZW58MXx8fHwxNzYxODQ5ODMyfDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Professional support",className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-900/20 to-transparent"})]})]})})}),g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[g.jsx("h3",{className:"text-4xl font-bold text-slate-800 mb-10 text-center",children:"Join a Peer Support Group"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f6.map((n,e)=>g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},viewport:{once:!0},whileHover:{y:-5},className:"bg-white/80 backdrop-blur-xl rounded-3xl p-6 shadow-lg hover:shadow-2xl transition-all border border-white",children:[g.jsxs("div",{className:"flex items-start gap-4 mb-5",children:[g.jsx(re.div,{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${n.color} flex items-center justify-center flex-shrink-0 shadow-lg`,whileHover:{rotate:[0,-10,10,0]},children:g.jsx(gg,{className:"w-8 h-8 text-white"})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("h4",{className:"text-xl font-bold text-slate-800 mb-2",children:n.name}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(h2,{className:"w-4 h-4"}),g.jsxs("span",{children:[n.members," members"]})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),g.jsxs("span",{className:"text-green-600 font-semibold",children:[n.online," online"]})]})]})]})]}),g.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[g.jsx(YR,{className:"w-4 h-4 text-purple-600"}),g.jsx("span",{className:"font-medium",children:"Next session:"}),g.jsx("span",{className:"font-bold text-purple-700",children:n.nextSession})]})}),n.name==="Anxiety Support Circle"?g.jsx(St,{to:"/support/peer/anxiety",className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-emerald-600 text-white font-semibold hover:bg-emerald-700",children:"Join Group"}):n.name==="Mindful Living Group"?g.jsx(St,{to:"/support/peer/mindful-living",className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-emerald-600 text-white font-semibold hover:bg-emerald-700",children:"Join Group"}):n.name==="Stress Management"?g.jsx(St,{to:"/support/peer/stress-management",className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-emerald-600 text-white font-semibold hover:bg-emerald-700",children:"Join Group"}):n.name==="Young Adults Wellness"?g.jsx(St,{to:"/support/peer/young-adults",className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-emerald-600 text-white font-semibold hover:bg-emerald-700",children:"Join Group"}):g.jsx(re.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:g.jsxs(pn,{variant:"outline",className:"w-full rounded-full border-2 border-purple-300 hover:bg-purple-50 py-6",children:["Join Group",g.jsx(Ia,{className:"w-4 h-4 ml-2"})]})})]},e))})]}),g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"mt-16 bg-gradient-to-br from-emerald-100 via-teal-100 to-cyan-100 backdrop-blur-xl rounded-3xl p-10 shadow-2xl border border-white text-center relative overflow-hidden",children:[g.jsx(re.div,{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-emerald-400/20 to-teal-400/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1]},transition:{duration:5,repeat:1/0}}),g.jsx("h3",{className:"text-3xl font-bold text-slate-800 mb-4 relative z-10",children:"Need someone to talk to right now?"}),g.jsx("p",{className:"text-lg text-slate-600 mb-8 max-w-2xl mx-auto relative z-10",children:"Connect with a peer supporter for a one-on-one conversation. Sometimes just talking helps."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center relative z-10",children:[g.jsx(re.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsx(St,{to:"/support/peer-quick/anxiety",className:"inline-flex items-center gap-2 px-8 py-4 rounded-full bg-emerald-600 text-white font-semibold hover:bg-emerald-700",children:"Start Peer Call Now"})}),g.jsx("p",{className:"text-sm text-slate-500",children:g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"14 supporters online"]})})]})]})]})]})}function m6(){const[n,e]=L.useState(!1),[t,r]=L.useState([{sender:"ai",text:"Hello! I'm your AI Wellness Assistant. How are you feeling today? You can talk to me about anything on your mind."}]),[s,a]=L.useState(""),[l,d]=L.useState(!1),[f,p]=L.useState("en-US"),[y,x]=L.useState(!1),E=L.useRef(null),A=L.useMemo(()=>"http://127.0.0.1:5000",[]);L.useEffect(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},[t,n]);async function M(R){const I=(R??s).trim();if(!(!I||l)){r(j=>[...j,{sender:"user",text:I}]),a(""),d(!0);try{const U=await(await fetch(`${A}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:I,language:f})})).json(),q=U.reply||U.error||"I'm having trouble connecting right now.";r(ee=>[...ee,{sender:"ai",text:q}])}catch{r(U=>[...U,{sender:"ai",text:"I'm sorry, I'm having trouble connecting to the server."}])}finally{d(!1)}}}return L.useEffect(()=>{if(!n)return;const R=window.SpeechRecognition||window.webkitSpeechRecognition;if(!R)return;const I=new R;I.continuous=!1,I.interimResults=!1,I.lang=f;function j(){try{I.start()}catch{}}function U(){try{I.stop()}catch{}}return window.__cere_start_listen=()=>{x(!0),j()},window.__cere_stop_listen=()=>{x(!1),U()},I.onstart=()=>x(!0),I.onend=()=>x(!1),I.onerror=()=>x(!1),I.onresult=q=>{const ee=q?.results?.[0]?.[0]?.transcript?.trim();ee&&M(ee)},()=>{delete window.__cere_start_listen,delete window.__cere_stop_listen,U()}},[n,f]),g.jsxs("div",{className:"mt-10",children:[g.jsxs("div",{className:"rounded-3xl p-6 md:p-8 bg-white/90 border border-pink-100 shadow-2xl flex items-start gap-4",children:[g.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-fuchsia-500 to-pink-500 flex items-center justify-center shadow-lg text-white text-2xl",children:""}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-3xl font-bold text-slate-800",children:"CereSukh"}),g.jsx("p",{className:"text-sm text-slate-500 -mt-1",children:"Your AI Companion"}),g.jsx("p",{className:"text-slate-600 mt-3",children:"Chat privately, get support, and practice mindful reflection."})]}),g.jsx("button",{onClick:()=>e(!0),className:"px-4 py-2 rounded-full text-white font-semibold bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 shadow",children:"Open Companion"})]}),n&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl flex flex-col",style:{height:"80vh"},children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[g.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-0 bg-gradient-to-r from-blue-600 via-teal-600 to-emerald-600 bg-clip-text text-transparent",children:"CereSukh"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:f,onChange:R=>p(R.target.value),className:"text-sm rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[g.jsx("option",{value:"en-US",children:"English"}),g.jsx("option",{value:"hi-IN",children:" (Hindi)"}),g.jsx("option",{value:"bn-IN",children:" (Bengali)"}),g.jsx("option",{value:"ur-IN",children:" (Urdu)"}),g.jsx("option",{value:"ta-IN",children:" (Tamil)"}),g.jsx("option",{value:"te-IN",children:" (Telugu)"}),g.jsx("option",{value:"mr-IN",children:" (Marathi)"}),g.jsx("option",{value:"gu-IN",children:" (Gujarati)"}),g.jsx("option",{value:"kn-IN",children:" (Kannada)"}),g.jsx("option",{value:"ml-IN",children:" (Malayalam)"}),g.jsx("option",{value:"pa-IN",children:" (Punjabi)"}),g.jsx("option",{value:"es-ES",children:"Espaol"}),g.jsx("option",{value:"fr-FR",children:"Franais"}),g.jsx("option",{value:"de-DE",children:"Deutsch"}),g.jsx("option",{value:"zh-CN",children:" (Mandarin)"}),g.jsx("option",{value:"ja-JP",children:" (Japanese)"}),g.jsx("option",{value:"ar-SA",children:" (Arabic)"}),g.jsx("option",{value:"pt-PT",children:"Portugus"}),g.jsx("option",{value:"ru-RU",children:" (Russian)"})]}),g.jsx("button",{onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-gray-200","aria-label":"Close",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),g.jsxs("div",{ref:E,className:"flex-1 p-4 overflow-y-auto space-y-3",children:[t.map((R,I)=>g.jsx("div",{className:`flex ${R.sender==="user"?"justify-end":""}`,children:g.jsx("div",{className:`p-3 rounded-lg max-w-xs md:max-w-md ${R.sender==="user"?"bg-blue-500 text-white":"bg-blue-100 text-gray-800"}`,dangerouslySetInnerHTML:{__html:R.text.replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})},I)),l&&g.jsx("div",{className:"flex",children:g.jsx("div",{className:"p-3 bg-blue-100 text-gray-800 rounded-lg max-w-xs md:max-w-md italic",children:"Typing..."})})]}),g.jsxs("form",{onSubmit:R=>{R.preventDefault(),M()},className:"p-4 border-t flex gap-2",children:[g.jsx("input",{value:s,onChange:R=>a(R.target.value),placeholder:"Type or press the mic to talk...",className:"flex-1 p-3 border rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),g.jsx("button",{type:"button",onClick:()=>{window.__cere_start_listen&&!y?window.__cere_start_listen():window.__cere_stop_listen&&y&&window.__cere_stop_listen()},className:`p-3 w-12 h-12 rounded-full transition-colors ${y?"bg-red-200":"hover:bg-gray-200"}`,"aria-label":"Mic",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),g.jsx("button",{type:"submit",disabled:l,className:"px-6 py-3 bg-blue-500 text-white font-semibold rounded-full hover:bg-blue-600 transition-colors",children:"Send"})]}),g.jsxs("div",{className:"p-4 bg-gray-50 rounded-b-xl text-center text-sm text-gray-600",children:["If you're not satisfied or need further help: ",g.jsx("a",{href:"#support",className:"text-blue-600 font-semibold hover:underline",children:"Connect with a professional consultant "})]})]})})]})}function g6(){const n=[{icon:to,title:"Compassion First",description:"Every interaction is designed with empathy, understanding, and non-judgment at its core.",color:"from-purple-500 to-pink-500"},{icon:IE,title:"Privacy & Safety",description:"Your data is encrypted and secure. We never share your personal information without consent.",color:"from-blue-500 to-cyan-500"},{icon:e2,title:"Accessible to All",description:"Mental health support should be available anytime, anywhere, for everyone who needs it.",color:"from-emerald-500 to-teal-500"}],e=[{icon:gg,value:"50K+",label:"Happy Users"},{icon:m2,value:"1M+",label:"Sessions Completed"},{icon:to,value:"95%",label:"Satisfaction Rate"}];return g.jsxs("section",{id:"about",className:"py-32 px-6 bg-gradient-to-b from-blue-50 via-purple-50 to-pink-50 relative overflow-hidden",children:[g.jsx(re.div,{className:"absolute -bottom-40 right-0 w-[600px] h-[600px] bg-gradient-to-br from-purple-200/30 to-pink-200/30 rounded-full blur-3xl",animate:{scale:[1,1.3,1],rotate:[0,180,360]},transition:{duration:30,repeat:1/0}}),g.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-20",children:[g.jsx(re.span,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:.2},viewport:{once:!0},className:"inline-block px-4 py-2 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 rounded-full text-sm font-semibold mb-4",children:" Our Story"}),g.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"About NeuraMed"}),g.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Empowering emotional wellness through compassionate AI and community support."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-20",children:[g.jsxs(re.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[g.jsx("h3",{className:"text-4xl font-bold text-slate-800 mb-6",children:"Our Mission"}),g.jsxs("div",{className:"space-y-4 text-lg text-slate-600 leading-relaxed",children:[g.jsx("p",{children:"NeuraMed was created with a simple yet powerful vision: to make emotional wellness accessible to everyone, everywhere. We believe that mental health support shouldn't be a luxury, but a fundamental right."}),g.jsxs("p",{children:["Through our AI companion"," ",g.jsx("span",{className:"font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"CereSukh"}),", we provide 24/7 empathetic support, combining cutting-edge technology with evidence-based therapeutic approaches. CereSukh is designed to listen, understand, and guide you through difficult moments with compassion and wisdom."]}),g.jsx("p",{children:"But we're more than just an AI. NeuraMed is a holistic wellness platform that brings together journaling, mindfulness, peer support, professional therapy, and curated resourcesall in one calming, user-friendly space."})]}),g.jsx("div",{className:"grid grid-cols-3 gap-4 mt-8",children:e.map((t,r)=>g.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:r*.1},viewport:{once:!0},whileHover:{y:-5},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-lg",children:[g.jsx(t.icon,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),g.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:t.value}),g.jsx("p",{className:"text-xs text-slate-600",children:t.label})]},r))})]}),g.jsx(re.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"relative",children:g.jsx("div",{className:"bg-gradient-to-br from-purple-200 via-pink-200 to-blue-200 rounded-3xl p-1 shadow-2xl",children:g.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.jsx(re.div,{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-blue-500 flex items-center justify-center shadow-xl",animate:{boxShadow:["0 0 20px rgba(168, 85, 247, 0.3)","0 0 40px rgba(168, 85, 247, 0.6)","0 0 20px rgba(168, 85, 247, 0.3)"]},transition:{duration:2,repeat:1/0},children:g.jsx(Hd,{className:"w-10 h-10 text-white"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-2xl font-bold text-slate-800",children:"CereSukh"}),g.jsx("p",{className:"text-sm text-slate-600",children:"Your AI Companion"})]})]}),g.jsxs(re.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{delay:.3},viewport:{once:!0},className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-4 relative",children:[g.jsx("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-gradient-to-br from-purple-50 to-pink-50 rotate-45"}),g.jsx("p",{className:"text-slate-700 italic leading-relaxed",children:`"I'm here to listen and support you. How are you feeling today? Remember, it's okay to not be okay sometimes. Let's work through this together."`})]}),g.jsxs(re.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{delay:.4},viewport:{once:!0},className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-6 text-right relative ml-8",children:[g.jsx("div",{className:"absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-gradient-to-br from-blue-50 to-cyan-50 rotate-45"}),g.jsx("p",{className:"text-slate-700 italic leading-relaxed",children:`"Thank you for being here. I feel safe talking to you. You really understand what I'm going through."`})]})]})})})]}),g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[g.jsx("h3",{className:"text-4xl font-bold text-slate-800 mb-12 text-center",children:"What We Stand For"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map((t,r)=>g.jsxs(re.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:r*.1},viewport:{once:!0},whileHover:{y:-10},className:"bg-white/80 backdrop-blur-xl rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all border border-white text-center group",children:[g.jsx(re.div,{className:`w-20 h-20 rounded-2xl bg-gradient-to-br ${t.color} flex items-center justify-center mx-auto mb-6 shadow-lg`,whileHover:{rotate:[0,-10,10,0],scale:1.1},children:g.jsx(t.icon,{className:"w-10 h-10 text-white"})}),g.jsx("h4",{className:"text-2xl font-bold text-slate-800 mb-4",children:t.title}),g.jsx("p",{className:"text-slate-600 leading-relaxed",children:t.description})]},r))})]})]}),g.jsx(m6,{})]})}function y6({className:n,type:e,...t}){return g.jsx("input",{type:e,"data-slot":"input",className:mg("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function v6(){const n={platform:[{name:"Home",href:"#home"},{name:"Features",href:"#features"},{name:"Shop",href:"#shop"},{name:"About",href:"#about"}],support:[{name:"Help Center",href:"#"},{name:"Contact Us",href:"#"},{name:"Community",href:"#"},{name:"FAQs",href:"#"}],legal:[{name:"Privacy Policy",href:"#"},{name:"Terms of Service",href:"#"},{name:"Cookie Policy",href:"#"},{name:"Disclaimer",href:"#"}]},e=[{icon:d2,href:"#",color:"hover:bg-blue-500"},{icon:n2,href:"#",color:"hover:bg-blue-600"},{icon:t2,href:"#",color:"hover:bg-pink-500"},{icon:XR,href:"#",color:"hover:bg-blue-700"},{icon:ZR,href:"#",color:"hover:bg-slate-700"}];return g.jsxs("footer",{className:"bg-gradient-to-b from-slate-50 to-slate-100 border-t border-slate-200 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx(re.div,{className:"absolute -top-40 -left-40 w-96 h-96 bg-gradient-to-br from-purple-200/20 to-pink-200/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1]},transition:{duration:15,repeat:1/0}}),g.jsx(re.div,{className:"absolute -bottom-40 -right-40 w-96 h-96 bg-gradient-to-br from-blue-200/20 to-cyan-200/20 rounded-full blur-3xl",animate:{scale:[1,1.3,1]},transition:{duration:20,repeat:1/0}})]}),g.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16 relative z-10",children:[g.jsx(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 rounded-3xl p-10 mb-16 shadow-2xl",children:g.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[g.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:"Stay Connected with Your Wellness Journey"}),g.jsx("p",{className:"text-purple-100 mb-6 text-lg",children:"Get weekly tips, mindfulness exercises, and exclusive updates."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[g.jsx(y6,{type:"email",placeholder:"Enter your email",className:"bg-white/90 backdrop-blur-sm border-0 rounded-full py-6 text-base"}),g.jsx(re.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsx(pn,{className:"bg-white text-purple-600 hover:bg-purple-50 rounded-full px-8 py-6 font-semibold whitespace-nowrap",children:"Subscribe"})})]})]})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-12 mb-12",children:[g.jsxs("div",{className:"lg:col-span-2",children:[g.jsxs(re.a,{href:"#home",className:"flex items-center gap-2 mb-4 group",whileHover:{scale:1.02},children:[g.jsx(re.div,{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 via-pink-500 to-blue-500 flex items-center justify-center shadow-lg",whileHover:{rotate:[0,-10,10,0]},children:g.jsx(to,{className:"w-7 h-7 text-white"})}),g.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"NeuraMed"})]}),g.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed text-lg",children:"Your AI-powered companion for emotional wellness. Heal, reflect, and grow with CereSukh."}),g.jsx("div",{className:"flex gap-3",children:e.map((t,r)=>g.jsx(re.a,{href:t.href,className:`w-11 h-11 rounded-full bg-slate-200 ${t.color} hover:text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg`,whileHover:{scale:1.1,y:-3},whileTap:{scale:.9},children:g.jsx(t.icon,{className:"w-5 h-5"})},r))})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-slate-800 mb-5 text-lg",children:"Platform"}),g.jsx("ul",{className:"space-y-3",children:n.platform.map((t,r)=>g.jsx(re.li,{whileHover:{x:5},children:g.jsxs("a",{href:t.href,className:"text-slate-600 hover:text-purple-600 transition-colors inline-flex items-center group",children:[g.jsx("span",{className:"w-0 h-0.5 bg-purple-600 group-hover:w-4 transition-all mr-0 group-hover:mr-2"}),t.name]})},r))})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-slate-800 mb-5 text-lg",children:"Support"}),g.jsx("ul",{className:"space-y-3",children:n.support.map((t,r)=>g.jsx(re.li,{whileHover:{x:5},children:g.jsxs("a",{href:t.href,className:"text-slate-600 hover:text-purple-600 transition-colors inline-flex items-center group",children:[g.jsx("span",{className:"w-0 h-0.5 bg-purple-600 group-hover:w-4 transition-all mr-0 group-hover:mr-2"}),t.name]})},r))})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-slate-800 mb-5 text-lg",children:"Legal"}),g.jsx("ul",{className:"space-y-3",children:n.legal.map((t,r)=>g.jsx(re.li,{whileHover:{x:5},children:g.jsxs("a",{href:t.href,className:"text-slate-600 hover:text-purple-600 transition-colors inline-flex items-center group",children:[g.jsx("span",{className:"w-0 h-0.5 bg-purple-600 group-hover:w-4 transition-all mr-0 group-hover:mr-2"}),t.name]})},r))})]})]}),g.jsx("div",{className:"border-t border-slate-300 pt-8 mb-6",children:g.jsx(re.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-2xl p-4 text-center",children:g.jsx("p",{className:"text-sm font-semibold text-purple-700",children:" Running on Localhost  Development Mode"})})}),g.jsxs("div",{className:"border-t border-slate-300 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsx("p",{className:"text-slate-600 text-center md:text-left",children:" 2025 NeuraMed | Powered by CereSukh AI. All rights reserved."}),g.jsxs("p",{className:"text-slate-500 flex items-center gap-2 text-center md:text-right",children:["Made with"," ",g.jsx(re.span,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:g.jsx(to,{className:"w-4 h-4 text-red-500 fill-red-500"})})," ","for your wellbeing"]})]})]})]})}function w6(){return g.jsx("section",{id:"research",className:"w-full py-20 bg-gray-50",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[g.jsx("h2",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Research"}),g.jsx("p",{className:"mt-4 text-gray-600",children:"Evidence-backed insights driving NeuraMed. Explore studies, methods, and ongoing work."}),g.jsxs("div",{className:"mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[g.jsxs("article",{className:"p-6 rounded-lg border border-gray-200 bg-white",children:[g.jsx("h3",{className:"font-semibold text-gray-900",children:"Study 1"}),g.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Brief description of a key finding or methodology."}),g.jsx("a",{href:"#",className:"mt-3 inline-block text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Read more "})]}),g.jsxs("article",{className:"p-6 rounded-lg border border-gray-200 bg-white",children:[g.jsx("h3",{className:"font-semibold text-gray-900",children:"Study 2"}),g.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Brief description of a key finding or methodology."}),g.jsx("a",{href:"#",className:"mt-3 inline-block text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Read more "})]}),g.jsxs("article",{className:"p-6 rounded-lg border border-gray-200 bg-white",children:[g.jsx("h3",{className:"font-semibold text-gray-900",children:"Ongoing Research"}),g.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"What we are testing next and how to participate."}),g.jsx("a",{href:"#",className:"mt-3 inline-block text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Get involved "})]})]})]})})}function x6(){const{signIn:n}=Ey(),e=vg(),[t,r]=L.useState(""),[s,a]=L.useState(""),[l,d]=L.useState(null),[f,p]=L.useState(!1),y=async x=>{x.preventDefault(),d(null),p(!0);try{await n(t.trim(),s),e("/",{replace:!0})}catch(E){d(_6(E?.code)||E?.message||"Sign-in failed")}finally{p(!1)}};return g.jsx("section",{className:"min-h-screen py-24 px-6 bg-gradient-to-b from-blue-50 via-green-50 to-teal-50 flex items-center",children:g.jsx("div",{className:"max-w-md w-full mx-auto",children:g.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("span",{className:"inline-block px-4 py-2 bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700 rounded-full text-sm font-semibold mb-4",children:"Welcome back"}),g.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Sign in to NeuraMed"}),g.jsx("p",{className:"text-slate-600 mt-2",children:"Continue your mindful journey"})]}),g.jsxs("form",{onSubmit:y,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-slate-700 font-medium mb-1",children:"Email"}),g.jsx("input",{id:"email",type:"email",value:t,onChange:x=>r(x.target.value),autoComplete:"email",required:!0,className:"w-full px-4 py-3 rounded-2xl border border-emerald-200 focus:outline-none focus:ring-2 focus:ring-emerald-300 bg-gradient-to-br from-emerald-50 to-teal-50"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-slate-700 font-medium mb-1",children:"Password"}),g.jsx("input",{id:"password",type:"password",value:s,onChange:x=>a(x.target.value),autoComplete:"current-password",required:!0,minLength:6,className:"w-full px-4 py-3 rounded-2xl border border-emerald-200 focus:outline-none focus:ring-2 focus:ring-emerald-300 bg-gradient-to-br from-emerald-50 to-teal-50"})]}),l&&g.jsx("p",{className:"text-sm text-red-600",children:l}),g.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-full py-3 font-semibold disabled:opacity-60",children:"Login"})]}),g.jsxs("p",{className:"text-center text-sm text-slate-600 mt-6",children:["No account? ",g.jsx(St,{to:"/signup",className:"text-emerald-700 font-semibold hover:underline",children:"Create one"})]})]})})})}function _6(n){switch(n){case"auth/invalid-email":return"Invalid email address.";case"auth/user-disabled":return"Account disabled.";case"auth/user-not-found":return"No user found with this email.";case"auth/wrong-password":return"Incorrect password.";default:return}}function E6(){const{signUp:n}=Ey(),e=vg(),[t,r]=L.useState(""),[s,a]=L.useState(""),[l,d]=L.useState(""),[f,p]=L.useState(null),[y,x]=L.useState(!1),E=async A=>{if(A.preventDefault(),p(null),s!==l){p("Passwords do not match.");return}x(!0);try{await n(t.trim(),s),e("/",{replace:!0})}catch(M){p(b6(M?.code)||M?.message||"Signup failed")}finally{x(!1)}};return g.jsxs("div",{style:{maxWidth:420,margin:"8vh auto",background:"#fff",padding:28,borderRadius:12,boxShadow:"0 6px 20px rgba(0,0,0,0.08)"},children:[g.jsx("h1",{style:{marginTop:0},children:"Create account"}),g.jsxs("form",{onSubmit:E,children:[g.jsx("label",{htmlFor:"email",children:"Email"}),g.jsx("input",{id:"email",type:"email",value:t,onChange:A=>r(A.target.value),autoComplete:"email",required:!0,style:Op}),g.jsx("label",{htmlFor:"password",children:"Password"}),g.jsx("input",{id:"password",type:"password",value:s,onChange:A=>a(A.target.value),autoComplete:"new-password",required:!0,minLength:6,style:Op}),g.jsx("label",{htmlFor:"confirm",children:"Confirm password"}),g.jsx("input",{id:"confirm",type:"password",value:l,onChange:A=>d(A.target.value),autoComplete:"new-password",required:!0,minLength:6,style:Op}),g.jsx("button",{type:"submit",disabled:y,style:T6,children:"Sign up"}),f&&g.jsx("p",{style:{color:"#b91c1c",fontSize:13},children:f})]}),g.jsxs("p",{style:{fontSize:13,color:"#666"},children:["Already have an account? ",g.jsx(St,{to:"/login",children:"Sign in"})]})]})}const Op={width:"100%",padding:"10px 12px",border:"1px solid #dcdfe4",borderRadius:8,margin:"6px 0 12px"},T6={width:"100%",marginTop:4,padding:12,background:"#10b981",color:"#fff",border:0,borderRadius:8,fontWeight:600,cursor:"pointer"};function b6(n){switch(n){case"auth/email-already-in-use":return"Email already in use.";case"auth/invalid-email":return"Invalid email address.";case"auth/operation-not-allowed":return"Email/password accounts are not enabled.";case"auth/weak-password":return"Password is too weak (min 6 chars).";default:return}}function I6(){const n=L.useRef(null),e=L.useRef(null),t=L.useRef(null);return L.useEffect(()=>{const s=["red","blue","green","yellow","purple","pink"],a=["","","","","",""];let l=[],d=0,f=null,p=!1,y=!1;const x=document.getElementById("grid"),E=document.getElementById("score"),A=document.getElementById("miniCelebration"),M=document.getElementById("bgMusic"),R=document.getElementById("popSound");function I(){!M||!x||!E||(M.volume=.3,M.play().catch(()=>{}),j())}function j(){if(x){x.innerHTML="",l=[],x.style.gridTemplateColumns="repeat(6,1fr)";for(let G=0;G<6;G++){l[G]=[];for(let Y=0;Y<6;Y++){let J;do J=s[Math.floor(Math.random()*s.length)];while(U(G,Y,J));l[G][Y]=J;const O=document.createElement("div");O.className=`candy ${J}`,O.textContent=a[s.indexOf(J)],O.setAttribute("data-row",String(G)),O.setAttribute("data-col",String(Y)),O.onclick=()=>q(G,Y),x.appendChild(O)}}}}function U(G,Y,J){let O=1;return Y>0&&l[G][Y-1]===J&&O++,Y>1&&l[G][Y-2]===J&&O++,O>=3?!0:(O=1,G>0&&l[G-1]&&l[G-1][Y]===J&&O++,G>1&&l[G-2]&&l[G-2][Y]===J&&O++,O>=3)}function q(G,Y){if(p)return;const J=document.querySelector(`[data-row="${G}"][data-col="${Y}"]`);if(J)if(f){if(document.querySelector(".selected")?.classList.remove("selected"),f.r===G&&f.c===Y){f=null;return}ee(f,{r:G,c:Y})?(ne(f,{r:G,c:Y}),f=null):(f={r:G,c:Y},J.classList.add("selected"))}else f={r:G,c:Y},J.classList.add("selected")}function ee(G,Y){const J=Math.abs(G.r-Y.r),O=Math.abs(G.c-Y.c);return J===1&&O===0||J===0&&O===1}function ne(G,Y){p=!0,[l[G.r][G.c],l[Y.r][Y.c]]=[l[Y.r][Y.c],l[G.r][G.c]],S(),setTimeout(()=>{le().length?k():([l[G.r][G.c],l[Y.r][Y.c]]=[l[Y.r][Y.c],l[G.r][G.c]],S(),p=!1)},300)}function le(){const G=[];for(let Y=0;Y<6;Y++){let J=1,O=l[Y][0];for(let X=1;X<6;X++)if(l[Y][X]===O)J++;else{if(J>=3)for(let _e=X-J;_e<X;_e++)G.push({r:Y,c:_e});J=1,O=l[Y][X]}if(J>=3)for(let X=6-J;X<6;X++)G.push({r:Y,c:X})}for(let Y=0;Y<6;Y++){let J=1,O=l[0][Y];for(let X=1;X<6;X++)if(l[X][Y]===O)J++;else{if(J>=3)for(let _e=X-J;_e<X;_e++)G.push({r:_e,c:Y});J=1,O=l[X][Y]}if(J>=3)for(let X=6-J;X<6;X++)G.push({r:X,c:Y})}return G}function k(){const G=le();if(!G.length){p=!1;return}N(),G.forEach(Y=>{const J=document.querySelector(`[data-row="${Y.r}"][data-col="${Y.c}"]`);J&&J.classList.add("popping"),l[Y.r][Y.c]=null,!y&&R&&(R.currentTime=0,R.play().catch(()=>{}))}),d+=G.length*10,E&&(E.textContent=String(d)),setTimeout(()=>b(),400)}function b(){let G=!1;for(let Y=0;Y<6;Y++){let J=5;for(let O=5;O>=0;O--)l[O][Y]&&(O!==J&&(l[J][Y]=l[O][Y],l[O][Y]=null,G=!0),J--);for(let O=J;O>=0;O--)l[O][Y]=s[Math.floor(Math.random()*s.length)],G=!0}S(),G?setTimeout(()=>k(),500):p=!1}function S(){for(let G=0;G<6;G++)for(let Y=0;Y<6;Y++){const J=document.querySelector(`[data-row="${G}"][data-col="${Y}"]`),O=l[G][Y];J&&O&&(J.className=`candy ${O}`,J.textContent=a[s.indexOf(O)])}}function N(){if(A)for(let G=0;G<6;G++){const Y=document.createElement("div");Y.className="falling-candy",Y.textContent=a[Math.floor(Math.random()*a.length)],Y.style.left=Math.random()*100+"%",Y.style.animationDelay=Math.random()*.5+"s",A.appendChild(Y),setTimeout(()=>Y.remove(),2500)}}function V(){d=0,E&&(E.textContent="0"),f=null,p=!1,j()}function F(){V()}function P(){y=!y;const G=t.current;!M||!G||(y?(M.pause(),G.textContent=""):(M.play().catch(()=>{}),G.textContent=""))}const ye=n.current,Pe=e.current,Ve=t.current;ye?.addEventListener("click",V),Pe?.addEventListener("click",F),Ve?.addEventListener("click",P);const Ie=()=>{!y&&M&&M.paused&&M.play().catch(()=>{}),window.removeEventListener("click",Ie)};return window.addEventListener("click",Ie),I(),()=>{if(ye?.removeEventListener("click",V),Pe?.removeEventListener("click",F),Ve?.removeEventListener("click",P),window.removeEventListener("click",Ie),M)try{M.pause()}catch{}}},[]),g.jsxs("div",{children:[g.jsx("style",{children:`
        *{margin:0;padding:0;box-sizing:border-box}
        .header{display:flex;justify-content:space-between;align-items:center;width:100%;max-width:400px;margin-bottom:15px;flex-wrap:wrap;gap:10px}
        .score-section{text-align:center;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.4)}
        .score{font-size:30px;font-weight:bold}
        .controls{display:flex;gap:8px;align-items:center}
        button{padding:8px 15px;border:none;border-radius:20px;background:linear-gradient(45deg,#ff6b6b,#ee5a24);color:#fff;font-weight:bold;cursor:pointer;transition:transform .2s;box-shadow:0 3px 10px rgba(0,0,0,.2);font-size:18px}
        button:hover{transform:translateY(-2px)}
        .mute-btn{background:linear-gradient(45deg,#74b9ff,#0984e3);padding:8px;border-radius:50%;width:35px;height:35px}
        .game-container{background:rgba(255,255,255,.95);border-radius:15px;padding:15px;box-shadow:0 8px 25px rgba(0,0,0,.15);transform:scale(1.5);transform-origin:top center;margin-top:20px}
        .grid{display:grid;grid-template-columns:repeat(6,1fr);gap:3px;background:#333;border-radius:8px;padding:5px}
        .candy{width:45px;height:45px;border-radius:8px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;font-size:24px;user-select:none;position:relative}
        .candy:hover{transform:scale(1.1);box-shadow:0 0 15px rgba(255,255,255,.9)}
        .candy.selected{transform:scale(1.15);box-shadow:0 0 20px #fff;border:2px solid #fff}
        .candy.red{background:linear-gradient(45deg,#ff6b6b,#ee5a24)}
        .candy.blue{background:linear-gradient(45deg,#74b9ff,#0984e3)}
        .candy.green{background:linear-gradient(45deg,#00b894,#00a085)}
        .candy.yellow{background:linear-gradient(45deg,#fdcb6e,#e17055)}
        .candy.purple{background:linear-gradient(45deg,#a29bfe,#6c5ce7)}
        .candy.pink{background:linear-gradient(45deg,#fd79a8,#e84393)}
        .candy.popping{animation:pop .4s ease-out forwards}
        @keyframes pop{0%{transform:scale(1);opacity:1}50%{transform:scale(1.3);opacity:.7}100%{transform:scale(0);opacity:0}}
        .candy.falling{animation:fall .5s ease-in forwards}
        @keyframes fall{0%{transform:translateY(-100px);opacity:0}100%{transform:translateY(0);opacity:1}}
        .mini-celebration{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000;overflow:hidden}
        .falling-candy{position:absolute;font-size:30px;animation:candyFall 2.5s linear forwards}
        @keyframes candyFall{0%{transform:translateY(-10vh) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(720deg);opacity:0}}
        .wrapper{font-family:"Comic Sans MS",cursive;background:linear-gradient(45deg,#ff9a9e,#fecfef,#fad0c4,#ffd1ff);min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:10px;overflow-x:hidden}
      `}),g.jsxs("div",{className:"wrapper",children:[g.jsxs("div",{className:"header",children:[g.jsx("div",{className:"score-section",children:g.jsxs("div",{className:"score",children:["Score: ",g.jsx("span",{id:"score",children:"0"})]})}),g.jsxs("div",{className:"controls",children:[g.jsx("button",{ref:n,children:" New Game"}),g.jsx("button",{ref:e,children:" Restart"}),g.jsx("button",{className:"mute-btn",ref:t,id:"muteBtn",children:""})]})]}),g.jsx("div",{className:"game-container",children:g.jsx("div",{className:"grid",id:"grid"})}),g.jsx("div",{className:"mini-celebration",id:"miniCelebration"}),g.jsx("audio",{id:"bgMusic",loop:!0,children:g.jsx("source",{src:"https://actions.google.com/sounds/v1/ambiences/game_background.ogg",type:"audio/ogg"})}),g.jsx("audio",{id:"popSound",children:g.jsx("source",{src:"https://actions.google.com/sounds/v1/cartoon/pop.ogg",type:"audio/ogg"})})]})]})}function S6(){return g.jsxs("div",{className:"min-h-screen bg-white",children:[g.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6 flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Sweet Candy Match"}),g.jsx(St,{to:"/",className:"text-blue-600 hover:underline",children:" Back to Home"})]}),g.jsx("div",{className:"max-w-5xl mx-auto px-4 pb-10",children:g.jsx(I6,{})})]})}function C6(){return L.useEffect(()=>{let n=0,e={hint:"",options:[],correct:0},t=[];const r=[{hint:"I'm too tired of working the whole day.",options:["Go to sleep","Have a meal","Talk to a friend"],correct:0},{hint:"I feel so lonely and isolated.",options:["Exercise alone","Call a friend","Stay in bed"],correct:1},{hint:"I haven't eaten anything today.",options:["Skip another meal","Order some food","Just drink water"],correct:1},{hint:"I feel overwhelmed with everything.",options:["Take deep breaths","Panic more","Ignore it"],correct:0},{hint:"I can't stop thinking negative thoughts.",options:["Think more","Go for a walk","Stay inside"],correct:1},{hint:"I feel like I have no energy.",options:["Stay in bed","Get some sunlight","Drink coffee only"],correct:1},{hint:"I'm stressed about my future.",options:["Worry more","Make a plan","Give up"],correct:1},{hint:"I feel disconnected from others.",options:["Isolate more","Reach out to someone","Stay alone"],correct:1},{hint:"I can't focus on anything.",options:["Try meditation","Watch TV all day","Stress about it"],correct:0},{hint:"I feel worthless and useless.",options:["Believe it","List your achievements","Compare to others"],correct:1},{hint:"I'm having trouble sleeping at night.",options:["Drink more coffee","Create a bedtime routine","Use phone in bed"],correct:1},{hint:"I don't feel motivated to do anything.",options:["Force yourself","Start with small tasks","Give up completely"],correct:1},{hint:"I'm constantly comparing myself to others.",options:["Compare more","Focus on your journey","Feel worse about it"],correct:1},{hint:"I feel like I have crying all the time.",options:["Hold it in","Let it out safely","Feel ashamed"],correct:1},{hint:"I'm avoiding all my responsibilities.",options:["Avoid more","Take one small step","Panic about it"],correct:1},{hint:"I feel like nobody understands me.",options:["Stay silent","Express your feelings","Assume the worst"],correct:1},{hint:"I'm scared of failing at everything.",options:["Don't try anything","Accept failure as learning","Worry constantly"],correct:1},{hint:"I feel physically drained and weak.",options:["Ignore your body","Get some exercise","Stay sedentary"],correct:1},{hint:"I can't enjoy things I used to love.",options:["Force enjoyment","Try new small activities","Give up hobbies"],correct:1},{hint:"I feel guilty about everything I do.",options:["Feel more guilty","Practice self-compassion","Blame yourself more"],correct:1}];function s(I){document.getElementById("genderSelection")?.classList.add("hidden"),document.getElementById("gameScreen")?.classList.remove("hidden"),a(),l()}function a(){const I=document.getElementById("avatar");I&&(I.classList.add("avatar-happy"),setTimeout(()=>I.classList.remove("avatar-happy"),600),n<30?I.textContent="":n<60?I.textContent="":n<90?I.textContent="":I.textContent="")}function l(){t.length===r.length&&(t=[]);const I=r.filter((le,k)=>!t.includes(k)),j=Math.floor(Math.random()*I.length);e=I[j];const U=r.indexOf(e);t.push(U);const q=document.getElementById("hint");q&&(q.textContent=e.hint);const ee=document.getElementById("options");if(!ee)return;ee.innerHTML="",e.options.forEach((le,k)=>{const b=document.createElement("button");b.className="option-btn",b.textContent=le,b.onclick=()=>d(k),ee.appendChild(b)});const ne=document.getElementById("message");ne&&(ne.textContent="")}function d(I){const j=document.getElementById("message");j&&(I===e.correct?(n+=10,f(),a(),j.textContent="Great choice! +10 points",j.className="message success",A(),n>=100?setTimeout(p,1e3):setTimeout(l,1500)):(j.textContent="Try again...",j.className="message error",M()))}function f(){const I=document.getElementById("scoreValue"),j=document.getElementById("progressBar");I&&(I.textContent=String(n)),j&&(j.style.width=n+"%")}function p(){document.getElementById("gameScreen")?.classList.add("hidden"),document.getElementById("victoryScreen")?.classList.remove("hidden"),document.body.classList.add("celebration"),y(),x(),R()}function y(){const I=document.getElementById("balloons");if(!I)return;const j=["","","","","","","","","",""];for(let U=0;U<30;U++)setTimeout(()=>{const q=document.createElement("div");q.className="balloon",q.textContent=j[Math.floor(Math.random()*j.length)],q.style.left=Math.random()*100+"%",q.style.animationDelay=Math.random()*2+"s",q.style.animationDuration=2+Math.random()*2+"s",I.appendChild(q),setTimeout(()=>q.remove(),4e3)},U*150)}function x(){const I=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff"];for(let j=0;j<15;j++)setTimeout(()=>{const U=document.createElement("div");U.className="firework",U.style.background=I[Math.floor(Math.random()*I.length)],U.style.left=Math.random()*100+"%",U.style.top=Math.random()*100+"%",U.style.animation="firework 1s ease-out",document.body.appendChild(U),setTimeout(()=>U.remove(),1e3)},j*300)}function E(){n=0,t=[],document.body.classList.remove("celebration"),document.getElementById("victoryScreen")?.classList.add("hidden"),document.getElementById("genderSelection")?.classList.remove("hidden");const I=document.getElementById("balloons");I&&(I.innerHTML="")}function A(){try{const I=new(window.AudioContext||window.webkitAudioContext),j=I.createOscillator(),U=I.createGain();j.connect(U),U.connect(I.destination),j.frequency.setValueAtTime(523,I.currentTime),j.frequency.setValueAtTime(659,I.currentTime+.1),j.frequency.setValueAtTime(784,I.currentTime+.2),j.type="sine",U.gain.setValueAtTime(.3,I.currentTime),U.gain.exponentialRampToValueAtTime(.01,I.currentTime+.4),j.start(I.currentTime),j.stop(I.currentTime+.4)}catch{}}function M(){try{const I=new(window.AudioContext||window.webkitAudioContext),j=I.createOscillator(),U=I.createGain();j.connect(U),U.connect(I.destination),j.frequency.value=150,j.type="sawtooth",U.gain.setValueAtTime(.2,I.currentTime),U.gain.exponentialRampToValueAtTime(.01,I.currentTime+.3),j.start(I.currentTime),j.stop(I.currentTime+.3)}catch{}}function R(){try{const I=new(window.AudioContext||window.webkitAudioContext);[523,659,784,1047,1319].forEach((U,q)=>{setTimeout(()=>{const ee=I.createOscillator(),ne=I.createGain();ee.connect(ne),ne.connect(I.destination),ee.frequency.value=U,ee.type="sine",ne.gain.setValueAtTime(.3,I.currentTime),ne.gain.exponentialRampToValueAtTime(.01,I.currentTime+.3),ee.start(I.currentTime),ee.stop(I.currentTime+.3)},q*150)})}catch{}}return window.selectGender=s,window.restartGame=E,()=>{delete window.selectGender,delete window.restartGame}},[]),g.jsxs("div",{children:[g.jsx("style",{children:`
        *{margin:0;padding:0;box-sizing:border-box}
        .container{text-align:center;max-width:500px;padding:30px;background:rgba(255,255,255,.9);border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,.1);backdrop-filter:blur(10px);margin:0 auto}
        .avatar{font-size:80px;margin:20px 0;transition:all .5s ease;animation:breathe 2s ease-in-out infinite}
        @keyframes breathe{0%,100%{transform:scale(1) rotate(0)}25%{transform:scale(1.08) rotate(-2deg)}75%{transform:scale(1.08) rotate(2deg)}}
        .avatar-happy{animation:bounce .6s ease-in-out}
        @keyframes bounce{0%,100%{transform:scale(1) translateY(0)}50%{transform:scale(1.2) translateY(-10px)}}
        .progress-container{width:100%;height:20px;background:#e0e0e0;border-radius:10px;margin:20px 0;overflow:hidden}
        .progress-bar{height:100%;background:linear-gradient(90deg,#ff9a9e,#fecfef,#fecfef);width:0%;transition:width .5s ease;border-radius:10px}
        .score{font-size:24px;color:#6a1b9a;margin:10px 0;font-weight:bold}
        .hint{font-size:18px;color:#424242;margin:20px 0;padding:15px;background:#f5f5f5;border-radius:10px;border-left:4px solid #9c27b0}
        .options{display:flex;flex-direction:column;gap:10px;margin:20px 0}
        .option-btn{padding:15px 20px;border:none;border-radius:25px;background:linear-gradient(135deg,#81c784,#aed581);color:#fff;font-size:16px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px rgba(0,0,0,.1)}
        .option-btn:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 25px rgba(0,0,0,.2);background:linear-gradient(135deg,#66bb6a,#9ccc65)}
        .option-btn:active{transform:translateY(0) scale(.98)}
        .gender-btn{padding:20px 30px;margin:10px;border:none;border-radius:20px;background:linear-gradient(135deg,#64b5f6,#81c784);color:#fff;font-size:18px;cursor:pointer;transition:all .3s ease}
        .gender-btn:hover{transform:scale(1.05)}
        .message{font-size:18px;margin:15px 0;padding:10px;border-radius:10px;transition:all .3s ease}
        .success{background:#c8e6c9;color:#2e7d32}
        .error{background:#ffcdd2;color:#c62828}
        .celebration{background:linear-gradient(45deg,#ff9a9e,#fecfef,#fecfef,#a8edea,#fed6e3);background-size:400% 400%;animation:gradientShift 3s ease infinite}
        @keyframes gradientShift{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
        .balloons{position:fixed;top:-50px;width:100%;height:100vh;pointer-events:none;z-index:1000}
        .balloon{position:absolute;font-size:30px;animation:fall 3s linear infinite}
        @keyframes fall{0%{transform:translateY(-50px) rotate(0) scale(.5);opacity:0}10%{opacity:1;transform:translateY(0) rotate(36deg) scale(1)}100%{transform:translateY(100vh) rotate(720deg) scale(.8);opacity:.7}}
        .hidden{display:none}
        h1{color:#6a1b9a;margin-bottom:20px;font-size:28px}
        .final-message{font-size:24px;color:#6a1b9a;font-weight:bold;margin:20px 0;animation:rainbow-text 2s ease-in-out infinite,bounce-text 1s ease-in-out infinite}
        @keyframes rainbow-text{0%{color:#ff6b6b}16%{color:#feca57}33%{color:#48dbfb}50%{color:#ff9ff3}66%{color:#54a0ff}83%{color:#5f27cd}100%{color:#ff6b6b}}
        @keyframes bounce-text{0%,100%{transform:scale(1) translateY(0)}50%{transform:scale(1.05) translateY(-5px)}}
        .restart-btn{padding:15px 30px;margin:20px 10px;border:none;border-radius:25px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:16px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px rgba(0,0,0,.2)}
        .restart-btn:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 6px 20px rgba(0,0,0,.3)}
        .firework{position:fixed;width:4px;height:4px;border-radius:50%;pointer-events:none;z-index:1001}
        @keyframes firework{0%{transform:scale(0) rotate(0);opacity:1}100%{transform:scale(20) rotate(360deg);opacity:0}}
      `}),g.jsxs("div",{className:"container",children:[g.jsxs("div",{id:"genderSelection",children:[g.jsx("h1",{children:"Heal the Depressed Avatar"}),g.jsx("p",{style:{marginBottom:30,color:"#666"},children:"Choose your avatar:"}),g.jsx("button",{className:"gender-btn",onClick:()=>window.selectGender(""),children:"Male "}),g.jsx("button",{className:"gender-btn",onClick:()=>window.selectGender(""),children:"Female "})]}),g.jsxs("div",{id:"gameScreen",className:"hidden",children:[g.jsxs("div",{className:"score",children:["Score: ",g.jsx("span",{id:"scoreValue",children:"0"}),"/100"]}),g.jsx("div",{className:"progress-container",children:g.jsx("div",{className:"progress-bar",id:"progressBar"})}),g.jsx("div",{className:"avatar",id:"avatar",children:""}),g.jsx("div",{className:"hint",id:"hint"}),g.jsx("div",{className:"options",id:"options"}),g.jsx("div",{className:"message",id:"message"})]}),g.jsxs("div",{id:"victoryScreen",className:"hidden",children:[g.jsx("div",{className:"avatar",children:""}),g.jsx("div",{className:"final-message",children:"THANK YOU  YOU MADE ME HAPPY!"}),g.jsx("button",{className:"restart-btn",onClick:()=>window.restartGame(),children:" Play Again"})]})]}),g.jsx("div",{className:"balloons",id:"balloons"})]})}function A6(){return g.jsxs("div",{className:"min-h-screen bg-white",children:[g.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6 flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Heal the Depressed Avatar"}),g.jsx(St,{to:"/",className:"text-blue-600 hover:underline",children:" Back to Home"})]}),g.jsx("div",{className:"max-w-5xl mx-auto px-4 pb-10",children:g.jsx(C6,{})})]})}function k6(){return L.useEffect(()=>{const n=[{text:"Form a 5-letter word for a fruit  starting with 'A':",letters:["T","E","P","L","P","S","A","N"],answers:["APPLE"]},{text:"Find a 5-letter word for a place where we study :",letters:["H","C","S","L","O","L","H","O"],answers:["SCHOOL"]},{text:"Create a 5-letter word meaning 'feeling good ':",letters:["A","H","P","E","Y","L","P","E"],answers:["HAPPY"]},{text:"Find a 5-letter word for a color  starting with 'G':",letters:["G","N","Z","E","R","L","E","P"],answers:["GREEN"]},{text:"Form a 5-letter word for 'something you drink ':",letters:["W","A","T","E","R","S","O","N"],answers:["WATER"]},{text:"Make a 6-letter word for 'a place to live ':",letters:["H","O","U","S","E","S","T","R"],answers:["HOUSE"]},{text:"Find a 5-letter word for a season :",letters:["S","P","R","I","N","G","S","L"],answers:["SPRING"]},{text:"Form a 5-letter word meaning 'friend ':",letters:["F","R","I","E","N","D","S","O"],answers:["FRIEND"]},{text:"Make a 6-letter word for a flying bird :",letters:["P","I","G","E","O","N","S","A"],answers:["PIGEON"]},{text:"Create a 5-letter word for 'sleep time ':",letters:["N","I","G","H","T","D","Y","S"],answers:["NIGHT"]}];let e=[],t,r=[],s=0,a,l=60;const d=document.getElementById("question"),f=document.getElementById("letters"),p=document.getElementById("answer-box"),y=document.getElementById("feedback"),x=document.getElementById("score"),E=document.getElementById("time");function A(){s=0,e=[],R(),M()}function M(){a&&window.clearInterval(a),l=60,E&&(E.textContent=String(l)),a=window.setInterval(()=>{l--,E&&(E.textContent=String(l)),l<=0&&(a&&window.clearInterval(a),ne())},1e3)}function R(){if(!d||!f)return;if(e.length===n.length){y&&(y.textContent=" You completed all questions!",y.className="correct"),a&&window.clearInterval(a);return}let k;do k=n[Math.floor(Math.random()*n.length)];while(e.includes(k));e.push(k),t=k,d.textContent=k.text,f.innerHTML="",k.letters.forEach(b=>{const S=document.createElement("span");S.textContent=b,S.className="alphabet-block",S.onclick=()=>{r.push(b),I()},f.appendChild(S)}),r=[],I(),y&&(y.textContent="")}function I(){p&&(p.textContent=r.join(""))}const j=document.getElementById("submit"),U=document.getElementById("restart");function q(){const k=r.join("").toUpperCase();t.answers.includes(k)?(s+=10,y&&(y.textContent=" Correct!",y.className="correct"),x&&(x.textContent=String(s)),le(),window.setTimeout(R,1e3)):y&&(y.textContent=" Try again!",y.className="incorrect")}function ee(){A()}function ne(){y&&(y.textContent=" Times up! Correct answer: "+t.answers[0],y.className="incorrect"),window.setTimeout(()=>{R(),M()},1e4)}function le(){for(let k=0;k<15;k++){const b=document.createElement("div");b.className="confetti",b.style.left=Math.random()*100+"%",b.style.background=`hsl(${Math.random()*360},80%,60%)`,document.body.appendChild(b),window.setTimeout(()=>b.remove(),3e3)}}return j?.addEventListener("click",q),U?.addEventListener("click",ee),A(),()=>{j?.removeEventListener("click",q),U?.removeEventListener("click",ee),a&&window.clearInterval(a)}},[]),g.jsxs("div",{children:[g.jsx("style",{children:`
        *{margin:0;padding:0;box-sizing:border-box;font-family:"Comic Sans MS",cursive}
        body.word-puzzle-scope{background:linear-gradient(45deg,#fceabb,#f8b500)}
        h1{font-size:2.5rem;margin-bottom:10px;color:#ff6f00;text-shadow:1px 1px #fff}
        #game-container{background:#fffbea;padding:20px 30px;border-radius:20px;box-shadow:0 4px 15px rgba(0,0,0,0.2);text-align:center;width:90%;max-width:500px;margin:0 auto}
        #question{font-size:1.2rem;margin:10px 0 20px;color:#444}
        #letters{margin-bottom:20px}
        .alphabet-block{display:inline-block;margin:5px;padding:10px 14px;font-size:1.4rem;border-radius:10px;background-color:#ffb6c1;color:#fff;cursor:pointer;transition:transform .3s ease, background-color .3s ease}
        .alphabet-block:hover{transform:scale(1.15);background-color:#ff8fab}
        #answer-box{min-height:40px;margin-bottom:10px;font-size:1.4rem;color:#222}
        button{background:#ffca28;border:none;padding:10px 20px;margin:5px;border-radius:10px;cursor:pointer;font-size:1rem;transition:background .3s ease}
        button:hover{background:#ffc107}
        #feedback{font-size:1.2rem;height:25px;margin-top:10px}
        #feedback.correct{color:#00c853}
        #feedback.incorrect{color:#e53935}
        #score-board{margin-top:15px;font-size:1.1rem;color:#555}
        #timer{font-size:1.3rem;margin-top:8px;color:#ff3d00;font-weight:bold}
        .confetti{position:absolute;width:8px;height:8px;opacity:.8;border-radius:50%;animation:softFall 3s ease-in-out forwards}
        @keyframes softFall{from{transform:translateY(-10px) rotate(0);opacity:1}to{transform:translateY(300px) rotate(180deg);opacity:0}}
      `}),g.jsxs("div",{className:"word-puzzle-scope px-4 py-6",children:[g.jsx("h1",{children:" Word Puzzle Game"}),g.jsxs("div",{id:"game-container",children:[g.jsx("div",{id:"question"}),g.jsx("div",{id:"letters"}),g.jsx("div",{id:"answer-box"}),g.jsx("button",{id:"submit",children:"Submit"}),g.jsx("button",{id:"restart",children:"Restart"}),g.jsx("div",{id:"feedback"}),g.jsxs("div",{id:"score-board",children:["Score: ",g.jsx("span",{id:"score",children:"0"})]}),g.jsxs("div",{id:"timer",children:["Time Left: ",g.jsx("span",{id:"time",children:"60"}),"s"]})]})]})]})}function P6(){return g.jsxs("div",{className:"min-h-screen bg-white",children:[g.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6 flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Word Puzzle Game"}),g.jsx(St,{to:"/",className:"text-blue-600 hover:underline",children:" Back to Home"})]}),g.jsx("div",{className:"max-w-5xl mx-auto px-4 pb-10",children:g.jsx(k6,{})})]})}function R6(){return g.jsx("main",{className:"min-h-screen",children:g.jsx(xI,{})})}const N6={iceServers:[{urls:["stun:stun.l.google.com:19302"]}],iceCandidatePoolSize:10};function D6(n,e){const t=L.useRef(null),r=L.useRef(null),s=L.useRef(null),[a,l]=L.useState(""),[d,f]=L.useState(null),[p,y]=L.useState(!1),[x,E]=L.useState(!0),[A,M]=L.useState(!0),R=L.useRef(null),I=L.useRef(null);function j(){if(!t.current||t.current.signalingState==="closed"){t.current=new RTCPeerConnection(N6);const k=new MediaStream;I.current=k,s.current&&(s.current.srcObject=k),t.current.ontrack=b=>b.streams[0].getTracks().forEach(S=>k.addTrack(S))}return t.current}L.useEffect(()=>{async function k(){const b=j(),S=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});R.current=S,r.current&&(r.current.srcObject=S,await r.current.play().catch(()=>{})),b.getSenders().forEach(N=>{try{b.removeTrack(N)}catch{}}),S.getTracks().forEach(N=>b.addTrack(N,S))}return k(),()=>{try{t.current?.getSenders().forEach(b=>b.track?.stop()),t.current?.close()}catch{}}},[]);async function U(){const k=j(),b=as(on(Ln,"calls")),S=on(b,"offerCandidates"),N=on(b,"answerCandidates");f(b.id),k.onicecandidate=async P=>{P.candidate&&await _a(S,P.candidate.toJSON())};const V=await k.createOffer();await k.setLocalDescription(V);const F={sdp:V.sdp,type:V.type,createdAt:Date.now()};await xa(b,{offer:F}),ti(b,P=>{const Pe=P.data()?.answer;if(k.signalingState!=="closed"&&!k.currentRemoteDescription&&Pe){const Ve=new RTCSessionDescription(Pe);k.setRemoteDescription(Ve),y(!0)}}),ti(N,P=>{P.docChanges().forEach(ye=>{if(ye.type==="added"&&k.signalingState!=="closed"){const Pe=new RTCIceCandidate(ye.doc.data());k.addIceCandidate(Pe)}})})}async function q(){const k=j(),b=as(Ln,"calls",a),S=(await pI(b)).data();if(!S?.offer)return alert("Invalid Call ID");k.onicecandidate=async F=>{F.candidate&&await _a(on(b,"answerCandidates"),F.candidate.toJSON())};const N=S.offer;await k.setRemoteDescription(new RTCSessionDescription(N));const V=await k.createAnswer();await k.setLocalDescription(V),await xa(b,{answer:{type:V.type,sdp:V.sdp,createdAt:Date.now()}},{merge:!0}),ti(on(b,"offerCandidates"),F=>{F.docChanges().forEach(P=>{P.type==="added"&&k.addIceCandidate(new RTCIceCandidate(P.doc.data()))})}),y(!0)}async function ee(){try{t.current?.getSenders().forEach(k=>k.track?.stop()),t.current?.close()}catch{}if(t.current=null,d){const k=as(Ln,"calls",d);try{await gI(k)}catch{}}y(!1),f(null),l("")}function ne(){const k=R.current;if(!k)return;const b=!x;k.getAudioTracks().forEach(S=>S.enabled=b),E(b)}function le(){const k=R.current;if(!k)return;const b=!A;k.getVideoTracks().forEach(S=>S.enabled=b),M(b)}return L.useImperativeHandle(e,()=>({toggleMic:ne,toggleCam:le}),[x,A]),g.jsx("div",{className:"max-w-6xl mx-auto",children:g.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border border-white",children:[g.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[g.jsx("video",{ref:r,muted:!0,playsInline:!0,className:"w-full md:w-1/2 rounded-2xl bg-black/80 aspect-video"}),g.jsx("video",{ref:s,playsInline:!0,className:"w-full md:w-1/2 rounded-2xl bg-black/80 aspect-video"})]}),g.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3",children:[!p&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:U,className:"px-4 py-2 rounded-full text-white font-semibold bg-blue-600 hover:bg-blue-700",children:"Create Call"}),d&&g.jsxs("span",{className:"text-sm text-slate-700",children:["Share Call ID: ",g.jsx("code",{className:"font-mono bg-slate-100 px-2 py-1 rounded",children:d})]}),g.jsx("input",{value:a,onChange:k=>l(k.target.value),placeholder:"Enter Call ID to join",className:"px-3 py-2 border rounded-full"}),g.jsx("button",{onClick:q,className:"px-4 py-2 rounded-full text-white font-semibold bg-emerald-600 hover:bg-emerald-700",children:"Join Call"})]}),p&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:ne,className:"px-4 py-2 rounded-full bg-slate-200 hover:bg-slate-300 font-semibold",children:x?"Mute":"Unmute"}),g.jsx("button",{onClick:le,className:"px-4 py-2 rounded-full bg-slate-200 hover:bg-slate-300 font-semibold",children:A?"Camera Off":"Camera On"}),g.jsx("button",{onClick:ee,className:"px-4 py-2 rounded-full text-white font-semibold bg-red-600 hover:bg-red-700",children:"End Call"})]})]})]})})}const _I=L.forwardRef(D6);function V6(){const n=L.useRef(null);return g.jsx("main",{className:"min-h-screen py-16 px-6 bg-gradient-to-b from-blue-50 via-green-50 to-teal-50",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"1:1 Session with Therapist"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>n.current?.toggleMic(),className:"px-3 py-2 rounded-full bg-slate-200 hover:bg-slate-300 text-slate-800 font-semibold",children:"Mic On/Off"}),g.jsx("button",{onClick:()=>n.current?.toggleCam(),className:"px-3 py-2 rounded-full bg-slate-200 hover:bg-slate-300 text-slate-800 font-semibold",children:"Camera On/Off"}),g.jsx(St,{to:"/support",className:"text-emerald-700 hover:underline ml-2",children:" Back"})]})]}),g.jsx("p",{className:"text-slate-600 mb-6",children:"Create a call and share the Call ID, or join an existing session with a Call ID shared by your therapist."}),g.jsx(_I,{ref:n})]})})}const M6=[{id:"fidget-cube",name:"Fidget Cube",price:12.99,image:"https://placehold.co/300x220/d1c4e9/FFFFFF?text=Fidget+Cube"},{id:"infinity-spinner",name:"Infinity Spinner",price:19.99,image:"https://placehold.co/300x220/e0f7fa/333333?text=Spinner"},{id:"aroma-candles",name:"Aroma Candles",price:15.5,image:"https://placehold.co/300x220/fff3e0/333333?text=Aroma+Candles"},{id:"weighted-blanket",name:"Weighted Blanket",price:59,image:"https://placehold.co/300x220/e1f5fe/333333?text=Weighted+Blanket"},{id:"mind-journal",name:"Mindfulness Journal",price:9.99,image:"https://placehold.co/300x220/f3e8ff/333333?text=Mind+Journal"},{id:"tea-pack",name:"Herbal Tea Pack",price:8.99,image:"https://placehold.co/300x220/e8f5e9/333333?text=Herbal+Tea"}];function j6(){const[n,e]=L.useState({});function t(s){e(a=>({...a,[s.id]:(a[s.id]??0)+1}))}const r=Object.values(n).reduce((s,a)=>s+a,0);return g.jsx("main",{className:"min-h-screen bg-gradient-to-b from-teal-50 via-white to-purple-50 py-16 px-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Calming Tools"}),g.jsxs("div",{className:"text-slate-700",children:["Cart: ",g.jsx("span",{className:"font-semibold",children:r})]})]}),g.jsx("p",{className:"text-slate-600 mb-10",children:"Discover curated tools designed to help you relax, focus, and feel better daily."}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:M6.map(s=>g.jsxs("div",{className:"bg-white rounded-2xl shadow border border-purple-100 flex flex-col overflow-hidden",children:[g.jsx("div",{className:"h-44 bg-gray-50 flex items-center justify-center",children:g.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[g.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:s.name}),g.jsxs("p",{className:"text-lg font-medium text-slate-700 mt-1",children:["$",s.price.toFixed(2)]}),g.jsxs("div",{className:"mt-auto pt-4 flex gap-2",children:[g.jsx("button",{onClick:()=>t(s),className:"w-full px-4 py-2 rounded-full bg-emerald-600 text-white font-semibold hover:bg-emerald-700",children:"Add to Cart"}),g.jsx("a",{href:"#",className:"w-full text-center px-4 py-2 rounded-full bg-slate-100 text-slate-700 font-semibold hover:bg-slate-200",children:"Details"})]})]})]},s.id))})]})})}function L6(){return L.useMemo(()=>{const n=localStorage.getItem("anon_name");if(n)return n;const e="Anon-"+Math.random().toString(36).slice(2,8);return localStorage.setItem("anon_name",e),e},[])}function Gl(){const{roomId:n="anxiety"}=jE(),e=n||"anxiety",t=L6(),s={anxiety:"Anxiety Peer Group","mindful-living":"Mindful Living Group","stress-management":"Stress Management","young-adults":"Young Adults Wellness"}[e]||"Peer Group",[a,l]=L.useState([]),[d,f]=L.useState(""),[p,y]=L.useState(!1),x=L.useRef(null),E=L.useRef(null);async function A(){if(!Un.currentUser)try{await fm(Un),await new Promise(R=>{const I=Yd(Un,j=>{j&&(I(),R())})})}catch(R){console.error("Anonymous sign-in failed",R)}}L.useEffect(()=>{let R;const I=Yd(Un,async j=>{if(!j){try{await fm(Un)}catch(ee){console.error(ee)}return}y(!0);const U=Nm(on(Ln,"peerRooms",e,"messages"),Dm("createdAtMs","asc"));R=ti(U,ee=>{const ne=[];ee.forEach(le=>ne.push({id:le.id,...le.data()})),l(ne),setTimeout(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},50)},ee=>{console.error("Chat subscribe error",ee)})});return()=>{I(),R&&R()}},[e]);async function M(R){R&&R.preventDefault();const I=d.trim();if(I){f("");try{await A(),await _a(on(Ln,"peerRooms",e,"messages"),{name:t,text:I,createdAt:fa(),createdAtMs:Date.now()})}catch(j){console.error("Failed to send message",j),alert("Failed to send message. Please enable Anonymous Sign-in in Firebase Auth and check Firestore rules.")}}}return g.jsx("main",{className:"min-h-screen py-12 px-6 bg-gradient-to-b from-purple-50 via-white to-teal-50",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:s}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(St,{to:"/support",className:"text-indigo-700 hover:underline",children:" Back to Support"}),g.jsx(St,{to:"/games",className:"px-4 py-2 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold hover:from-purple-700 hover:to-pink-700",children:"Go to Games"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border border-white flex flex-col min-h-[520px]",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Anonymous Chat"}),g.jsxs("span",{className:"text-sm text-slate-500",children:["You are: ",g.jsx("strong",{children:t})]})]}),g.jsx("div",{ref:x,className:"flex-1 overflow-y-auto space-y-3 p-2 rounded-xl bg-slate-50",children:a.map(R=>g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-xs text-slate-500 mb-0.5",children:R.name}),g.jsx("div",{className:"inline-block max-w-[90%] px-3 py-2 rounded-2xl bg-indigo-50 text-slate-800",children:R.text})]},R.id))}),g.jsxs("form",{onSubmit:M,className:"mt-3 flex gap-2",children:[g.jsx("input",{value:d,onChange:R=>f(R.target.value),placeholder:"Type a message",className:"flex-1 px-4 py-2 rounded-full border focus:outline-none focus:ring-2 focus:ring-indigo-400"}),g.jsx("button",{className:"px-5 py-2 rounded-full bg-indigo-600 text-white font-semibold hover:bg-indigo-700",children:"Send"})]})]}),g.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border border-white",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"One-to-One Video Call"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>E.current?.toggleMic(),className:"px-3 py-2 rounded-full bg-slate-200 hover:bg-slate-300 text-slate-800 font-semibold",children:"Mic On/Off"}),g.jsx("button",{onClick:()=>E.current?.toggleCam(),className:"px-3 py-2 rounded-full bg-slate-200 hover:bg-slate-300 text-slate-800 font-semibold",children:"Camera On/Off"})]})]}),g.jsx("p",{className:"text-slate-600 mb-3",children:"Create a call and share the Call ID in chat, or join a peer's call with their ID."}),g.jsx(_I,{ref:E})]})]})]})})}const O6={iceServers:[{urls:["stun:stun.l.google.com:19302"]}],iceCandidatePoolSize:10};function F6(){return L.useMemo(()=>{const n=localStorage.getItem("anon_name");if(n)return n;const e="Anon-"+Math.random().toString(36).slice(2,8);return localStorage.setItem("anon_name",e),e},[])}function ql(){const{roomId:n="anxiety"}=jE(),e=n||"anxiety",t=F6(),r=L.useRef(null),s=L.useRef(null),a=L.useRef(null),l=L.useRef(null),d=L.useRef(null),[f,p]=L.useState(null),[y,x]=L.useState("Matching..."),[E,A]=L.useState(""),[M,R]=L.useState([]),I=L.useRef(null);function j(){if(!a.current||a.current.signalingState==="closed"){a.current=new RTCPeerConnection(O6);const S=new MediaStream;d.current=S,s.current&&(s.current.srcObject=S),a.current.ontrack=N=>N.streams[0].getTracks().forEach(V=>S.addTrack(V))}return a.current}async function U(){Un.currentUser||(await fm(Un).catch(()=>{}),await new Promise(S=>{const N=Yd(Un,V=>{V&&(N(),S())})}))}async function q(){if(l.current)return;const S=j(),N=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});l.current=N,S.getSenders().forEach(V=>{try{S.removeTrack(V)}catch{}}),N.getTracks().forEach(V=>S.addTrack(V,N)),r.current&&(r.current.srcObject=N,await r.current.play().catch(()=>{}))}L.useEffect(()=>{let S=!1;return(async()=>(await U(),await q(),S||await ee()))(),()=>{S=!0;try{a.current?.getSenders().forEach(N=>N.track?.stop()),a.current?.close()}catch{}}},[e]),L.useEffect(()=>{if(!f)return;const S=on(Ln,"peerCalls",f,"messages"),N=Nm(S,Dm("createdAtMs","asc")),V=ti(N,F=>{const P=[];F.forEach(ye=>P.push({id:ye.id,...ye.data()})),R(P),setTimeout(()=>{I.current&&(I.current.scrollTop=I.current.scrollHeight)},30)});return()=>V()},[f]);async function ee(){await U();const S=on(Ln,"peerQueue",e,"tickets"),N=Nm(S,Dm("createdAt","asc"),G5(1));let V=!1;await new Promise(F=>{const P=ti(N,async ye=>{P();const Pe=ye.docs;if(Pe.length>0){const Ve=Pe[0];try{await gI(Ve.ref),await le(Ve.id),V=!0}catch{}}F()})}),V||await ne()}async function ne(){x("Waiting for a peer...");const S=j(),N=as(on(Ln,"calls")),V=on(N,"offerCandidates"),F=on(N,"answerCandidates");S.onicecandidate=async ye=>{ye.candidate&&await _a(V,ye.candidate.toJSON())};const P=await S.createOffer();await S.setLocalDescription(P),await xa(N,{offer:{type:P.type,sdp:P.sdp},createdAt:fa()}),await xa(as(Ln,"peerQueue",e,"tickets",N.id),{createdAt:fa()}),ti(N,ye=>{const Ve=ye.data()?.answer;Ve&&!S.currentRemoteDescription&&(S.setRemoteDescription(new RTCSessionDescription(Ve)),x("Connected"),p(N.id))}),ti(F,ye=>{ye.docChanges().forEach(Pe=>{Pe.type==="added"&&S.addIceCandidate(new RTCIceCandidate(Pe.doc.data()))})})}async function le(S){x("Connecting...");const N=j(),V=as(Ln,"calls",S),F=(await pI(V)).data();if(!F?.offer){await ne();return}const P=F.offer;await N.setRemoteDescription(new RTCSessionDescription(P)),N.onicecandidate=async Pe=>{Pe.candidate&&await _a(on(V,"answerCandidates"),Pe.candidate.toJSON())};const ye=await N.createAnswer();await N.setLocalDescription(ye),await xa(V,{answer:{type:ye.type,sdp:ye.sdp},answeredAt:fa()},{merge:!0}),ti(on(V,"offerCandidates"),Pe=>{Pe.docChanges().forEach(Ve=>{Ve.type==="added"&&N.addIceCandidate(new RTCIceCandidate(Ve.doc.data()))})}),p(S),x("Connected")}async function k(S){S&&S.preventDefault();const N=E.trim();if(!(!N||!f)){A("");try{await U(),await _a(on(Ln,"peerCalls",f,"messages"),{name:t,text:N,createdAt:fa(),createdAtMs:Date.now()})}catch(V){console.error("sendMessage failed",V)}}}const b={anxiety:"Anxiety Peer Group","mindful-living":"Mindful Living Group","stress-management":"Stress Management","young-adults":"Young Adults Wellness"};return g.jsx("main",{className:"min-h-screen py-12 px-6 bg-gradient-to-b from-teal-50 via-white to-purple-50",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 bg-clip-text text-transparent",children:b[e]||"Peer Quick Call"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-slate-600",children:y}),g.jsx(St,{to:`/support/peer/${e}`,className:"text-emerald-700 hover:underline",children:" Back to Group"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border border-white flex flex-col",children:[g.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[g.jsx("video",{ref:r,muted:!0,playsInline:!0,className:"w-full md:w-1/2 rounded-2xl bg-black/80 aspect-video"}),g.jsx("video",{ref:s,playsInline:!0,className:"w-full md:w-1/2 rounded-2xl bg-black/80 aspect-video"})]}),g.jsxs("div",{className:"mt-4 flex gap-2",children:[g.jsx("button",{onClick:()=>{l.current?.getAudioTracks().forEach(S=>S.enabled=!S.enabled)},className:"px-4 py-2 rounded-full bg-slate-200 hover:bg-slate-300",children:"Mic On/Off"}),g.jsx("button",{onClick:()=>{l.current?.getVideoTracks().forEach(S=>S.enabled=!S.enabled)},className:"px-4 py-2 rounded-full bg-slate-200 hover:bg-slate-300",children:"Camera On/Off"})]})]}),g.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border border-white flex flex-col min-h-[420px]",children:[g.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-3",children:"In-Call Chat"}),g.jsx("div",{ref:I,className:"flex-1 overflow-y-auto space-y-3 p-2 rounded-xl bg-slate-50",children:M.map(S=>g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-xs text-slate-500 mb-0.5",children:S.name}),g.jsx("div",{className:"inline-block max-w-[90%] px-3 py-2 rounded-2xl bg-indigo-50 text-slate-800",children:S.text})]},S.id))}),g.jsxs("form",{onSubmit:k,className:"mt-3 flex gap-2",children:[g.jsx("input",{value:E,onChange:S=>A(S.target.value),placeholder:"Type a message",className:"flex-1 px-4 py-2 rounded-full border focus:outline-none focus:ring-2 focus:ring-indigo-400"}),g.jsx("button",{className:"px-5 py-2 rounded-full bg-indigo-600 text-white font-semibold hover:bg-indigo-700",children:"Send"})]})]})]})]})})}function U6(){return g.jsx(X5,{children:g.jsx(AN,{children:g.jsxs(sN,{children:[g.jsx(vt,{path:"/",element:g.jsx(O_,{})}),g.jsx(vt,{path:"/login",element:g.jsx(x6,{})}),g.jsx(vt,{path:"/signup",element:g.jsx(E6,{})}),g.jsx(vt,{path:"/games/candy-match",element:g.jsx(S6,{})}),g.jsx(vt,{path:"/games/heal-avatar",element:g.jsx(A6,{})}),g.jsx(vt,{path:"/games/word-puzzle",element:g.jsx(P6,{})}),g.jsx(vt,{path:"/mindfulness",element:g.jsx(R6,{})}),g.jsx(vt,{path:"/support/video-call",element:g.jsx(V6,{})}),g.jsx(vt,{path:"/shop",element:g.jsx(j6,{})}),g.jsx(vt,{path:"/support/peer/:roomId",element:g.jsx(Gl,{})}),g.jsx(vt,{path:"/support/peer/anxiety",element:g.jsx(Gl,{})}),g.jsx(vt,{path:"/support/peer/mindful-living",element:g.jsx(Gl,{})}),g.jsx(vt,{path:"/support/peer/stress-management",element:g.jsx(Gl,{})}),g.jsx(vt,{path:"/support/peer/young-adults",element:g.jsx(Gl,{})}),g.jsx(vt,{path:"/support/peer-quick/:roomId",element:g.jsx(ql,{})}),g.jsx(vt,{path:"/support/peer-quick/anxiety",element:g.jsx(ql,{})}),g.jsx(vt,{path:"/support/peer-quick/mindful-living",element:g.jsx(ql,{})}),g.jsx(vt,{path:"/support/peer-quick/stress-management",element:g.jsx(ql,{})}),g.jsx(vt,{path:"/support/peer-quick/young-adults",element:g.jsx(ql,{})}),g.jsx(vt,{path:"*",element:g.jsx(O_,{})})]})})})}function O_(){return g.jsxs("div",{className:"min-h-screen bg-white overflow-x-hidden",children:[g.jsx(n6,{}),g.jsx(r6,{}),g.jsx(s6,{}),g.jsx(w6,{}),g.jsx(l6,{}),g.jsx(xI,{}),g.jsx(h6,{}),g.jsx(p6,{}),g.jsx(g6,{}),g.jsx(v6,{})]})}LS.createRoot(document.getElementById("root")).render(g.jsx(Fp.StrictMode,{children:g.jsx(U6,{})}));
